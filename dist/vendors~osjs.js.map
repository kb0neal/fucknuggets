{"version":3,"sources":["webpack:///osjsClient/webpack/universalModuleDefinition","webpack:///osjsClient/webpack/bootstrap","webpack:///osjsClient/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/createClass.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/inherits.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///osjsClient/osjsEventEmitter/webpack/universalModuleDefinition","webpack:///osjsClient/osjsEventEmitter/webpack/bootstrap","webpack:///osjsClient/osjsEventEmitter/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///osjsClient/osjsEventEmitter/node_modules/@babel/runtime/helpers/createClass.js","webpack:///osjsClient/osjsEventEmitter/index.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/get.js","webpack:///osjsClient/node_modules/deepmerge/dist/cjs.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///osjsClient/src/library.ts","webpack:///osjsClient/node_modules/@babel/runtime/regenerator/index.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///osjsClient/node_modules/isobject/index.js","webpack:///osjsClient/node_modules/omit-deep/index.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/typeof.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///osjsClient/src/graph.ts","webpack:///osjsClient/src/mutex.ts","webpack:///osjsClient/node_modules/is-plain-object/index.js","webpack:///osjsClient/node_modules/unset-value/index.js","webpack:///osjsClient/node_modules/has-value/index.js","webpack:///osjsClient/node_modules/has-value/node_modules/isobject/index.js","webpack:///osjsClient/node_modules/isarray/index.js","webpack:///osjsClient/node_modules/has-values/index.js","webpack:///osjsClient/node_modules/get-value/index.js","webpack:///osjsClient/node_modules/regenerator-runtime/runtime.js","webpack:///osjsClient/src/core.js","webpack:///osjsClient/src/utils.js","webpack:///osjsClient/src/service-provider.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///osjsClient/node_modules/simplejsonconf/dist/main.js","webpack:///osjsClient/(webpack)/buildin/global.js","webpack:///osjsClient/node_modules/css-mediaquery/index.js","webpack:///osjsClient/node_modules/dateformat/lib/dateformat.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/construct.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///osjsClient/node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack:///osjsClient/src/styles/logo-blue-32x32.png","webpack:///osjsClient/src/logger.js","webpack:///osjsClient/src/utils/windows.js","webpack:///osjsClient/src/websocket.js","webpack:///osjsClient/src/utils/dnd.js","webpack:///osjsClient/src/utils/dom.js","webpack:///osjsClient/src/window.js","webpack:///osjsClient/src/application.js","webpack:///osjsClient/src/utils/locale.js","webpack:///osjsClient/src/splash.js","webpack:///osjsClient/src/styles/wallpaper.png","webpack:///osjsClient/src/config.js","webpack:///osjsClient/src/utils/fetch.js","webpack:///osjsClient/src/utils/url.js","webpack:///osjsClient/src/utils/input.js","webpack:///osjsClient/node_modules/hyperapp/src/index.js","webpack:///osjsClient/src/utils/vfs.js","webpack:///osjsClient/src/utils/desktop.js","webpack:///osjsClient/src/adapters/ui/iconview.js","webpack:///osjsClient/src/utils/colors.js","webpack:///osjsClient/src/adapters/ui/search.js","webpack:///osjsClient/src/search.js","webpack:///osjsClient/src/desktop.js","webpack:///osjsClient/src/notification.js","webpack:///osjsClient/src/notifications.js","webpack:///osjsClient/src/window-behavior.js","webpack:///osjsClient/src/adapters/ui/login.js","webpack:///osjsClient/src/login.js","webpack:///osjsClient/src/adapters/auth/localstorage.js","webpack:///osjsClient/src/auth.js","webpack:///osjsClient/src/adapters/auth/server.js","webpack:///osjsClient/src/session.js","webpack:///osjsClient/src/utils/preloader.js","webpack:///osjsClient/src/utils/packages.js","webpack:///osjsClient/src/packages.js","webpack:///osjsClient/src/tray.js","webpack:///osjsClient/src/clipboard.js","webpack:///osjsClient/src/locale/en_EN.js","webpack:///osjsClient/src/locale/fr_FR.js","webpack:///osjsClient/src/locale/nb_NO.js","webpack:///osjsClient/src/locale/sl_SI.js","webpack:///osjsClient/src/locale/vi_VN.js","webpack:///osjsClient/src/locale/de_DE.js","webpack:///osjsClient/src/locale/zh_CN.js","webpack:///osjsClient/src/locale/fa_FA.js","webpack:///osjsClient/src/locale/pt_BR.js","webpack:///osjsClient/src/locale/ru_RU.js","webpack:///osjsClient/src/basic-application.js","webpack:///osjsClient/src/providers/core.js","webpack:///osjsClient/src/providers/desktop.js","webpack:///osjsClient/src/providers/notifications.js","webpack:///osjsClient/src/vfs.js","webpack:///osjsClient/src/adapters/vfs/null.js","webpack:///osjsClient/src/adapters/vfs/system.js","webpack:///osjsClient/src/adapters/vfs/apps.js","webpack:///osjsClient/src/filesystem.js","webpack:///osjsClient/src/providers/vfs.js","webpack:///osjsClient/src/providers/auth.js","webpack:///osjsClient/src/adapters/settings/localstorage.js","webpack:///osjsClient/src/settings.js","webpack:///osjsClient/src/adapters/settings/server.js","webpack:///osjsClient/src/providers/settings.js","webpack:///osjsDialogs/webpack/universalModuleDefinition","webpack:///osjsDialogs/webpack/bootstrap","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/createClass.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/get.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/inherits.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///osjsDialogs/node_modules/@babel/runtime/regenerator/index.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/typeof.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///osjsDialogs/node_modules/is-plain-object/index.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///osjsDialogs/node_modules/isobject/index.js","webpack:///osjsDialogs/node_modules/regenerator-runtime/runtime.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///osjsDialogs/node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///osjsDialogs/node_modules/hyperapp/src/index.js","webpack:///osjsDialogs/node_modules/deepmerge/dist/es.js","webpack:///osjsDialogs/src/components/Element.js","webpack:///osjsDialogs/src/components/Box.js","webpack:///osjsDialogs/src/components/BoxContainer.js","webpack:///osjsDialogs/src/components/BoxStyled.js","webpack:///osjsDialogs/src/components/Icon.js","webpack:///osjsDialogs/src/utils.js","webpack:///osjsDialogs/src/element.js","webpack:///osjsDialogs/src/components/Button.js","webpack:///osjsDialogs/src/components/Progressbar.js","webpack:///osjsDialogs/src/components/Menu.js","webpack:///osjsDialogs/src/components/Toolbar.js","webpack:///osjsDialogs/node_modules/hyperapp-nestable/src/index.js","webpack:///osjsDialogs/src/components/Panes.js","webpack:///osjsDialogs/src/components/ListView.js","webpack:///osjsDialogs/src/components/Tabs.js","webpack:///osjsDialogs/src/components/IconView.js","webpack:///osjsDialogs/src/components/TextField.js","webpack:///osjsDialogs/src/components/TextareaField.js","webpack:///osjsDialogs/src/components/SelectField.js","webpack:///osjsDialogs/src/components/ToggleField.js","webpack:///osjsDialogs/src/components/RangeField.js","webpack:///osjsDialogs/src/components/Expander.js","webpack:///osjsDialogs/src/components/Label.js","webpack:///osjsDialogs/src/contextmenu.js","webpack:///osjsDialogs/src/provider.js","webpack:///osjsDialogs/src/dialog.js","webpack:///osjsDialogs/src/dialogs/alert.js","webpack:///osjsDialogs/src/dialogs/confirm.js","webpack:///osjsDialogs/src/dialogs/prompt.js","webpack:///osjsDialogs/src/dialogs/progress.js","webpack:///osjsDialogs/src/dialogs/color.js","webpack:///osjsDialogs/src/dialogs/font.js","webpack:///osjsDialogs/src/dialogs/file.js","webpack:///osjsDialogs/src/dialogs/choice.js","webpack:///osjsDialogs/src/dialogs/default-application.js","webpack:///osjsDialogs/src/dialogs/custom.js","webpack:///../node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///../node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///../node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///../node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///../node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///../node_modules/hyperapp/src/index.js","webpack:///../src/components/Element.js","webpack:///../src/components/Box.js","webpack:///../src/components/BoxContainer.js","webpack:///../src/components/BoxStyled.js","webpack:///../node_modules/@babel/runtime/helpers/typeof.js","webpack:///../src/components/Icon.js","webpack:///../node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///../src/utils.js","webpack:///../src/element.js","webpack:///../src/components/Button.js","webpack:///../src/components/Progressbar.js","webpack:///../src/components/Menu.js","webpack:///../src/components/Toolbar.js","webpack:///../src/components/Statusbar.js","webpack:///../src/components/Menubar.js","webpack:///../node_modules/hyperapp-nestable/src/index.js","webpack:///../src/components/Panes.js","webpack:///../src/components/ListView.js","webpack:///../src/components/IconView.js","webpack:///../src/components/Image.js","webpack:///../src/components/Video.js","webpack:///../src/components/Tabs.js","webpack:///../src/components/Iframe.js","webpack:///../src/components/TextField.js","webpack:///../src/components/TextareaField.js","webpack:///../src/components/SelectField.js","webpack:///../src/components/ToggleField.js","webpack:///../src/components/RangeField.js","webpack:///../src/components/Expander.js","webpack:///../src/components/Label.js","webpack:///../node_modules/regenerator-runtime/runtime.js","webpack:///../node_modules/@babel/runtime/regenerator/index.js","webpack:///../node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///../node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///../node_modules/@babel/runtime/helpers/createClass.js","webpack:///../src/contextmenu.js","webpack:///../src/provider.js","webpack:///osjsPanels/webpack/universalModuleDefinition","webpack:///osjsPanels/webpack/bootstrap","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/createClass.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/inherits.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/get.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///osjsPanels/node_modules/@babel/runtime/regenerator/index.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///osjsPanels/node_modules/@osjs/event-emitter/dist/main.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///osjsPanels/node_modules/regenerator-runtime/runtime.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/typeof.js","webpack:///osjsPanels/(webpack)/buildin/global.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///osjsPanels/node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///osjsPanels/node_modules/hyperapp/src/index.js","webpack:///osjsPanels/src/panel-item.js","webpack:///osjsPanels/src/locales.js","webpack:///osjsPanels/src/panel.js","webpack:///osjsPanels/src/items/windows.js","webpack:///osjsPanels/src/items/tray.js","webpack:///osjsPanels/src/items/clock.js","webpack:///osjsPanels/src/logo-blue-32x32.png","webpack:///osjsPanels/src/items/menu.js","webpack:///osjsPanels/src/provider.js"],"names":["root","factory","module","exports","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","protoProps","staticProps","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arr","subClass","superClass","constructor","_typeof","assertThisInitialized","self","getEventNames","Array","String","replace","split","EventEmitter","this","events","e","callback","options","forEach","push","on","once","force","filter","ev","persist","splice","args","console","warn","superPropBase","_get","receiver","Reflect","base","desc","getOwnPropertyDescriptor","isMergeableObject","stringValue","toString","$$typeof","REACT_ELEMENT_TYPE","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","val","isArray","defaultArrayMerge","source","concat","map","element","getKeys","keys","getOwnPropertySymbols","symbol","propertyIsEnumerable","propertyIsOnObject","_","arrayMerge","sourceIsArray","destination","customMerge","getMergeFunction","mergeObject","all","array","Error","reduce","prev","next","deepmerge_1","ReferenceError","require","len","arr2","isObject","unset","omitDeep","j","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","fn","arguments","apply","err","_setPrototypeOf","iterator","arrayLikeToArray","iter","from","minLen","slice","test","mutex","_this","isObjectObject","ctor","prot","has","prop","segs","last","pop","shift","hasValues","noZero","join","a","b","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","state","method","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","result","__await","unwrapped","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","doneResult","displayName","isGeneratorFunction","genFun","mark","awrap","async","reverse","skipTempReset","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","CoreBase","defaultConfiguration","configuration","merger","merge","omitted","omit","logger","booted","started","destroyed","providers","core","instances","registry","createGraph","list","graph","Graph","provides","provider","addNode","Node","wants","dependsOptions","depends","dependsInstance","dindex","findIndex","some","indexOf","addDependency","traverse","register","ref","init","before","singleton","make","found","find","destroy","providerHandler","promises","defaultValue","tree","assign","ServiceProvider","isNonNullObject","isReactElement","isSpecial","getEnumerableOwnPropertySymbols","propertyIsUnsafe","arrayWithHoles","iterableToArrayLimit","nonIterableRest","default","u","f","JSON","parse","stringify","y","set","remove","return","g","match","mediaQuery","parseQuery","query","inverse","typeMatch","expressionsMatch","expressions","every","expression","feature","modifier","expValue","toLowerCase","toPx","toDpi","toDecimal","parseInt","RE_MEDIA_QUERY","RE_MQ_EXPRESSION","RE_MQ_FEATURE","RE_LENGTH_UNIT","RE_RESOLUTION_UNIT","captures","trim","parsed","ratio","numbers","decimal","Number","resolution","parseFloat","global","token","timezone","timezoneClip","dateFormat","date","mask","utc","gmt","kindOf","undefined","Date","maskSlice","masks","D","H","M","L","getTimezoneOffset","W","getWeek","N","getDayOfWeek","flags","dd","pad","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","h","hh","HH","MM","ss","Math","round","timeNames","tt","T","TT","Z","floor","abs","S","targetThursday","getFullYear","getMonth","getDate","setDate","getDay","firstThursday","ds","setHours","getHours","weekDiff","dow","isNativeReflectConstruct","_construct","Parent","Class","construct","_arr","_n","_d","_e","_s","_i","sham","Proxy","methods","middleware","input","current","bindMethod","log","thisArg","assignMethods","addMiddleware","clearMiddleware","createAttributes","attrs","classNames","modal","ontop","gravity","moveable","resizable","focusable","maximizable","minimizable","sessionable","closeable","header","controls","visibility","shadowDOM","clamp","droppable","mediaQueries","small","medium","big","minDimension","width","height","maxDimension","createState","title","id","icon","defaultIcon","media","moving","resizing","loading","focused","maximized","minimized","zIndex","styles","position","left","top","dimension","max","clampPosition","rect","maxLeft","maxTop","min","renderCallback","win","attributes","$content","attachShadow","resizer","maxPosition","clamper","directions","getAttribute","going","dir","xDir","yDir","diffX","diffY","getMediaQueryName","orientation","screen","matchMedia","$element","offsetWidth","offsetHeight","loadOptionsFromConfig","config","appName","windowId","matchStringOrRegex","str","matcher","RegExp","application","foundOptions","eventNames","Websocket","uri","debug","closed","connected","connecting","reconnecting","connectfailed","reconnect","interval","open","connection","_attachEvents","clearInterval","reconnected","emit","_destroyConnection","setInterval","WebSocket","send","close","retval","getDataTransfer","data","files","dataTransfer","transfer","getData","setDataTransfer","effect","setDragImage","hasDragImage","transferData","el","effectAllowed","setData","draggable","ondragstart","ondragend","setter","dragstart","setAttribute","dragend","removeAttribute","removeEventListener","classList","addEventListener","add","ondragenter","ondragover","ondragleave","ondrop","strict","dragenter","dragleave","dragover","preventDefault","contains","stopPropagation","dropEffect","drop","supported","supportsNativeNotification","style","src","document","createElement","onload","onerror","appendChild","script","onreadystatechange","readyState","createCssText","k","supportsPassive","opts","playSound","volume","audio","Audio","voule","play","supportsTransition","windows","windowCount","nextZindex","lastWindow","TEMPLATE","Window","parent","template","ondestroy","wid","children","rendered","inited","$header","$icon","$title","_preventDefaultPosition","_loadingDebounce","_template","_ondestroy","_lastCssText","_lastAttributes","w","foundIndex","_initTemplate","_initBehavior","tpl","innerHTML","querySelector","transform","attr","isInteger","transformVectors","getRect","behavior","setState","focus","_setClassNames","_updateButtons","_updateAttributes","_updateStyles","_updateTitle","_updateIconStyles","_updateHeaderStyles","_checkModal","gravitate","clampToViewport","setNextZindex","$contents","setTimeout","_toggleState","_focus","blur","activeElement","ae","getActiveElement","_maximize","toggle","container","firstChild","innerBox","parentNode","getBoundingClientRect","outerBox","ceil","topHeight","dimensionFromElement","setDimension","update","_checkNextZindex","setZindex","_setState","clearTimeout","hasVertical","hasHorizontal","positionFromGravity","setPosition","oldValue","eventName","windexes","buttonmap","action","display","querySelectorAll","escapedTitle","text","div","textContent","iconSource","backgroundImage","headerDisplay","applyAttrs","cssText","lang","applications","applicationCount","getSettingsKey","metadata","Application","defaultSettings","settings","pid","windowAutoFocus","workers","requestOptions","sockets","ws","worker","terminate","getSession","run","forcePreload","restore","path","url","resource","request","socket","filename","Worker","credentials","msg","translate","configWindows","applyOptions","minimize","maximize","defaultFilter","proc","filterFn","service","save","Splash","$loading","className","show","createTextNode","$root","prefixMap","nb","sprintfRegex","sprintfMatcher","getLocale","defaultLocale","getDefaultLocale","userLocale","getUserLocale","getFromList","ul","dl","fallbackList","localizedList","fmt","translatableFlat","translatable","clientLocale","nav","browserLanguage","userLanguage","language","toUpperCase","langs","languages","browserLocale","navigator","acceptedLocales","lenght","createUri","pathname","location","href","en_EN","nb_NO","vi_VN","fr_FR","de_DE","sl_SI","zh_CN","fa_FA","pt_BR","ru_RU","development","process","standalone","http","ping","public","connectInterval","disabled","packages","manifest","hidden","permissions","pinned","autostart","categories","label","science","games","graphics","network","multimedia","office","system","utilities","other","auth","ui","login","username","password","defaultUserData","groups","lock","defaults","search","enabled","notifications","native","desktop","contextmenu","font","theme","sounds","icons","animations","panels","items","widgets","keybindings","background","defaultWallpaper","color","iconview","fontColorStyle","fontColor","locale","rtl","format","shortDate","mediumDate","longDate","fullDate","shortTime","longTime","lofi","mobile","moveKeybinding","vfs","watch","defaultPath","defaultAdapter","adapters","mountpoints","adapter","readOnly","globalBlacklist","globalWhitelist","bodyTypes","ArrayBuffer","ArrayBufferView","Blob","File","URLSearchParams","FormData","createFetchOptions","fetchOptions","headers","body","encodeURIComponent","hasBody","stringBody","fetch","createErrorRejection","response","status","statusText","ok","contentType","json","urlResolver","endpoint","prefix","Core","splash","$resourceRoot","resourceRoot","user","protocol","host","destroyAll","groupEnd","start","group","defaultData","load","_createListeners","_createConnection","getApplications","pingTime","cookie","maxAge","cb","wasConnected","params","message","launch","file","mime","app","compatible","getCompatiblePackages","_openApplicationDialog","useDefault","choices","forceDialog","btn","choice","checked","pkg","apps","modifierNames","matchKeyCombo","combo","checkKeys","keyName","getEvent","clientX","clientY","touch","touches","changedTouches","rest","node","nodeName","actions","view","skipRender","rootElement","oldNode","recycleElement","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","wiredActions","wireStateToActions","getPartialState","scheduleRender","setPartialState","resolveNode","render","patch","isSvg","newElement","createElementNS","oncreate","updateAttribute","insertBefore","removeElement","oldAttributes","onupdate","updateElement","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","newKey","keyedNode","out","eventListener","event","currentTarget","setProperty","removeChild","removeChildren","onremove","parentDirectory","item","index","pathJoin","sortString","localeCompare","sortDate","sortDefault","sortFn","sortMap","size","mtime","ctime","atime","createSpecials","specials","isDirectory","isFile","stat","createFileReader","ab","FileReader","onloadend","humanFileSize","bytes","si","thresh","units","toFixed","transformReaddir","showHiddenFiles","sortBy","sortDir","filterHidden","substr","sorter","modify","humanSize","sortedSpecial","sort","sortedDirectories","sortedFiles","transformArrayBuffer","getFileIcon","re","createFileIter","parent_id","basename","parseMontpointPrefix","filterMountByGroups","userGroups","mountGroups","createWatchEvents","movement","imageDropMimes","validVfsDrop","isDroppingImage","createPanelSubtraction","panel","subtraction","right","bottom","isVisible","getState","resourceResolver","elem","canPlayType","mp3","mp4","oga","video","ogv","getThemeName","defaultTheme","getSoundThemeName","themeResource","soundResource","soundsEnabled","tapper","timer","timeout","tapped","doubleTap","onDropAction","shortcut","addEntry","uploadEntries","isRootElement","DesktopIconView","oldRoot","reload","_render","fileIcon","themeIcon","copy","readdir","readfile","writefile","unlink","mkdir","shortcuts","read","contents","write","createShortcuts","supressError","results","readDesktopFolder","selected","entries","setEntries","openDropContextMenu","droppedImage","createDropContextMenu","openContextMenu","createFileContextMenu","createRootContextMenu","openEntry","selectEntry","dest","removeEntry","fromUI","class","oncontextmenu","onclick","shiftKey","ontouchstart","ondblclick","applySettings","_createWatcher","menu","listener","off","hex","backgroundColor","invert","custom","fs","resultView","scrollIntoView","visible","placeholder","onblur","oninput","setQuery","onkeydown","keyCode","setPreviousIndex","setNextIndex","resetIndex","hide","onkeypress","createView","ee","hyperapp","setError","setResults","Search","focusLastWindow","createUI","pattern","mount","lists","Desktop","$theme","$icons","contextmenuEntries","keyboardContext","subtract","_removeIcons","_removeTheme","initConnectionEvents","initUIEvents","initDragEvents","initKeyboardEvents","initGlobalKeyboardEvents","initMouseEvents","initBaseEvents","initLocales","initDeveloperTray","_updateCSS","_clampWindows","tray","onDeveloperMenu","onDropContextMenu","isWithin","isWithinWindow","isWithinContext","forwardKeyEvent","selectionStart","selectionEnd","tagName","isInput","substring","onContextMenu","moved","onmousemove","onmouseup","resizeDebounce","history","pushState","URL","rtls","checkRTL","isRtl","isMobile","resize","getWindows","newSettings","lockSettings","userSettings","applyOverlays","removeAll","fontFamily","backgroundRepeat","backgroundPosition","backgroundSize","applyBackgroundStyles","applyTheme","applyIcons","applyIconView","_applyTheme","elements","errors","v","storageItems","clear","relaunch","extras","hasIconview","useDefaults","__","themes","getPackages","defaultItems","_applySettingsByKey","provided","ctx","Notification","defaultLabel","sound","renderCustom","Notif","notification","permission","requestPermission","createNativeNotification","Notifications","setElementStyles","createElementStyles","defaultPosition","carry","isPassive","touchArg","passive","actionMap","WindowBehavior","lastAction","$lofi","mousedown","onmousedown","click","dblclick","onicondblclick","iconDblclick","oniconclick","iconClick","ontrasitionend","pos","startX","startY","newX","CASCADE_DISTANCE","getCascadePosition","raise","actionCallback","attributeSet","checkMove","move","mover","mousemove","transformedEvent","posX","posY","mouseup","createFields","fields","field","autocapitalize","autocomplete","logo","createSide","side","formFields","stamp","onsubmit","submit","startHidden","$container","setLoading","Login","localStorageAuth","defaultAdapters","server","logout","localStorage","createUi","defaultUi","createAdapter","Auth","autologin","shutdown","Session","session","fresh","Preloader","loaded","cached","success","_load","successes","res","failed","createPackageAvailabilityCheck","getUser","checks","strictGroups","perm","blacklist","Packages","_running","preloader","_autostart","addPackages","_launchTheme","_launchApplication","signaled","foundApp","_launch","preloads","canLaunch","dialog","alert","stack","fail","meta","configured","append","filterAvailable","mimeType","mimes","Tray","handler","defaultTitle","Clipboard","clipboard","ERR_REQUEST_STANDALONE","ERR_REQUEST_NOT_OK","ERR_VFS_MOUNT_NOT_FOUND","ERR_VFS_MOUNT_NOT_FOUND_FOR","ERR_VFS_MOUNT_NOT_MOUNTED","ERR_VFS_MOUNT_ALREADY_MOUNTED","ERR_VFS_PATH_FORMAT_INVALID","ERR_PACKAGE_PERMISSION_DENIED","ERR_PACKAGE_NOT_FOUND","ERR_PACKAGE_LOAD","ERR_PACKAGE_NO_RUNTIME","ERR_PACKAGE_NO_METADATA","ERR_PACKAGE_EXCEPTION","ERR_WINDOW_ID_EXISTS","ERR_INVALID_LOCALE","LBL_CONNECTION_LOST","LBL_CONNECTION_LOST_MESSAGE","LBL_CONNECTION_RESTORED","LBL_CONNECTION_RESTORED_MESSAGE","LBL_CONNECTION_FAILED","LBL_CONNECTION_FAILED_MESSAGE","LBL_APP_CAT_DEVELOPMENT","LBL_APP_CAT_SCIENCE","LBL_APP_CAT_GAMES","LBL_APP_CAT_GRAPHICS","LBL_APP_CAT_NETWORK","LBL_APP_CAT_MULTIMEDIA","LBL_APP_CAT_OFFICE","LBL_APP_CAT_SYSTEM","LBL_APP_CAT_UTILITIES","LBL_APP_CAT_OTHER","LBL_LAUNCH_SELECT","LBL_LAUNCH_SELECT_MESSAGE","LBL_DESKTOP_SELECT_WALLPAPER","LBL_DESKTOP_SELECT_THEME","LBL_SEARCH_TOOLTOP","LBL_SEARCH_PLACEHOLDER","LBL_SEARCH_WAIT","LBL_SEARCH_RESULT","LBL_DESKTOP_SET_AS_WALLPAPER","LBL_FS_B","LBL_FS_M","LBL_FS_G","LBL_FS_KIB","LBL_FS_MIB","LBL_FS_GIB","LBL_TOP","LBL_LEFT","LBL_RIGHT","LBL_BOTTOM","LBL_MENU","LBL_ERROR","LBL_INFO","LBL_MESSAGE","LBL_WARNINIG","LBL_SUCCESS","LBL_FAILURE","LBL_WINDOW","LBL_WINDOWS","LBL_NOTIFICATION","LBL_NOTIFICATIONS","LBL_TRAY","LBL_NAME","LBL_TYPE","LBL_SIZE","LBL_FILE","LBL_NEW","LBL_OPEN","LBL_OPEN_WITH","LBL_SAVE","LBL_SAVEAS","LBL_OK","LBL_ABORT","LBL_CANCEL","LBL_CLOSE","LBL_QUIT","LBL_YES","LBL_NO","LBL_GO","LBL_MKDIR","LBL_MKFILE","LBL_COPY","LBL_PASTE","LBL_CUT","LBL_MOVE","LBL_RENAME","LBL_DELETE","LBL_DOWNLOAD","LBL_REFRESH","LBL_RELOAD","LBL_HOME","LBL_VIEW","LBL_HELP","LBL_ABOUT","LBL_APPLICATION","LBL_APPLICATIONS","LBL_KILL","LBL_KILL_ALL","LBL_MINIMIZE","LBL_MAXIMIZE","LBL_RESTORE","LBL_RAISE","LBL_SHADE","LBL_UNSHADE","LBL_ONTOP","LBL_RESIZE","LBL_BACK","LBL_FORWARD","LBL_UPLOAD","LBL_IMAGE","LBL_CREATE_SHORTCUT","LBL_REMOVE_SHORTCUT","LBL_EDIT","BasicApplication","mimeTypes","loadMimeTypes","saveMimeTypes","defaultFilename","currentFile","_createTitle","setTitle","getDialogOptions","_setFile","updateWindowTitle","createDialog","CoreServiceProvider","pm","OSjs","createGlobalApi","registerContracts","_onDistChanged","_onPackageChanged","createWindowContract","createLocaleContract","createDnDContract","createDOMContract","createThemeContract","createSoundsContract","createSessionContract","createPackagesContract","createClipboardContract","createTrayContract","windowBehavior","freeze","blacklisted","notWhitelisted","strs","translations","locales","useFormat","dateformat","setLocale","dnd","absoluteSrc","running","DesktopServiceProvider","createDesktopContract","setKeyboardContext","addContextMenuEntries","addContextMenu","NotificationServiceProvider","pathToObject","handleDirectoryList","binary","to","rename","exists","download","createObjectURL","revokeObjectURL","searchable","nullAdapter","unmount","getters","arrayBuffer","requester","passthrough","formData","pkgs","Filesystem","mounts","systemAdapter","appsAdapter","proxy","VFS","_request","stopOnError","_getConfiguredMountpoints","_mountpointAction","automount","createMountpoint","_mountAction","addMountpoint","mountpoint","coreEventName","_adapter","mounted","_requestAction","srcMount","getMountpointFromPath","destMount","sameAdapter","local","mg","ms","VFSServiceProvider","createVFSContract","createFilesystemContract","mountAll","iconMap","utils","getMounts","AuthServiceProvider","createAuthContract","localStorageSettings","removeItem","setItem","getItem","Settings","debounce","promise","simplejsonconf","sjc","SettingsServiceProvider","createSettingsContract","makeInvokeMethod","unitValue","boxPropNames","grow","flexGrow","shrink","flexShrink","basis","flexBasis","align","alignItems","justify","justifyContent","padding","margin","Element","givenClassNames","defaultStyle","Box","BoxContainer","Icon","filteredProps","filterKeys","createField","onchange","getValue","cbInput","fieldProps","Button","inner","Progressbar","Menu","level","child","onmouseover","ontouchend","Toolbar","nestable","tagname","wired","panes","spacers","pane","maxWidth","maxHeight","flex","sizes","setSize","ListView","col","zebra","row","colIcon","listView","newProps","columns","rows","onselect","onactivate","selectedIndex","scrollTop","select","activate","created","setRows","setColumns","setScrollTop","setSelectedIndex","labels","TextField","autocorrect","spellcheck","TextareaField","SelectField","getChoices","parseValue","ToggleField","RangeField","active","ative","ontoggle","ContextMenu","isActive","newPosition","currentPosition","offY","offX","overflowRight","overflowBottom","clampMenu","onshow","clampTimeout","offsetParent","clampSubMenu","box","onclose","validContextMenuTarget","isValid","dialogCount","contextmenuApi","_this2","Dialog","buttons","plain","createOptions","calledBack","defs","positive","cancel","yes","no","defaultButtons","defaultButton","emitCallback","getNegativeButton","focusButton","createButtons","states","snd","AlertDialog","readonly","ConfirmDialog","yesno","PromptDialog","setValue","onenter","getPositiveButton","ProgressDialog","progress","setProgress","setStatus","componentToHex","ColorDialog","rgb","canvas","gradient","getContext","createLinearGradient","addColorStop","fillStyle","fillRect","createPalette","initialState","rangeContainer","setComponent","updateHex","setColor","cx","x","cy","getImageData","colorFromClick","FontDialog","minSize","maxSize","unit","fonts","fontSizes","fill","fontNames","fontStyles","initialActions","setFont","setStyle","fontSize","fontWeight","fontStyle","overflow","whiteSpace","FileDialog","filetype","startingLocation","listview","_readdir","setButtonState","setMountpoint","setPath","setFilename","isSave","buttonCancel","hasVfs","confirm","ChoiceDialog","setCurrent","DefaultApplicationDialog","setLocalState","oldState","newState","setChecked","CustomDialog","valueCallback","DialogServiceProvider","prompt","defaultApplication","classRef","_arrayLikeToArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_toConsumableArray","BoxStyled","_defineProperty","defaultProps","Statusbar","MenubarItem","Menubar","_$r","_$p","_$c","_$u","uninit","previousSibling","Panes","cols","paneIndex","rowIndex","unshift","hideColumns","component","IconViewEntry","IconView","iconView","Image","sources","isTrue","Video","poster","loop","muted","autoplay","onloadeddata","Tabs","Iframe","frameborder","Expander","Label","placement","elementProps","enqueue","rootEntry","require$$0","_asyncToGenerator","_classCallCheck","_createClass","Event","GUIServiceProvider","getElementById","hit","PanelItem","LBL_PANEL_ALL","LBL_PANEL_REMOVE","LBL_PANELITEM_ADD","LBL_PANELITEM_REMOVE","LBL_PANEL_POSITION","LBL_SAVE_AND_LOG_OUT","LBL_LOG_OUT","LBL_LAUNCHING","Panel","addItem","mapWindow","WindowsPanelItem","filterVisibility","launchers","change","addLauncher","removeLauncher","onlaunch","onlaunched","alt","special","TrayPanelItem","setTray","ClockPanelItem","time","increment","sortByLabel","makeTree","configuredCategories","getIcon","fallbackIcon","createItem","createCategoryTree","cat","category","createCategory","flat","createFlatMenu","MenuPanelItem","makeMenu","onmenuopen","PanelServiceProvider","clock"],"mappings":"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","file":"vendors~osjs.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"osjsClient\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"osjsClient\"] = factory();\n\telse\n\t\troot[\"osjsClient\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 22);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"osjsEventEmitter\"] = factory();\n\telse\n\t\troot[\"osjsEventEmitter\"] = factory();\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n/*\n * Gets an array of event names based in input,\n * be it array or a comma separated string.\n */\nconst getEventNames = name => (name instanceof Array)\n  ? name\n  : String(name).replace(/\\s+/g, '').split(',');\n\n/**\n * Event Emitter\n *\n * @desc A standards compatible event handler (observer) with some sugar.\n */\nexport class EventEmitter {\n\n  /**\n   * Create Event Handler\n   * @param {string} [name] A name for logging\n   */\n  constructor(name = 'undefined') {\n    /**\n     * The name of the handler\n     * @type {string}\n     */\n    this.name = name;\n\n    /**\n     * Registered events\n     * @type {object}\n     */\n    this.events = {};\n  }\n\n  /**\n   * Destroys all events\n   */\n  destroy() {\n    this.events = {};\n  }\n\n  /**\n   * Add an event handler\n   *\n   * You can supply an array of event names or a comma separated list with a string\n   *\n   * @param {string|string[]} name Event name\n   * @param {Function} callback Callback function\n   * @param {object} [options] Options\n   * @param {boolean} [options.persist] This even handler cannot be removed unless forced\n   * @param {boolean} [options.once] Fire only once\n   * @return {EventEmitter} Returns current instance\n   */\n  on(name, callback, options = {}) {\n    options = options || {};\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('Invalid callback');\n    }\n\n    getEventNames(name).forEach(n => {\n      if (!this.events[n]) {\n        this.events[n] = [];\n      }\n\n      this.events[n].push({callback, options});\n    });\n\n    return this;\n  }\n\n  /**\n   * Adds an event handler that only fires once\n   * @return {EventEmitter} Returns current instance\n   */\n  once(name, callback) {\n    return this.on(name, callback, {once: true});\n  }\n\n  /**\n   * Removes an event handler\n   *\n   * If no callback is provided, all events bound to given name will be removed.\n   *\n   * You can supply an array of event names or a comma separated list with a string\n   *\n   * @param {string|string[]} name Event name\n   * @param {Function} [callback] Callback function\n   * @param {boolean} [force=false] Forces removal even if set to persis\n   * @return {EventEmitter} Returns current instance\n   */\n  off(name, callback = null, force = false) {\n    getEventNames(name)\n      .filter(n => !!this.events[n])\n      .forEach(n => {\n        if (callback) {\n          let i = this.events[n].length;\n          while (i--) {\n            const ev = this.events[n][i];\n            const removable = !ev.options.persist || force;\n            if (removable && ev.callback === callback) {\n              this.events[n].splice(i, 1);\n            }\n          }\n        } else {\n          this.events[n] = force\n            ? []\n            : this.events[n].filter(({options}) => options.persist === true);\n        }\n      });\n\n    return this;\n  }\n\n  /**\n   * Emits an event\n   *\n   * You can supply an array of event names or a comma separated list with a string\n   *\n   * @param {string|string[]} name Event name\n   * @param {*} [args] Arguments\n   * @return {EventEmitter} Returns current instance\n   */\n  emit(name, ...args) {\n    getEventNames(name).forEach(n => {\n      if (this.events[n]) {\n        let i = this.events[n].length;\n        while (i--) {\n          const {options, callback} = this.events[n][i];\n\n          try {\n            callback(...args);\n          } catch (e) {\n            console.warn(e);\n          }\n\n          if (options && options.once) {\n            this.events[n].splice(i, 1);\n          }\n        }\n      }\n    });\n\n    return this;\n  }\n\n}\n","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./graph\"));\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlicmFyeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9saWJyYXJ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsNkJBQXdCIn0=","module.exports = require(\"regenerator-runtime\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","'use strict';\n\nvar isObject = require('is-plain-object');\nvar unset = require('unset-value');\n\nmodule.exports = function omitDeep(value, keys) {\n  if (typeof value === 'undefined') {\n    return {};\n  }\n\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) {\n      value[i] = omitDeep(value[i], keys);\n    }\n    return value;\n  }\n\n  if (!isObject(value)) {\n    return value;\n  }\n\n  if (typeof keys === 'string') {\n    keys = [keys];\n  }\n\n  if (!Array.isArray(keys)) {\n    return value;\n  }\n\n  for (var j = 0; j < keys.length; j++) {\n    unset(value, keys[j]);\n  }\n\n  for (var key in value) {\n    if (value.hasOwnProperty(key)) {\n      value[key] = omitDeep(value[key], keys);\n    }\n  }\n\n  return value;\n};\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar mutex_1 = require(\"./mutex\");\r\n/**\r\n * Base dependency graph class.\r\n */\r\nvar Graph = /** @class */ (function () {\r\n    function Graph() {\r\n        this.nodes = {};\r\n        this.outgoingEdges = {};\r\n        this.incomingEdges = {};\r\n    }\r\n    /**\r\n     * Add a node to the graph.\r\n     * @param node Node object.\r\n     */\r\n    Graph.prototype.addNode = function (node) {\r\n        if (this.hasNode(node.name))\r\n            throw new Error(\"A node with the name of \\\"\" + node.name + \"\\\" already exists in the graph!\");\r\n        this.nodes[node.name] = node;\r\n        this.outgoingEdges[node.name] = [];\r\n        this.incomingEdges[node.name] = [];\r\n    };\r\n    /**\r\n     * Remove a node by name from the graph.\r\n     * @param name Node name.\r\n     */\r\n    Graph.prototype.removeNode = function (name) {\r\n        if (!this.hasNode(name))\r\n            throw new Error(\"A node with the name of \\\"\" + name + \"\\\" does not exist in the graph!\");\r\n        delete this.nodes[name];\r\n        delete this.outgoingEdges[name];\r\n        delete this.incomingEdges[name];\r\n        for (var dependent in this.incomingEdges) {\r\n            if (this.incomingEdges[dependent].includes(name))\r\n                this.incomingEdges[dependent].splice(dependent.indexOf(name), 1);\r\n        }\r\n        for (var dependency in this.outgoingEdges) {\r\n            if (this.outgoingEdges[dependency].includes(name))\r\n                this.outgoingEdges[dependency].splice(dependency.indexOf(name), 1);\r\n        }\r\n    };\r\n    /**\r\n     * Checks to see if the graph contains a Node by name.\r\n     * @param name Node name.\r\n     */\r\n    Graph.prototype.hasNode = function (name) {\r\n        return this.nodes.hasOwnProperty(name);\r\n    };\r\n    Object.defineProperty(Graph.prototype, \"size\", {\r\n        /**\r\n         * Returns the number of nodes in a graph.\r\n         */\r\n        get: function () {\r\n            return Object.keys(this.nodes).length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns the Node instance given a node name.\r\n     * @param name Node name.\r\n     */\r\n    Graph.prototype.getNode = function (name) {\r\n        if (this.hasNode(name))\r\n            return this.nodes[name];\r\n        throw new Error(\"Node \\\"\" + name + \"\\\" not found!\");\r\n    };\r\n    /**\r\n     *  Adds a node dependence. \"from\" is dependent on \"to\"\r\n     *  @param from Node name.\r\n     *  @param to  Node name.\r\n     */\r\n    Graph.prototype.addDependency = function (from, to) {\r\n        if (!this.hasNode(from))\r\n            throw new Error(\"Node does not exist: \" + from);\r\n        if (!this.hasNode(to))\r\n            throw new Error(\"Node does not exist: \" + to);\r\n        if (from === to)\r\n            throw new Error(\"Cannot add self dependency: \" + to);\r\n        if (!this.outgoingEdges[from].includes(to)) {\r\n            this.outgoingEdges[from].push(to);\r\n        }\r\n        if (!this.incomingEdges[to].includes(from)) {\r\n            this.incomingEdges[to].push(from);\r\n        }\r\n    };\r\n    /**\r\n     * Removes a node dependence. \"from\" is no longer dependent on \"to\".\r\n     * @param from Node name.\r\n     * @param to  Node name.\r\n     * @todo Test this function.\r\n     */\r\n    Graph.prototype.removeDependency = function (from, to) {\r\n        console.warn('removeDependency() has not been tested.');\r\n        if (!this.hasNode(from))\r\n            throw new Error(\"Node does not exist: \" + from);\r\n        if (!this.hasNode(to))\r\n            throw new Error(\"Node does not exist: \" + to);\r\n        if (from === to)\r\n            throw new Error(\"Cannot remove self dependency: \" + to);\r\n        if (!this.outgoingEdges[from].includes(to)) {\r\n            this.outgoingEdges[from].splice(this.outgoingEdges[from].indexOf(to), 1);\r\n        }\r\n        if (!this.incomingEdges[to].includes(from)) {\r\n            this.incomingEdges[to].splice(this.incomingEdges[to].indexOf(to), 1);\r\n        }\r\n    };\r\n    /**\r\n     * Get dependency node names for a Node by name. (Required nodes for this node to execute).\r\n     * @param name Node name.\r\n     */\r\n    Graph.prototype.dependenciesOf = function (name) {\r\n        return this.outgoingEdges[name];\r\n    };\r\n    /**\r\n     * Get dependents node names for a Node by name. (Nodes that require this node to complete).\r\n     * @param name Node name.\r\n     */\r\n    Graph.prototype.dependentsOf = function (name) {\r\n        return this.incomingEdges[name];\r\n    };\r\n    /**\r\n     * Breadth first search.\r\n     */\r\n    Graph.prototype.traverse = function () {\r\n        var _this = this;\r\n        // Clear all complete node mutexes.\r\n        Object.keys(this.nodes).map(function (name) { return _this.getNode(name).clearMutex(); });\r\n        // Visiting a node recursively calls visit on each node's dependents.\r\n        var visit = function (node) {\r\n            // First await all dependencies\r\n            return Promise.all(_this.dependenciesOf(node.name).map(function (dependencyName) { return _this.nodes[dependencyName].awaitData(); }))\r\n                .then(function () {\r\n                node.signalDependenciesReady();\r\n                if (_this.dependentsOf(node.name).length > 0) {\r\n                    // Then recursively visit all dependents\r\n                    return Promise.all(_this.dependentsOf(node.name).map(function (dependentName) { return visit(_this.getNode(dependentName)); }));\r\n                }\r\n                else {\r\n                    // node has no dependents so await data\r\n                    return node.awaitData();\r\n                }\r\n            });\r\n        };\r\n        // Find nodes with no dependencies\r\n        var rootNodeNames = Object.keys(this.nodes).filter(function (name) { return _this.dependenciesOf(name).length === 0; });\r\n        if (rootNodeNames.length === 0 && Object.keys(this.nodes).length > 0)\r\n            return Promise.reject(new Error('The graph is circular. Cannot traverse graph due to no root node.'));\r\n        // Start recursive traversal from root nodes.\r\n        return Promise.all(rootNodeNames.map(function (name) { return visit(_this.nodes[name]); }));\r\n    };\r\n    /**\r\n     * Clears the value of a node and the values of dependent nodes\r\n     * @param name Node name.\r\n     */\r\n    Graph.prototype.clearNodeAndDependents = function (name) {\r\n        var _this = this;\r\n        var node = this.getNode(name);\r\n        var visitAndClear = function (node) {\r\n            if (node.hasData()) {\r\n                node.clearData();\r\n                return Promise.all(_this.dependentsOf(node.name).map(function (dependentName) { return visitAndClear(_this.getNode(dependentName)); }));\r\n            }\r\n            else {\r\n                return Promise.resolve();\r\n            }\r\n        };\r\n        return visitAndClear(node);\r\n    };\r\n    /**\r\n     * Resets the graph by resetting each node in the graph.\r\n     */\r\n    Graph.prototype.reset = function () {\r\n        for (var name in this.nodes) {\r\n            this.nodes[name].reset();\r\n        }\r\n    };\r\n    /**\r\n     * Prints graph nodes and node dependents.\r\n     */\r\n    Graph.prototype.ls = function () {\r\n        for (var name in this.nodes) {\r\n            console.log(name);\r\n            console.log(this.dependentsOf(name));\r\n        }\r\n    };\r\n    return Graph;\r\n}());\r\nexports.Graph = Graph;\r\nvar Node = /** @class */ (function () {\r\n    function Node(name, promise) {\r\n        this.locked = false;\r\n        this._name = name;\r\n        this._promise = promise;\r\n    }\r\n    Object.defineProperty(Node.prototype, \"name\", {\r\n        get: function () {\r\n            return this._name;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Await data.\r\n     * @returns A `Promise<T | null>` that resolves when the node's data is ready.\r\n     */\r\n    Node.prototype.awaitData = function () {\r\n        var _this = this;\r\n        if (!this.mutex) {\r\n            this.mutex = new mutex_1.Mutex(function () { return _this._data !== undefined; });\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            _this.mutex.await(function (error) {\r\n                if (error)\r\n                    return reject(error);\r\n                resolve(_this._data);\r\n            });\r\n        });\r\n    };\r\n    Node.prototype.signalDependenciesReady = function () {\r\n        var _this = this;\r\n        if (!this.mutex) {\r\n            this.mutex = new mutex_1.Mutex(function () { return _this._data !== undefined; });\r\n        }\r\n        if (this._data === undefined) {\r\n            // Only allow to _promise once\r\n            if (this.locked === true)\r\n                return;\r\n            this.locked = true;\r\n            var promise = this._promise();\r\n            if (promise === undefined)\r\n                throw new Error(\"Node \\\"\" + this._name + \"\\\" has undefined promise.\");\r\n            promise.then(function (data) {\r\n                _this._data = data;\r\n                _this.locked = false;\r\n                _this.mutex.ready();\r\n            }).catch(function (error) {\r\n                _this._data = null;\r\n                _this.locked = false;\r\n                _this.mutex.ready(error);\r\n            });\r\n        }\r\n        else {\r\n            // Allow _data to be set externally from promise\r\n            this.mutex.ready();\r\n        }\r\n    };\r\n    Node.prototype.setData = function (data) {\r\n        this._data = data;\r\n        this.signalDependenciesReady();\r\n    };\r\n    /**\r\n     * Resets node. Clears all node data and resets its mutex.\r\n     */\r\n    Node.prototype.reset = function () {\r\n        this.clearData();\r\n        this.clearMutex();\r\n    };\r\n    Node.prototype.clearMutex = function () {\r\n        if (this.hasData())\r\n            this.mutex = undefined;\r\n    };\r\n    Node.prototype.hasData = function () {\r\n        return this._data !== undefined;\r\n    };\r\n    Node.prototype.clearData = function () {\r\n        this._data = undefined;\r\n    };\r\n    return Node;\r\n}());\r\nexports.Node = Node;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JhcGguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvZ3JhcGgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpQ0FBZ0M7QUFFaEM7O0dBRUc7QUFDSDtJQUFBO1FBQ1ksVUFBSyxHQUE2QixFQUFFLENBQUM7UUFDckMsa0JBQWEsR0FBaUMsRUFBRSxDQUFDO1FBQ2pELGtCQUFhLEdBQWlDLEVBQUUsQ0FBQztJQWlMN0QsQ0FBQztJQS9LRzs7O09BR0c7SUFDSSx1QkFBTyxHQUFkLFVBQWUsSUFBVTtRQUNyQixJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsK0JBQTRCLElBQUksQ0FBQyxJQUFJLG9DQUFnQyxDQUFDLENBQUM7UUFDcEgsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQzdCLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUNuQyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDdkMsQ0FBQztJQUVEOzs7T0FHRztJQUNJLDBCQUFVLEdBQWpCLFVBQWtCLElBQVk7UUFDMUIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQywrQkFBNEIsSUFBSSxvQ0FBZ0MsQ0FBQyxDQUFDO1FBQzNHLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QixPQUFPLElBQUksQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDaEMsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ2hDLEtBQUssSUFBTSxTQUFTLElBQUksSUFBSSxDQUFDLGFBQWEsRUFB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","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Mutex = /** @class */ (function () {\r\n    function Mutex(readyTest) {\r\n        this.readyTest = readyTest;\r\n    }\r\n    Mutex.prototype.await = function (callback) {\r\n        if (this.readyTest() === true) {\r\n            callback();\r\n        }\r\n        else {\r\n            this.waiting = this.waiting || [];\r\n            this.waiting.push(callback);\r\n        }\r\n    };\r\n    // called when we know what we are waiting for is ready\r\n    Mutex.prototype.ready = function (error) {\r\n        if (this.waiting)\r\n            this.waiting.forEach(function (callback) { return callback(error); });\r\n        delete this.waiting;\r\n    };\r\n    return Mutex;\r\n}());\r\nexports.Mutex = Mutex;\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXV0ZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvbXV0ZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTtJQUtJLGVBQW1CLFNBQXdCO1FBQ3ZDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQy9CLENBQUM7SUFFTSxxQkFBSyxHQUFaLFVBQWEsUUFBZ0M7UUFDekMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssSUFBSSxFQUFFO1lBQzNCLFFBQVEsRUFBRSxDQUFDO1NBQ2Q7YUFBTTtZQUNILElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUM7WUFDbEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDL0I7SUFDTCxDQUFDO0lBRUQsdURBQXVEO0lBQ2hELHFCQUFLLEdBQVosVUFBYSxLQUFhO1FBQ3RCLElBQUksSUFBSSxDQUFDLE9BQU87WUFDWixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFDLFFBQVEsSUFBSyxPQUFBLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBZixDQUFlLENBQUMsQ0FBQztRQUN4RCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7SUFDeEIsQ0FBQztJQUNMLFlBQUM7QUFBRCxDQUFDLEFBeEJELElBd0JDO0FBeEJZLHNCQUFLIn0=","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","/*!\n * unset-value <https://github.com/jonschlinkert/unset-value>\n *\n * Copyright (c) 2015, 2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\nvar has = require('has-value');\n\nmodule.exports = function unset(obj, prop) {\n  if (!isObject(obj)) {\n    throw new TypeError('expected an object.');\n  }\n  if (obj.hasOwnProperty(prop)) {\n    delete obj[prop];\n    return true;\n  }\n\n  if (has(obj, prop)) {\n    var segs = prop.split('.');\n    var last = segs.pop();\n    while (segs.length && segs[segs.length - 1].slice(-1) === '\\\\') {\n      last = segs.pop().slice(0, -1) + '.' + last;\n    }\n    while (segs.length) obj = obj[prop = segs.shift()];\n    return (delete obj[last]);\n  }\n  return true;\n};\n","/*!\n * has-value <https://github.com/jonschlinkert/has-value>\n *\n * Copyright (c) 2014-2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\nvar hasValues = require('has-values');\nvar get = require('get-value');\n\nmodule.exports = function(obj, prop, noZero) {\n  if (isObject(obj)) {\n    return hasValues(get(obj, prop), noZero);\n  }\n  return hasValues(obj, prop);\n};\n","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nvar isArray = require('isarray');\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && isArray(val) === false;\n};\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * has-values <https://github.com/jonschlinkert/has-values>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function hasValue(o, noZero) {\n  if (o === null || o === undefined) {\n    return false;\n  }\n\n  if (typeof o === 'boolean') {\n    return true;\n  }\n\n  if (typeof o === 'number') {\n    if (o === 0 && noZero === true) {\n      return false;\n    }\n    return true;\n  }\n\n  if (o.length !== undefined) {\n    return o.length !== 0;\n  }\n\n  for (var key in o) {\n    if (o.hasOwnProperty(key)) {\n      return true;\n    }\n  }\n  return false;\n};\n","/*!\n * get-value <https://github.com/jonschlinkert/get-value>\n *\n * Copyright (c) 2014-2015, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nmodule.exports = function(obj, prop, a, b, c) {\n  if (!isObject(obj) || !prop) {\n    return obj;\n  }\n\n  prop = toString(prop);\n\n  // allowing for multiple properties to be passed as\n  // a string or array, but much faster (3-4x) than doing\n  // `[].slice.call(arguments)`\n  if (a) prop += '.' + toString(a);\n  if (b) prop += '.' + toString(b);\n  if (c) prop += '.' + toString(c);\n\n  if (prop in obj) {\n    return obj[prop];\n  }\n\n  var segs = prop.split('.');\n  var len = segs.length;\n  var i = -1;\n\n  while (obj && (++i < len)) {\n    var key = segs[i];\n    while (key[key.length - 1] === '\\\\') {\n      key = key.slice(0, -1) + '.' + segs[++i];\n    }\n    obj = obj[key];\n  }\n  return obj;\n};\n\nfunction isObject(val) {\n  return val !== null && (typeof val === 'object' || typeof val === 'function');\n}\n\nfunction toString(val) {\n  if (!val) return '';\n  if (Array.isArray(val)) {\n    return val.join('.');\n  }\n  return val;\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {resolveTreeByKey, providerHandler} from './utils.js';\nimport {EventEmitter} from '@osjs/event-emitter';\nimport merge from 'deepmerge';\nimport omitDeep from 'omit-deep';\n\n/**\n * Core\n *\n * @desc Main class for OS.js service providers and bootstrapping.\n */\nexport class CoreBase extends EventEmitter {\n\n  /**\n   * Create core instance\n   * @param {Object} defaultConfiguration Default configuration\n   * @param {Object} configuration Configuration given\n   * @param {Object} options Options\n   */\n  constructor(defaultConfiguration, configuration, options) {\n    super('Core');\n\n    // https://github.com/KyleAMathews/deepmerge#webpack-bug\n    const merger = merge.default ? merge.default : merge;\n    const omitted = omitDeep(defaultConfiguration, options.omit || []);\n\n    this.logger = console;\n    this.configuration = merger(omitted, configuration);\n    this.options = options;\n    this.booted = false;\n    this.started = false;\n    this.destroyed = false;\n    this.providers = providerHandler(this);\n  }\n\n  /**\n   * Destroy core instance\n   */\n  destroy() {\n    if (this.destroyed) {\n      return false;\n    }\n\n    this.booted = false;\n    this.destroyed = true;\n    this.started = false;\n\n    const promises = this.providers.destroy();\n\n    super.destroy();\n\n    return promises;\n  }\n\n  /**\n   * Boots up OS.js\n   */\n  boot() {\n    if (this.booted) {\n      return Promise.resolve(true);\n    }\n\n    this.started = false;\n    this.destroyed = false;\n    this.booted = true;\n\n    return this.providers.init(true)\n      .then(() => true);\n  }\n\n  /**\n   * Starts all core services\n   */\n  start() {\n    if (this.started) {\n      return Promise.resolve(true);\n    }\n\n    this.started = true;\n\n    return this.providers.init(false)\n      .then(() => true);\n  }\n\n  /**\n   * Gets a configuration entry by key\n   *\n   * @param {String} key The key to get the value from\n   * @param {*} [defaultValue] If result is undefined, return this instead\n   * @see {resolveTreeByKey}\n   * @return {*}\n   */\n  config(key, defaultValue) {\n    return key\n      ? resolveTreeByKey(this.configuration, key, defaultValue)\n      : Object.assign({}, this.configuration);\n  }\n\n  /**\n   * Register a service provider\n   *\n   * @param {Class} ref A class reference\n   * @param {Object} [options] Options for handling of provider\n   * @param {Boolean} [options.before] Load this provider early\n   * @param {Object} [options.args] Arguments to send to the constructor\n   */\n  register(ref, options = {}) {\n    this.providers.register(ref, options);\n  }\n\n  /**\n   * Register a instanciator provider\n   *\n   * @param {String} name Provider name\n   * @param {Function} callback Callback that returns an instance\n   */\n  instance(name, callback) {\n    this.providers.bind(name, false, callback);\n  }\n\n  /**\n   * Register a singleton provider\n   *\n   * @param {String} name Provider name\n   * @param {Function} callback Callback that returns an instance\n   */\n  singleton(name, callback) {\n    this.providers.bind(name, true, callback);\n  }\n\n  /**\n   * Create an instance of a provided service\n   *\n   * @param {String} name Service name\n   * @param {*} args Constructor arguments\n   * @return {*} An instance of a service\n   */\n  make(name, ...args) {\n    return this.providers.make(name, ...args);\n  }\n\n  /**\n   * Check if a service exists\n   * @param {String} name Provider name\n   * @return {Boolean}\n   */\n  has(name) {\n    return this.providers.has(name);\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {Graph, Node} from 'async-dependency-graph';\n\nexport const resolveTreeByKey = (tree, key, defaultValue) => {\n  let result;\n\n  try {\n    result = key\n      .split(/\\./g)\n      .reduce((result, key) => result[key], Object.assign({}, tree));\n  } catch (e) { /* noop */ }\n\n  return typeof result === 'undefined' ? defaultValue : result;\n};\n\nconst each = (list, method) => Promise.all(list.map(p => {\n  try {\n    return p.provider[method]();\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}))\n  .catch(err => console.warn(err));\n\nexport const providerHandler = (core) => {\n  let instances = {};\n  let providers = [];\n  let registry = [];\n\n  const createGraph = (list, method) => {\n    const graph = new Graph();\n    const provides = list.map(p => typeof p.provider.provides === 'function' ? p.provider.provides() : []);\n    const dependsOnIndex = wants => provides.findIndex(arr => arr.some(a => wants.indexOf(a) !== -1));\n\n    list.forEach((p, i) => {\n      graph.addNode(new Node(String(i), () => {\n        try {\n          return Promise.resolve(p.provider[method]());\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      }));\n    });\n\n    list.forEach((p, i) => {\n      const dependsOptions = p.options.depends instanceof Array\n        ? p.options.depends\n        : [];\n\n      const dependsInstance = typeof p.provider.depends === 'function'\n        ? p.provider.depends()\n        : [];\n\n      const depends = [...dependsOptions, ...dependsInstance];\n      if (depends.length > 0) {\n        const dindex = dependsOnIndex(depends);\n        if (dindex !== -1) {\n          graph.addDependency(String(i), String(dindex));\n        }\n      }\n    });\n\n    return graph.traverse()\n      .catch(e => console.warn(e));\n  };\n\n  const handle = list => createGraph(list, 'init')\n    .then(() => createGraph(list, 'start'));\n\n\n  const has = name => registry.findIndex(p => p.name === name) !== -1;\n\n  const destroy = () => {\n    const result = each(providers, 'destroy');\n\n    instances = {};\n    registry = [];\n\n    return result;\n  };\n\n  const init = (before) =>\n    handle(before\n      ? providers.filter(p => p.options.before)\n      : providers.filter(p => !p.options.before));\n\n  const register = (ref, options) => {\n    try {\n      providers.push({\n        provider: new ref(core, options.args),\n        options\n      });\n    } catch (e) {\n      console.error('Provider register error', e);\n    }\n  };\n\n  const bind = (name, singleton, callback) => {\n    core.logger.info('Provider binding', name);\n\n    registry.push({\n      singleton,\n      name,\n      make(...args) {\n        return callback(...args);\n      }\n    });\n  };\n\n  const make = (name, ...args) => {\n    const found = registry.find(p => p.name === name);\n    if (!found) {\n      throw new Error(`Provider '${name}' not found`);\n    }\n\n    if (!found.singleton) {\n      return found.make(...args);\n    }\n\n    if (!instances[name]) {\n      if (found) {\n        instances[name] = found.make(...args);\n      }\n    }\n\n    return instances[name];\n  };\n\n  return {register, init, bind, has, make, destroy};\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n/**\n * Service Provider Interface\n *\n * @desc Provides a basic Service Provider interface for OS.js\n *\n * @interface\n */\nexport class ServiceProvider {\n\n  /**\n   * Constructor\n   * @param {Core} core Core reference\n   */\n  constructor(core, options = {}) {\n    /**\n     * Core instance reference\n     * @type {Core}\n     */\n    this.core = core;\n    this.options = options;\n  }\n\n  /**\n   * A list of services this provider can create\n   * @return {string[]}\n   */\n  provides() {\n    return [];\n  }\n\n  /**\n   * A list of services this provider depends on\n   * @return {string[]}\n   */\n  depends() {\n    return [];\n  }\n\n  /**\n   * Initializes provider\n   */\n  async init() {\n  }\n\n  /**\n   * Starts provider\n   */\n  start() {\n  }\n\n  /**\n   * Destroys provider\n   */\n  destroy() {\n  }\n\n}\n","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","!function(n,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.simplejsonconf=t():n.simplejsonconf=t()}(window,function(){return function(n){var t={};function r(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(n,\"__esModule\",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&\"object\"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,\"default\",{enumerable:!0,value:n}),2&t&&\"string\"!=typeof n)for(var o in n)r.d(e,o,function(t){return n[t]}.bind(null,o));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,\"a\",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p=\"\",r(r.s=3)}([function(n,t){function r(n){return(r=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&\"function\"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?\"symbol\":typeof n})(n)}function e(t){return\"function\"==typeof Symbol&&\"symbol\"===r(Symbol.iterator)?n.exports=e=function(n){return r(n)}:n.exports=e=function(n){return n&&\"function\"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?\"symbol\":r(n)},e(t)}n.exports=e},function(n,t,r){var e=r(5),o=r(6),u=r(7);n.exports=function(n,t){return e(n)||o(n,t)||u()}},function(n,t){n.exports=function(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}},function(n,t,r){n.exports=r(4)},function(n,t,r){\"use strict\";r.r(t);var e=r(1),o=r.n(e),u=r(2),i=r.n(u),f=r(0),c=r.n(f),a=function(n){return void 0===n?n:JSON.parse(JSON.stringify(n))},l=function(n){return n.split(/\\./g)},s=function(n){return void 0===n||null===n},p=function(n){return!!n&&\"object\"===c()(n)&&!Array.isArray(n)},y=function n(t,r){if(p(t)&&p(r)){for(var e in r)p(r[e])?(t[e]&&c()(t[e])===c()(r[e])||Object.assign(t,i()({},e,{})),n(t[e],r[e])):Object.assign(t,i()({},e,r[e]));return t}return r},b=function(n,t,r){if(s(t))return n;var e;try{e=l(t).reduce(function(n,t){return n[t]},Object.assign({},n))}catch(n){}return void 0===e?r:e},d=function(n,t,r){var e=l(t),o=e.length;if(r)for(var u=n,i=0;i<o;i++){var f=e[i];void 0===u[f]&&(u[f]={}),u=u[f]}var c=1===o?e[0]:e.pop();return[1===o?n:b(n,e.join(\".\")),c]};t.default=function(n){var t,r=function(n){return t=a(n)};return r(n),{get:function(n,r){return a(b(t,n,r))},set:function(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(function(n,t,r,e){if(!1!==e.parse)try{r=void 0===r?r:JSON.parse(r)}catch(n){}if(s(t)){var u=!1!==e.merge?y(n,r):r;return Object.assign(n,u)}var i=d(n,t,!0),f=o()(i,2),c=f[0],a=f[1];s(c[a])&&(c[a]={});var l=!1!==e.merge?y(c[a],r):r;return c[a]=l,l}(t,n,r,e))},push:function(n,r){return a(function(n,t,r){var e=b(n,t);if(!Array.isArray(e))throw new Error(\"The key '\".concat(t,\"' is not an array\"));return e.push(r),e}(t,n,r))},remove:function(n){return a(function(n,t){var r=d(n,t),e=o()(r,2),u=e[0],i=e[1];return void 0!==u[i]&&(u instanceof Array?u.splice(u.indexOf(u[i]),1):delete u[i]),u}(t,n))},reset:function(t){return a(r(t||n))},toString:function(){return JSON.stringify(t)}}}},function(n,t){n.exports=function(n){if(Array.isArray(n))return n}},function(n,t){n.exports=function(n,t){var r=[],e=!0,o=!1,u=void 0;try{for(var i,f=n[Symbol.iterator]();!(e=(i=f.next()).done)&&(r.push(i.value),!t||r.length!==t);e=!0);}catch(n){o=!0,u=n}finally{try{e||null==f.return||f.return()}finally{if(o)throw u}}return r}},function(n,t){n.exports=function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}])});\n//# sourceMappingURL=main.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\n\n'use strict';\n\nexports.match = matchQuery;\nexports.parse = parseQuery;\n\n// -----------------------------------------------------------------------------\n\nvar RE_MEDIA_QUERY     = /(?:(only|not)?\\s*([^\\s\\(\\)]+)(?:\\s*and)?\\s*)?(.+)?/i,\n    RE_MQ_EXPRESSION   = /\\(\\s*([^\\s\\:\\)]+)\\s*(?:\\:\\s*([^\\s\\)]+))?\\s*\\)/,\n    RE_MQ_FEATURE      = /^(?:(min|max)-)?(.+)/,\n    RE_LENGTH_UNIT     = /(em|rem|px|cm|mm|in|pt|pc)?$/,\n    RE_RESOLUTION_UNIT = /(dpi|dpcm|dppx)?$/;\n\nfunction matchQuery(mediaQuery, values) {\n    return parseQuery(mediaQuery).some(function (query) {\n        var inverse = query.inverse;\n\n        // Either the parsed or specified `type` is \"all\", or the types must be\n        // equal for a match.\n        var typeMatch = query.type === 'all' || values.type === query.type;\n\n        // Quit early when `type` doesn't match, but take \"not\" into account.\n        if ((typeMatch && inverse) || !(typeMatch || inverse)) {\n            return false;\n        }\n\n        var expressionsMatch = query.expressions.every(function (expression) {\n            var feature  = expression.feature,\n                modifier = expression.modifier,\n                expValue = expression.value,\n                value    = values[feature];\n\n            // Missing or falsy values don't match.\n            if (!value) { return false; }\n\n            switch (feature) {\n                case 'orientation':\n                case 'scan':\n                    return value.toLowerCase() === expValue.toLowerCase();\n\n                case 'width':\n                case 'height':\n                case 'device-width':\n                case 'device-height':\n                    expValue = toPx(expValue);\n                    value    = toPx(value);\n                    break;\n\n                case 'resolution':\n                    expValue = toDpi(expValue);\n                    value    = toDpi(value);\n                    break;\n\n                case 'aspect-ratio':\n                case 'device-aspect-ratio':\n                case /* Deprecated */ 'device-pixel-ratio':\n                    expValue = toDecimal(expValue);\n                    value    = toDecimal(value);\n                    break;\n\n                case 'grid':\n                case 'color':\n                case 'color-index':\n                case 'monochrome':\n                    expValue = parseInt(expValue, 10) || 1;\n                    value    = parseInt(value, 10) || 0;\n                    break;\n            }\n\n            switch (modifier) {\n                case 'min': return value >= expValue;\n                case 'max': return value <= expValue;\n                default   : return value === expValue;\n            }\n        });\n\n        return (expressionsMatch && !inverse) || (!expressionsMatch && inverse);\n    });\n}\n\nfunction parseQuery(mediaQuery) {\n    return mediaQuery.split(',').map(function (query) {\n        query = query.trim();\n\n        var captures    = query.match(RE_MEDIA_QUERY),\n            modifier    = captures[1],\n            type        = captures[2],\n            expressions = captures[3] || '',\n            parsed      = {};\n\n        parsed.inverse = !!modifier && modifier.toLowerCase() === 'not';\n        parsed.type    = type ? type.toLowerCase() : 'all';\n\n        // Split expressions into a list.\n        expressions = expressions.match(/\\([^\\)]+\\)/g) || [];\n\n        parsed.expressions = expressions.map(function (expression) {\n            var captures = expression.match(RE_MQ_EXPRESSION),\n                feature  = captures[1].toLowerCase().match(RE_MQ_FEATURE);\n\n            return {\n                modifier: feature[1],\n                feature : feature[2],\n                value   : captures[2]\n            };\n        });\n\n        return parsed;\n    });\n}\n\n// -- Utilities ----------------------------------------------------------------\n\nfunction toDecimal(ratio) {\n    var decimal = Number(ratio),\n        numbers;\n\n    if (!decimal) {\n        numbers = ratio.match(/^(\\d+)\\s*\\/\\s*(\\d+)$/);\n        decimal = numbers[1] / numbers[2];\n    }\n\n    return decimal;\n}\n\nfunction toDpi(resolution) {\n    var value = parseFloat(resolution),\n        units = String(resolution).match(RE_RESOLUTION_UNIT)[1];\n\n    switch (units) {\n        case 'dpcm': return value / 2.54;\n        case 'dppx': return value * 96;\n        default    : return value;\n    }\n}\n\nfunction toPx(length) {\n    var value = parseFloat(length),\n        units = String(length).match(RE_LENGTH_UNIT)[1];\n\n    switch (units) {\n        case 'em' : return value * 16;\n        case 'rem': return value * 16;\n        case 'cm' : return value * 96 / 2.54;\n        case 'mm' : return value * 96 / 2.54 / 10;\n        case 'in' : return value * 96;\n        case 'pt' : return value * 72;\n        case 'pc' : return value * 72 / 12;\n        default   : return value;\n    }\n}\n","/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\n(function(global) {\n  'use strict';\n\n  var dateFormat = (function() {\n      var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZWN]|\"[^\"]*\"|'[^']*'/g;\n      var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n      var timezoneClip = /[^-+\\dA-Z]/g;\n  \n      // Regexes and supporting functions are cached through closure\n      return function (date, mask, utc, gmt) {\n  \n        // You can't provide utc if you skip other args (use the 'UTC:' mask prefix)\n        if (arguments.length === 1 && kindOf(date) === 'string' && !/\\d/.test(date)) {\n          mask = date;\n          date = undefined;\n        }\n  \n        date = date || new Date;\n  \n        if(!(date instanceof Date)) {\n          date = new Date(date);\n        }\n  \n        if (isNaN(date)) {\n          throw TypeError('Invalid date');\n        }\n  \n        mask = String(dateFormat.masks[mask] || mask || dateFormat.masks['default']);\n  \n        // Allow setting the utc/gmt argument via the mask\n        var maskSlice = mask.slice(0, 4);\n        if (maskSlice === 'UTC:' || maskSlice === 'GMT:') {\n          mask = mask.slice(4);\n          utc = true;\n          if (maskSlice === 'GMT:') {\n            gmt = true;\n          }\n        }\n  \n        var _ = utc ? 'getUTC' : 'get';\n        var d = date[_ + 'Date']();\n        var D = date[_ + 'Day']();\n        var m = date[_ + 'Month']();\n        var y = date[_ + 'FullYear']();\n        var H = date[_ + 'Hours']();\n        var M = date[_ + 'Minutes']();\n        var s = date[_ + 'Seconds']();\n        var L = date[_ + 'Milliseconds']();\n        var o = utc ? 0 : date.getTimezoneOffset();\n        var W = getWeek(date);\n        var N = getDayOfWeek(date);\n        var flags = {\n          d:    d,\n          dd:   pad(d),\n          ddd:  dateFormat.i18n.dayNames[D],\n          dddd: dateFormat.i18n.dayNames[D + 7],\n          m:    m + 1,\n          mm:   pad(m + 1),\n          mmm:  dateFormat.i18n.monthNames[m],\n          mmmm: dateFormat.i18n.monthNames[m + 12],\n          yy:   String(y).slice(2),\n          yyyy: y,\n          h:    H % 12 || 12,\n          hh:   pad(H % 12 || 12),\n          H:    H,\n          HH:   pad(H),\n          M:    M,\n          MM:   pad(M),\n          s:    s,\n          ss:   pad(s),\n          l:    pad(L, 3),\n          L:    pad(Math.round(L / 10)),\n          t:    H < 12 ? dateFormat.i18n.timeNames[0] : dateFormat.i18n.timeNames[1],\n          tt:   H < 12 ? dateFormat.i18n.timeNames[2] : dateFormat.i18n.timeNames[3],\n          T:    H < 12 ? dateFormat.i18n.timeNames[4] : dateFormat.i18n.timeNames[5],\n          TT:   H < 12 ? dateFormat.i18n.timeNames[6] : dateFormat.i18n.timeNames[7],\n          Z:    gmt ? 'GMT' : utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n          o:    (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n          S:    ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],\n          W:    W,\n          N:    N\n        };\n  \n        return mask.replace(token, function (match) {\n          if (match in flags) {\n            return flags[match];\n          }\n          return match.slice(1, match.length - 1);\n        });\n      };\n    })();\n\n  dateFormat.masks = {\n    'default':               'ddd mmm dd yyyy HH:MM:ss',\n    'shortDate':             'm/d/yy',\n    'mediumDate':            'mmm d, yyyy',\n    'longDate':              'mmmm d, yyyy',\n    'fullDate':              'dddd, mmmm d, yyyy',\n    'shortTime':             'h:MM TT',\n    'mediumTime':            'h:MM:ss TT',\n    'longTime':              'h:MM:ss TT Z',\n    'isoDate':               'yyyy-mm-dd',\n    'isoTime':               'HH:MM:ss',\n    'isoDateTime':           'yyyy-mm-dd\\'T\\'HH:MM:sso',\n    'isoUtcDateTime':        'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\'',\n    'expiresHeaderFormat':   'ddd, dd mmm yyyy HH:MM:ss Z'\n  };\n\n  // Internationalization strings\n  dateFormat.i18n = {\n    dayNames: [\n      'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n      'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n    ],\n    monthNames: [\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n      'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n    ],\n    timeNames: [\n      'a', 'p', 'am', 'pm', 'A', 'P', 'AM', 'PM'\n    ]\n  };\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\n/**\n * Get the ISO 8601 week number\n * Based on comments from\n * http://techblog.procurios.nl/k/n618/news/view/33796/14863/Calculate-ISO-8601-week-and-year-in-javascript.html\n *\n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getWeek(date) {\n  // Remove time components of date\n  var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n  // Change date to Thursday same week\n  targetThursday.setDate(targetThursday.getDate() - ((targetThursday.getDay() + 6) % 7) + 3);\n\n  // Take January 4th as it is always in week 1 (see ISO 8601)\n  var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);\n\n  // Change date to Thursday same week\n  firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3);\n\n  // Check if daylight-saving-time-switch occurred and correct for it\n  var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();\n  targetThursday.setHours(targetThursday.getHours() - ds);\n\n  // Number of weeks between target Thursday and first Thursday\n  var weekDiff = (targetThursday - firstThursday) / (86400000*7);\n  return 1 + Math.floor(weekDiff);\n}\n\n/**\n * Get ISO-8601 numeric representation of the day of the week\n * 1 (for Monday) through 7 (for Sunday)\n * \n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getDayOfWeek(date) {\n  var dow = date.getDay();\n  if(dow === 0) {\n    dow = 7;\n  }\n  return dow;\n}\n\n/**\n * kind-of shortcut\n * @param  {*} val\n * @return {String}\n */\nfunction kindOf(val) {\n  if (val === null) {\n    return 'null';\n  }\n\n  if (val === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof val !== 'object') {\n    return typeof val;\n  }\n\n  if (Array.isArray(val)) {\n    return 'array';\n  }\n\n  return {}.toString.call(val)\n    .slice(8, -1).toLowerCase();\n};\n\n\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return dateFormat;\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = dateFormat;\n  } else {\n    global.dateFormat = dateFormat;\n  }\n})(this);\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","export default __webpack_public_path__ + \"881c86876af63b732063d7bdd51bb226.png\";","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nconst methods = ['debug', 'log', 'info', 'warn', 'error'];\nlet middleware = [];\n\nconst reduce = (name, input) => middleware\n  .reduce((current, m) => m(name, ...current), input);\n\nconst bind = (fn, thisArg) =>\n  typeof thisArg[fn].bind === 'function'\n    ? thisArg[fn].bind(thisArg)\n    : Function.prototype.bind.apply(thisArg[fn], thisArg);\n\nconst bindMethod = fn => {\n  const log = bind(fn, console);\n  if (middleware.length > 0) {\n    return (...args) => log(...reduce(fn, args));\n  }\n\n  return log;\n};\n\nconst assignMethods = (thisArg) => methods\n  .forEach(m => thisArg[m] = bindMethod(m));\n\nconst instance = {\n  addMiddleware: m => {\n    middleware.push(m);\n    assignMethods(instance);\n  },\n  clearMiddleware: () => {\n    middleware = [];\n    assignMethods(instance);\n  }\n};\n\nassignMethods(instance);\n\nexport default instance;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport * as mediaQuery from 'css-mediaquery';\nimport defaultIcon from '../styles/logo-blue-32x32.png';\nimport logger from '../logger';\n\nconst CASCADE_DISTANCE = 10;\nconst MINIMUM_WIDTH = 100;\nconst MINIMUM_HEIGHT = 100;\nconst ONTOP_ZINDEX = 8388635;\nconst BOTTOM_ZINDEX = 10;\n\n/*\n * Creates window attributes from an object\n */\nexport const createAttributes = attrs => ({\n  classNames: [],\n  modal: false,\n  ontop: false,\n  gravity: false,\n  moveable: true,\n  resizable: true,\n  focusable: true,\n  maximizable: true,\n  minimizable: true,\n  sessionable: true,\n  closeable: true,\n  header: true,\n  controls: true,\n  visibility: 'global',\n  shadowDOM: false,\n  clamp: true,\n  droppable: true,\n  mediaQueries: {\n    small: 'screen and (max-width: 640px)',\n    medium: 'screen and (min-width: 640px) and (max-width: 1024px)',\n    big: 'screen and (min-width: 1024px)'\n  },\n  minDimension: {\n    width: MINIMUM_WIDTH,\n    height: MINIMUM_HEIGHT\n  },\n  maxDimension: {\n    width: -1,\n    height: -1\n  },\n  ...attrs\n});\n\n/*\n * Creates window state from an object\n */\nexport const createState = (state, options, attrs) => ({\n  title: options.title || options.id,\n  icon: options.icon || defaultIcon,\n  media: null,\n  moving: false,\n  resizing: false,\n  loading: false,\n  focused: false,\n  maximized: false,\n  minimized: false,\n  zIndex: 1,\n  styles: {},\n  position: {\n    left: null,\n    top: null,\n    ...options.position\n  },\n  dimension: {\n    width: Math.max(attrs.minDimension.width, MINIMUM_WIDTH),\n    height: Math.max(attrs.minDimension.height, MINIMUM_HEIGHT),\n    ...options.dimension\n  },\n  ...state\n});\n\n/**\n * Creates data attributes for window DOM\n * @param {string} id\n * @param {WindowState} state\n * @param {WindowAttributes} attributes\n * @return {object}\n */\nexport const createDOMAttributes = (id, state, attributes) => ({\n  id: id,\n  media: state.media,\n  moving: state.moving,\n  resizing: state.resizing,\n  loading: state.loading,\n  focused: state.focused,\n  maximized: state.maximized,\n  minimized: state.minimized,\n  modal: attributes.modal,\n  ontop: attributes.ontop,\n  resizable: attributes.resizable,\n  moveable: attributes.moveable,\n  maximizable: attributes.maximizable,\n  minimizable: attributes.minimizable\n});\n\n/**\n * Creates styles for window DOM\n * @param {WindowState} state\n * @param {WindowAttributes} attributes\n * @return {object}\n */\nexport const createDOMStyles = (\n  {\n    zIndex,\n    styles,\n    position: {\n      top,\n      left\n    },\n    dimension: {\n      width,\n      height\n    }\n  },\n  {\n    ontop\n  }\n) => ({\n  top: String(top) + 'px',\n  left: String(left) + 'px',\n  height: String(height) + 'px',\n  width: String(width) + 'px',\n  zIndex: BOTTOM_ZINDEX + (ontop ? ONTOP_ZINDEX : 0) + zIndex,\n  ...styles\n});\n\n/*\n * Clamps position to viewport\n */\nexport const clampPosition = (rect, {dimension, position}) => {\n  const maxLeft = rect.width - dimension.width;\n  const maxTop = rect.height - dimension.height + rect.top;\n\n  // TODO: Make these an argument ?!\n  const minLeft = 0;\n  const minTop = 0;\n\n  return {\n    left: Math.max(minLeft, Math.min(maxLeft, position.left)),\n    top: Math.max(minTop, Math.max(rect.top, Math.min(maxTop, position.top)))\n  };\n};\n\n/*\n * Window rendering callback function\n */\nexport const renderCallback = (win, callback) => {\n  if (typeof callback === 'function') {\n    if (win.attributes.shadowDOM) {\n      try {\n        const mode = typeof win.attributes.shadowDOM === 'string'\n          ? win.attributes.shadowDOM\n          : 'open';\n\n        const shadow = win.$content.attachShadow({mode});\n\n        callback(shadow, win);\n\n        return;\n      } catch (e) {\n        logger.warn('Shadow DOM not supported?', e);\n      }\n    }\n\n    callback(win.$content, win);\n  }\n};\n\n/*\n * Gets new position based on \"gravity\"\n */\nexport const positionFromGravity = (win, rect, gravity) => {\n  let {left, top} = win.state.position;\n\n  if (gravity === 'center') {\n    left = (rect.width / 2) - (win.state.dimension.width / 2);\n    top = (rect.height / 2) - (win.state.dimension.height / 2);\n  } else if (gravity) {\n    let hasVertical =  gravity.match(/top|bottom/);\n    let hasHorizontal = gravity.match(/left|rigth/);\n\n    if (gravity.match(/top/)) {\n      top = rect.top;\n    } else if (gravity.match(/bottom/)) {\n      top = rect.height - (win.state.dimension.height) + rect.top;\n    }\n\n    if (gravity.match(/left/)) {\n      left = rect.left;\n    } else if (gravity.match(/right/)) {\n      left = rect.width - (win.state.dimension.width);\n    }\n\n    if (!hasVertical && gravity.match(/center/)) {\n      top = (rect.height / 2) - (win.state.dimension.height / 2);\n    } else if (!hasHorizontal && gravity.match(/center/)) {\n      left = (rect.width / 2) - (win.state.dimension.width / 2);\n    }\n  }\n\n  return {left, top};\n};\n\n/*\n * Gets new dimension based on container\n */\nexport const dimensionFromElement = (win, rect, container) => {\n  const innerBox = (container.parentNode.classList.contains('osjs-gui')\n    ? container.parentNode\n    : container).getBoundingClientRect();\n\n  const outerBox = win.$content.getBoundingClientRect();\n  const diffY = Math.ceil(outerBox.height - innerBox.height);\n  const diffX = Math.ceil(outerBox.width - innerBox.width);\n  const topHeight = win.$header.offsetHeight;\n\n  const {left, top} = win.state.position;\n  const min = win.attributes.minDimension;\n  const max = win.attributes.maxDimension;\n\n  let width = Math.max(container.offsetWidth + diffX, min.width);\n  let height = Math.max(container.offsetHeight + diffY + topHeight, min.height);\n\n  if (max.width > 0) {\n    width = Math.min(width, max.width);\n  }\n\n  if (max.height > 0) {\n    height = Math.min(height, max.height);\n  }\n\n  width = Math.max(width, container.offsetWidth);\n  height = Math.max(height, container.offsetHeight);\n\n  if (rect) {\n    width = Math.min(width, rect.width - left);\n    height = Math.min(height, rect.height - top);\n  }\n\n  return {width, height};\n};\n\n/*\n * Transforms vector values (ex float to integer)\n */\nexport const transformVectors = (rect, {width, height}, {top, left}) => {\n  const transform = (val, attr) => {\n    if (!isNaN(val)) {\n      return val > 1 && Number.isInteger(val)\n        ? val\n        : Math.round(rect[attr] * parseFloat(val));\n    }\n\n    return val;\n  };\n\n  return {\n    dimension: {\n      width: transform(width, 'width'),\n      height: transform(height, 'height')\n    },\n    position: {\n      top: transform(top, 'height'),\n      left: transform(left, 'width')\n    }\n  };\n};\n\n/*\n * Creates a clamper for resize/move\n */\nconst clamper = win => {\n  const {maxDimension, minDimension} = win.attributes;\n  const {position, dimension} = win.state;\n\n  const maxPosition = {\n    left: position.left + dimension.width - minDimension.width,\n    top: position.top + dimension.height - minDimension.height\n  };\n\n  const clamp = (min, max, current) => {\n    const value = min === -1 ? current : Math.max(min, current);\n    return max === -1 ? value : Math.min(max, value);\n  };\n\n  return (width, height, top, left) => ({\n    width: clamp(minDimension.width, maxDimension.width, width),\n    height: clamp(minDimension.height, maxDimension.height, height),\n    top: clamp(-1, maxPosition.top, top),\n    left: clamp(-1, maxPosition.left, left)\n  });\n};\n\n/*\n * Creates a resize handler\n */\nexport const resizer = (win, handle) => {\n  const clamp = clamper(win);\n  const {position, dimension} = win.state;\n  const directions = handle.getAttribute('data-direction').split('');\n  const going = dir => directions.indexOf(dir) !== -1;\n  const xDir = going('e') ? 1 : (going('w') ? -1 : 0);\n  const yDir = going('s') ? 1 : (going('n') ? -1 : 0);\n\n  return (diffX, diffY) => {\n    const width = dimension.width + (diffX * xDir);\n    const height = dimension.height + (diffY * yDir);\n    const top = yDir === -1 ? position.top + diffY : position.top;\n    const left = xDir === -1 ? position.left + diffX : position.left;\n\n    return clamp(width, height, top, left);\n  };\n};\n\n/*\n * Creates a movement handler\n */\nexport const mover = (win, rect) => {\n  const {position} = win.state;\n\n  return (diffX, diffY) => {\n    const top = Math.max(position.top + diffY, rect.top);\n    const left = position.left + diffX;\n\n    return {top, left};\n  };\n};\n\n/*\n * Calculates a new initial position for window\n */\nexport const getCascadePosition = (win, rect, pos) => {\n  const startX = CASCADE_DISTANCE + rect.left;\n  const startY = CASCADE_DISTANCE + rect.top;\n  const distance = CASCADE_DISTANCE;\n  const wrap = CASCADE_DISTANCE * 2;\n\n  const newX = startX + ((win.wid % wrap) * distance);\n  const newY = startY + ((win.wid % wrap) * distance);\n  const position = (key, value) => typeof pos[key] === 'number' && Number.isInteger(pos[key])\n    ? Math.max(rect[key], pos[key])\n    : value;\n\n  return {top: position('top', newY), left: position('left', newX)};\n};\n\nconst getScreenOrientation = screen => screen && screen.orientation\n  ? screen.orientation.type\n  : window.matchMedia('(orientation: portrait)') ? 'portrait' : 'landscape';\n\n/*\n * Gets a media query name from a map\n */\nexport const getMediaQueryName = (win) => Object.keys(win.attributes.mediaQueries)\n  .filter(name => mediaQuery.match(win.attributes.mediaQueries[name], {\n    type: 'screen',\n    orientation: getScreenOrientation(window.screen),\n    width: win.$element.offsetWidth || win.state.dimension.width,\n    height: win.$element.offsetHeight || win.state.dimension.height\n  }))\n  .pop();\n\n/**\n * Loads [certain] window options from configuration\n */\nexport const loadOptionsFromConfig = (config, appName, windowId) => {\n  const matchStringOrRegex = (str, matcher) => matcher instanceof RegExp\n    ? !!str.match(matcher)\n    : str === matcher;\n\n  const found = config.find(({application, window}) => {\n    if (!application && !window) {\n      return false;\n    } else if (application && !matchStringOrRegex(appName, application)) {\n      return false;\n    } else if (window && !matchStringOrRegex(windowId || '', window)) {\n      return false;\n    }\n\n    return true;\n  });\n\n  const foundOptions = found && found.options ? found.options : {};\n  const allowedProperties = ['position', 'dimension', 'attributes'];\n\n  return allowedProperties.reduce((obj, key) => (foundOptions[key]\n    ? {...obj, [key]: foundOptions[key]}\n    : obj),\n  {});\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {EventEmitter} from '@osjs/event-emitter';\nimport logger from './logger';\n\nconst eventNames = ['open', 'close', 'message', 'error'];\n\n/**\n * Websocket options\n * @typedef {Object} WebsocketOptions\n * @property {boolean} [reconnect=true] Enable reconnection\n * @property {number} [interval=1000] Reconnect interval\n * @property {boolean} [open=true] Immediately open socket after creation\n */\n\n/**\n * Application Socket\n *\n * This is just an abstraction above the standard browser provided `WebSocket` class.\n * Since this class implements the EventHandler, use the `.on('event')` pattern instead of `.onevent`.\n */\nexport default class Websocket extends EventEmitter {\n\n  /**\n   * Create a new Websocket\n   * @param {string} name Instance name\n   * @param {string} uri Connection URI\n   * @param {WebsocketOptions} [options={}] Websocket options\n   */\n  constructor(name, uri, options = {}) {\n    logger.debug('Websocket::constructor()', name, uri);\n\n    super('Websocket@' + name);\n\n    /**\n     * Socket URI\n     * @type {string}\n     * @readonly\n     */\n    this.uri = uri;\n\n    /**\n     * If socket is closed\n     * @type {boolean}\n     */\n    this.closed = false;\n\n    /**\n     * If socket is connected\n     * @type {boolean}\n     */\n    this.connected = false;\n\n    /**\n     * If socket is connecting\n     * @type {boolean}\n     */\n    this.connecting = false;\n\n    /**\n     * If socket is reconnecting\n     * @type {boolean}\n     */\n    this.reconnecting = false;\n\n    /**\n     * If socket failed to connect\n     * @type {boolean}\n     */\n    this.connectfailed = false;\n\n    /**\n     * Options\n     * @type {WebsocketOptions}\n     * @readonly\n     */\n    this.options = {\n      reconnect: true,\n      interval: 1000,\n      open: true,\n      ...options\n    };\n\n    /**\n     * The Websocket\n     * @type {WebSocket}\n     */\n    this.connection = null;\n\n    this._attachEvents();\n\n    if (this.options.open) {\n      this.open();\n    }\n  }\n\n  /**\n   * Destroys the current connection\n   * @return {void}\n   * @private\n   */\n  _destroyConnection() {\n    if (!this.connection) {\n      return;\n    }\n\n    eventNames.forEach(name => {\n      this.connection[`on${name}`] = () => {};\n    });\n\n    this.reconnecting = clearInterval(this.reconnecting);\n    this.connection = null;\n  }\n\n  /**\n   * Attaches internal events\n   * @private\n   */\n  _attachEvents() {\n    this.on('open', ev => {\n      const reconnected = !!this.reconnecting;\n\n      this.connected = true;\n      this.reconnecting = false;\n      this.connectfailed = false;\n      this.reconnecting = clearInterval(this.reconnecting);\n\n      this.emit('connected', ev, reconnected);\n    });\n\n    this.on('close', ev => {\n      if (!this.connected && !this.connectfailed) {\n        this.emit('failed', ev);\n\n        this.connectfailed = true;\n      }\n\n      clearInterval(this.reconnecting);\n\n      this._destroyConnection();\n\n      this.connected = false;\n\n      if (this.options.reconnect) {\n        this.reconnecting = setInterval(() => {\n          if (!this.closed) {\n            this.open();\n          }\n        }, this.options.interval);\n      }\n\n      this.emit('disconnected', ev, this.closed);\n    });\n  }\n\n  /**\n   * Opens the connection\n   * @param {boolean} [reconnect=false] Force reconnection\n   */\n  open(reconnect = false) {\n    if (this.connection && !reconnect) {\n      return;\n    }\n\n    this._destroyConnection();\n\n    this.reconnecting = clearInterval(this.reconnecting);\n    this.connection = new WebSocket(this.uri);\n    this.closed = false;\n\n    eventNames.forEach(name => {\n      this.connection[`on${name}`] = (...args) => this.emit(name, ...args);\n    });\n  }\n\n  /**\n   * Wrapper for sending data\n   */\n  send(...args) {\n    return this.connection.send(...args);\n  }\n\n  /**\n   * Wrapper for closing\n   */\n  close(...args) {\n    this.closed = true;\n\n    return this.connection.close(...args);\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport logger from '../logger';\n\n/**\n * @callback DraggableEvent\n * @param {MouseEvent} ev\n */\n\n/**\n * @callback DroppableEvent\n * @param {MouseEvent} ev\n */\n\n/**\n * @callback DroppedEvent\n * @param {MouseEvent} ev\n * @param {Object} data\n * @param {File[]} [files=[]]\n */\n\n/**\n * @typedef {Object} DroppableOptions\n * @property {string} [type=application/json] Content Type\n * @property {string} [effect=move] DnD effect (cursor)\n * @property {DroppableEvent} [ondragenter] Callback to event (ev) => {}\n * @property {DroppableEvent} [ondragover] Callback to event (ev) => {}\n * @property {DroppableEvent} [ondragleave] Callback to event (ev) => {}\n * @property {DroppedEvent} [ondrop] Callback to event (ev, data, files) => {}\n * @property {boolean} [strict=false] Drop element must match exactly\n */\n\n/**\n * @typedef {Object} DroppableInstance\n * @property {Function} destroy\n */\n\n/**\n * @typedef {Object} DraggableOptions\n * @property {string} [type=application/json] Content Type\n * @property {string} [effect=move] DnD effect (cursor)\n * @property {DraggableEvent} [ondragstart] Callback to event (ev) => {}\n * @property {DraggableEvent} [ondragend] Callback to event (ev) => {}\n * @property {DraggableEvent} [setDragImage] Set custom drag image (browser dependent)\n */\n\n/**\n * @typedef {Object} DraggableInstance\n * @property {Function} destroy\n */\n\nconst retval = (fn, ...args) => {\n  try {\n    const result = fn(...args);\n    if (typeof result === 'boolean') {\n      return result;\n    }\n  } catch (e) {\n    logger.warn('droppable value parsing error', e);\n  }\n\n  return true;\n};\n\nconst getDataTransfer = (ev, type) => {\n  let files = [];\n  let data;\n\n  if (ev.dataTransfer) {\n    files = ev.dataTransfer.files\n      ? Array.from(ev.dataTransfer.files)\n      : [];\n\n    try {\n      const transfer = ev.dataTransfer.getData(type);\n\n      try {\n        if (type === 'application/json') {\n          data = typeof transfer === 'undefined' ? transfer : JSON.parse(transfer);\n        } else {\n          data = transfer;\n        }\n      } catch (e) {\n        data = transfer;\n        logger.warn('droppable dataTransfer parsing error', e);\n      }\n    } catch (e) {\n      logger.warn('droppable dataTransfer parsing error', e);\n    }\n  }\n\n  return {files, data};\n};\n\nconst setDataTransfer = (type, effect, data, setDragImage) => {\n  const hasDragImage = typeof setDragImage === 'function';\n  const transferData = type === 'application/json'\n    ? JSON.stringify(data)\n    : data;\n\n  return (ev, el, options) => {\n    if (ev.dataTransfer) {\n      if (ev.dataTransfer.setDragImage && hasDragImage) {\n        try {\n          setDragImage(ev, el, options);\n        } catch (e) {\n          logger.warn('draggable dragstart setDragImage error', e);\n        }\n      }\n\n      try {\n        ev.dataTransfer.effectAllowed = effect;\n        ev.dataTransfer.setData(type, transferData);\n      } catch (e) {\n        logger.warn('draggable dragstart dataTransfer error', e);\n      }\n    }\n  };\n};\n\n/**\n * Creates a \"draggable\" element\n * @param {Element} el The DOM element to apply to\n * @param {DraggableOptions} [options={}] Options\n * @return {DraggableInstance}\n */\nexport const draggable = (el, options = {}) => {\n  const {type, effect, data, ondragstart, ondragend, setDragImage} = {\n    type: 'application/json',\n    effect: 'move',\n    ondragstart: () => true,\n    ondragend: () => true,\n    setDragImage: null,\n    ...options\n  };\n\n  const setter = setDataTransfer(type, effect, data, setDragImage);\n\n  const dragstart = ev => {\n    el.setAttribute('aria-grabbed', 'true');\n    setter(ev, el, options);\n    return ondragstart(ev);\n  };\n\n  const dragend = ev => {\n    el.setAttribute('aria-grabbed', 'false');\n\n    return ondragend(ev);\n  };\n\n  const destroy = () => {\n    el.removeAttribute('draggable');\n    el.removeAttribute('aria-grabbed');\n    el.removeEventListener('dragstart', dragstart);\n    el.removeEventListener('dragend', dragend);\n    el.classList.remove('osjs__draggable');\n  };\n\n  el.setAttribute('draggable', 'true');\n  el.setAttribute('aria-grabbed', 'false');\n  el.addEventListener('dragstart', dragstart);\n  el.addEventListener('dragend', dragend);\n  el.classList.add('osjs__draggable');\n\n  return {destroy};\n};\n\n/**\n * Creates a \"droppable\" element\n * @param {Element} el The DOM element to apply to\n * @param {DroppableOptions} [options={}] Options\n * @return {DroppableInstance}\n */\nexport const droppable = (el, options = {}) => {\n  const {strict, type, effect, ondragenter, ondragover, ondragleave, ondrop} = {\n    type: 'application/json',\n    effect: 'move',\n    ondragenter: () => true,\n    ondragover: () => true,\n    ondragleave: () => true,\n    ondrop: () => true,\n    strict: false,\n    ...options\n  };\n\n  const dragenter = ev => ondragenter(ev);\n\n  const dragleave = ev => {\n    el.classList.remove('osjs__drop');\n\n    return retval(ondragleave, ev);\n  };\n\n  const dragover = ev => {\n    ev.preventDefault();\n\n    const inside = el.contains(ev.target);\n\n    if (!inside) {\n      el.classList.remove('osjs__drop');\n      return false;\n    }\n\n    ev.stopPropagation();\n    ev.dataTransfer.dropEffect = effect;\n    el.classList.add('osjs__drop');\n\n    return retval(ondragover, ev);\n  };\n\n  const drop = ev => {\n    if (strict && ev.target !== el) {\n      return false;\n    }\n\n    const {files, data} = getDataTransfer(ev, type);\n\n    ev.stopPropagation();\n    ev.preventDefault();\n    el.classList.remove('osjs__drop');\n\n    return retval(ondrop, ev, data, files);\n  };\n\n  const destroy = () => {\n    el.removeAttribute('aria-dropeffect', effect);\n    el.removeEventListener('dragenter', dragenter);\n    el.removeEventListener('dragover', dragover);\n    el.removeEventListener('dragleave', dragleave);\n    el.removeEventListener('drop', drop);\n    el.classList.remove('osjs__droppable');\n  };\n\n  el.setAttribute('aria-dropeffect', effect);\n  el.addEventListener('dragenter', dragenter);\n  el.addEventListener('dragover', dragover);\n  el.addEventListener('dragleave', dragleave);\n  el.addEventListener('drop', drop);\n  el.classList.add('osjs__droppable');\n\n  return {destroy};\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport logger from '../logger';\n\nconst supportsNativeNotification = 'Notification' in window;\n\n/**\n * Creates a new CSS DOM element\n * @param {Element} root Root node\n * @param {string} src Source\n * @return {Promise<ScriptElement>}\n */\nexport const style = (root, src) => new Promise((resolve, reject) => {\n  const el = document.createElement('link');\n  el.setAttribute('rel', 'stylesheet');\n  el.setAttribute('type', 'text/css');\n  el.onload = () => resolve(el);\n  el.onerror = (err) => reject(err);\n  el.setAttribute('href', src);\n\n  root.appendChild(el);\n\n  return el;\n});\n\n/**\n * Creates a new Script DOM element\n * @param {Element} root Root node\n * @param {string} src Source\n * @return {Promise<StyleElement>}\n */\nexport const script = (root, src) => new Promise((resolve, reject) => {\n  const el = document.createElement('script');\n  el.onreadystatechange = function() {\n    if ((this.readyState === 'complete' || this.readyState === 'loaded')) {\n      resolve(el);\n    }\n  };\n  el.onerror = (err) => reject(err);\n  el.onload = () => resolve(el);\n  el.src = src;\n\n  root.appendChild(el);\n\n  return el;\n});\n\n\n/**\n * Escape text so it is \"safe\" for HTML usage\n * @param {string} text Input text\n * @return {string}\n */\nexport const escapeHtml = (text) => {\n  const div = document.createElement('div');\n  div.innerHTML = text;\n  return div.textContent;\n};\n\n/**\n * Serialize an object to CSS\n * @param {object} obj Object\n * @return {string} CSS text\n */\nexport const createCssText = (obj) => Object.keys(obj)\n  .map(k => [k, k.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()])\n  .map(k => `${k[1]}: ${obj[k[0]]}`)\n  .join(';');\n\n/**\n * Inserts a tab in the given event target\n * @param {Event} ev DOM Event\n */\nexport const handleTabOnTextarea = ev => {\n  const input = ev.target;\n  let {selectionStart, selectionEnd, value} = input;\n\n  input.value = value.substring(0, selectionStart)\n    + '\\t'\n    + value.substring(selectionEnd, value.length);\n\n  selectionStart++;\n\n  input.selectionStart = selectionStart;\n  input.selectionEnd = selectionStart;\n};\n\n/*\n * Get active element if belonging to root\n * @param {Element} root DOM Element\n * @return {Element|null}\n */\nexport const getActiveElement = (root) => {\n  if (root) {\n    const ae = document.activeElement;\n\n    return root.contains(ae) ? ae : null;\n  }\n\n  return null;\n};\n\n/**\n * Checks if passive events is supported\n * @link https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n * @return {boolean}\n */\nexport const supportsPassive = (function() {\n  let supportsPassive = false;\n  try {\n    const opts = Object.defineProperty({}, 'passive', {\n      get: () => (supportsPassive = true)\n    });\n\n    window.addEventListener('testPassive', null, opts);\n    window.removeEventListener('testPassive', null, opts);\n  } catch (e) {/* noop */}\n\n  return () => supportsPassive;\n})();\n\n/**\n * Plays a sound\n * @param {string} src Sound source\n * @param {object} [options] Options\n * @return {Promise<HTMLAudioElement>}\n */\nexport const playSound = (src, options = {}) => {\n  const opts = {\n    volume: 1.0,\n    ...options\n  };\n\n  const audio = new Audio();\n  audio.voule = opts.volume;\n  audio.src = src;\n\n  try {\n    const p = audio.play();\n    if (p instanceof Promise) {\n      return p.then(() => audio)\n        .catch(err => logger.warn('Failed to play sound', src, err));\n    }\n  } catch (e) {\n    logger.warn('Failed to play sound', src, e);\n  }\n\n  return Promise.resolve(audio);\n};\n\n/**\n * Gets supported media types\n * @return {object}\n */\nexport const supportedMedia = () => {\n  const videoFormats = {\n    mp4: 'video/mp4',\n    ogv: 'video/ogg'\n  };\n\n  const audioFormats = {\n    mp3: 'audio/mpeg',\n    mp4: 'audio/mp4',\n    oga: 'audio/ogg'\n  };\n\n  const reduce = (list, elem) => Object.keys(list)\n    .reduce((result, format) => {\n      return {\n        [format]: elem.canPlayType(list[format]) === 'probably',\n        ...result\n      };\n    }, {});\n\n  return {\n    audio: reduce(audioFormats, document.createElement('audio')),\n    video: reduce(videoFormats, document.createElement('video'))\n  };\n};\n\n/**\n * Gets if CSS transitions is supported\n * @return {boolean}\n */\nexport const supportsTransition = (function() {\n  const el = document.createElement('div');\n  const tests = ['WebkitTransition', 'MozTransition', 'OTransition', 'transition'];\n  const supported = tests.some(name => typeof el.style[name] !== 'undefined');\n\n  return () => supported;\n})();\n\n/**\n * Creates a native notification\n * @param {object} options Notification options\n * @param {Function} [onclick] Callback on click\n * @return {Promise<window.Notification>}\n */\nexport const createNativeNotification = (options, onclick) => {\n  const Notif = window.Notification;\n\n  const create = () => {\n    const notification = new Notif(\n      options.title,\n      {\n        body: options.message,\n        icon: options.icon\n      }\n    );\n\n    notification.onclick = onclick;\n\n    return notification;\n  };\n\n  if (supportsNativeNotification) {\n    if (Notif.permission === 'granted') {\n      return Promise.resolve(create());\n    } else if (Notif.permission !== 'denied') {\n      return new Promise((resolve, reject) => {\n        Notif.requestPermission(permission => {\n          return permission === 'granted' ? resolve(true) : reject(permission);\n        });\n      }).then(create);\n    }\n  }\n\n  return Promise.reject('Unsupported');\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\nimport {EventEmitter} from '@osjs/event-emitter';\nimport {droppable} from './utils/dnd';\nimport {escapeHtml, createCssText, supportsTransition, getActiveElement} from './utils/dom';\nimport {\n  createAttributes,\n  createState,\n  createDOMAttributes,\n  createDOMStyles,\n  clampPosition,\n  renderCallback,\n  transformVectors,\n  positionFromGravity,\n  dimensionFromElement\n} from './utils/windows';\nimport logger from './logger';\n\n/**\n * Window dimension definition\n * @typedef {Object} WindowDimension\n * @property {number} width Width in pixels (or float for percentage in setters)\n * @property {number} height Height in pixels (or float for percentage in setters)\n */\n\n/**\n * Window position definition\n * @typedef {Object} WindowPosition\n * @property {number} left Left in pixels (or float for percentage in setters)\n * @property {number} top Top in pixels (or float for percentage in setters)\n */\n\n/**\n * Window session\n * @typedef {Object} WindowSession\n * @property {number} id\n * @property {boolean} maximized\n * @property {boolean} minimized\n * @property {WindowPosition} position\n * @property {WindowDimension} dimension\n */\n\n/**\n * Window attributes definition\n *\n * @typedef {Object} WindowAttributes\n * @property {string[]} [classNames=[]] A list of class names\n * @property {boolean} [ontop=false] If always on top\n * @property {string} [gravity] Gravity (center/top/left/right/bottom or any combination)\n * @property {boolean} [resizable=true] If resizable\n * @property {boolean} [focusable=true] If focusable\n * @property {boolean} [maximizable=true] If window if maximizable\n * @property {boolean} [minimizable=true] If minimizable\n * @property {boolean} [moveable=true] If moveable\n * @property {boolean} [closeable=true] If closeable\n * @property {boolean} [header=true] Show header\n * @property {boolean} [controls=true] Show controls\n * @property {string} [visibility=global] Global visibility, 'restricted' to hide from window lists etc.\n * @property {boolean} [clamp=true] Clamp the window position upon creation\n * @property {boolean} [droppable=true] If window should have the default drop action\n * @property {WindowDimension} [minDimension] Minimum dimension\n * @property {WindowDimension} [maxDimension] Maximum dimension\n * @property {{name: string}} [mediaQueries] A map of matchMedia to name\n */\n\n/**\n * Window state definition\n *\n * @typedef {Object} WindowState\n * @property {string} title Title\n * @property {string} icon Icon\n * @property {boolean} [moving=false] If moving\n * @property {boolean} [resizing=false] If resizing\n * @property {boolean} [loading=false] If loading\n * @property {boolean} [focused=false] If focused\n * @property {boolean} [maximized=false] If maximized\n * @property {boolean} [mimimized=false] If mimimized\n * @property {boolean} [modal=false] If modal to the parent\n * @property {number} [zIndex=10] The z-index (auto calculated)\n * @property {WindowPosition} [position] Position\n * @property {WindowDimension} [dimension] Dimension\n */\n\n/**\n * Window options definition\n *\n * @typedef {Object} WindowOptions\n * @property {string} id Window Id (not globaly unique)\n * @property {string} [title] Window Title\n * @property {string} [icon] Window Icon\n * @property {Window} [parent] The parent Window reference\n * @property {string|Function} [template] The Window HTML template (or function with signature (el, win) for programatic construction)\n * @property {Function} [ondestroy] A callback function when window destructs to interrupt the procedure\n * @property {WindowPosition|string} [position] Window position\n * @property {WindowDimension} [dimension] Window dimension\n * @property {WindowAttributes} [attributes] Apply Window attributes\n * @property {WindowState} [state] Apply Window state\n */\n\nlet windows = [];\nlet windowCount = 0;\nlet nextZindex = 1;\nlet lastWindow = null;\n\n/*\n * Default window template\n */\nconst TEMPLATE = `<div class=\"osjs-window-inner\">\n  <div class=\"osjs-window-header\">\n    <div class=\"osjs-window-icon\">\n      <div></div>\n    </div>\n    <div class=\"osjs-window-title\"></div>\n    <div class=\"osjs-window-button\" data-action=\"minimize\">\n      <div></div>\n    </div>\n    <div class=\"osjs-window-button\" data-action=\"maximize\">\n      <div></div>\n    </div>\n    <div class=\"osjs-window-button\" data-action=\"close\">\n      <div></div>\n    </div>\n  </div>\n  <div class=\"osjs-window-content\">\n  </div>\n  <div class=\"osjs-window-resize\" data-direction=\"n\"></div>\n  <div class=\"osjs-window-resize\" data-direction=\"nw\"></div>\n  <div class=\"osjs-window-resize\" data-direction=\"w\"></div>\n  <div class=\"osjs-window-resize\" data-direction=\"sw\"></div>\n  <div class=\"osjs-window-resize\" data-direction=\"s\"></div>\n  <div class=\"osjs-window-resize\" data-direction=\"se\"></div>\n  <div class=\"osjs-window-resize\" data-direction=\"e\"></div>\n  <div class=\"osjs-window-resize\" data-direction=\"ne\"></div>\n</div>`.replace(/\\n\\s+/g, '').trim();\n\n/**\n * Window Implementation\n */\nexport default class Window extends EventEmitter {\n\n  /**\n   * Create window\n   *\n   * @param {Core} core Core reference\n   * @param {WindowOptions} [options={}] Options\n   */\n  constructor(core, options = {}) {\n    options = {\n      id: null,\n      title: null,\n      parent: null,\n      template: null,\n      ondestroy: null,\n      attributes: {},\n      position: {},\n      dimension: {},\n      state: {},\n      ...options\n    };\n\n    logger.debug('Window::constructor()', options);\n\n    super('Window@' + options.id);\n\n    if (typeof options.position === 'string') {\n      options.attributes.gravity = options.position;\n      options.position = {};\n    }\n\n    /**\n     * The Window ID\n     * @type {string}\n     * @readonly\n     */\n    this.id = options.id;\n\n    /**\n     * The Window ID\n     * @type {Number}\n     * @readonly\n     */\n    this.wid = ++windowCount;\n\n    /**\n     * Parent Window reference\n     * @type {Window}\n     * @readonly\n     */\n    this.parent = options.parent;\n\n    /**\n     * Child windows (via 'parent')\n     * @type {Window[]}\n     */\n    this.children = [];\n\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * The window destruction state\n     * @type {boolean}\n     */\n    this.destroyed = false;\n\n    /**\n     * The window rendered state\n     * @type {boolean}\n     */\n    this.rendered = false;\n\n    /**\n     * The window was inited\n     * @type {boolean}\n     */\n    this.inited = false;\n\n    /**\n     * The window attributes\n     * @type {WindowAttributes}\n     */\n    this.attributes = createAttributes(options.attributes);\n\n    /**\n     * The window state\n     * @type {WindowState}\n     */\n    this.state = createState(options.state, options, this.attributes);\n\n    /**\n     * The window container\n     * @type {Element}\n     * @readonly\n     */\n    this.$element = document.createElement('div');\n\n    /**\n     * The content container\n     * @type {Element}\n     */\n    this.$content = null;\n\n    /**\n     * The header container\n     * @type {Element}\n     */\n    this.$header = null;\n\n    /**\n     * The icon container\n     * @type {Element}\n     */\n    this.$icon = null;\n\n    /**\n     * The title container\n     * @type {Element}\n     */\n    this.$title = null;\n\n    /**\n     * Internal variable to signal not to use default position\n     * given by user (used for restore)\n     * @private\n     * @type {boolean}\n     */\n    this._preventDefaultPosition = false;\n\n    /**\n     * Internal timeout reference used for triggering the loading\n     * overlay.\n     * @private\n     * @type {boolean}\n     */\n    this._loadingDebounce = null;\n\n    /**\n     * The window template\n     * @private\n     * @type {string|Function}\n     */\n    this._template = options.template;\n\n    /**\n     * Custom destructor callback\n     * @private\n     * @type {Function}\n     * @readonly\n     */\n    this._ondestroy = options.ondestroy || (() => true);\n\n    /**\n     * Last DOM update CSS text\n     * @private\n     * @type {string}\n     */\n    this._lastCssText = '';\n\n    /**\n     * Last DOM update data attributes\n     * @private\n     * @type {WindowAttributes}\n     */\n    this._lastAttributes = {};\n\n    windows.push(this);\n  }\n\n  /**\n   * Destroy window\n   */\n  destroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    if (typeof this._ondestroy === 'function' && this._ondestroy() === false) {\n      return;\n    }\n\n    this.destroyed = true;\n\n    logger.debug('Window::destroy()');\n\n    this.emit('destroy', this);\n    this.core.emit('osjs/window:destroy', this);\n\n    this.children.forEach(w => w.destroy());\n\n    if (this.$element) {\n      this.$element.remove();\n    }\n\n    if (lastWindow === this) {\n      lastWindow = null;\n    }\n\n    const foundIndex = windows.findIndex(w => w === this);\n    if (foundIndex !== -1) {\n      windows.splice(foundIndex, 1);\n    }\n\n    this.children = [];\n    this.parent = null;\n    this.$element = null;\n    this.$content = null;\n    this.$header = null;\n    this.$icon = null;\n    this.$title = null;\n\n    super.destroy();\n  }\n\n  /**\n   * Initialize window\n   */\n  init() {\n    if (this.inited) {\n      return this;\n    }\n\n    if (this.parent) {\n      // Assign the window if it is a child\n      this.on('destroy', () => {\n        const foundIndex = this.parent.children.findIndex(w => w === this);\n        if (foundIndex !== -1) {\n          this.parent.children.splice(foundIndex, 1);\n        }\n      });\n\n      this.parent.children.push(this);\n    }\n\n    this._initTemplate();\n    this._initBehavior();\n\n\n    this.inited = true;\n    this.emit('init', this);\n    this.core.emit('osjs/window:create', this);\n\n    return this;\n  }\n\n  /**\n   * Initializes window template\n   * @private\n   */\n  _initTemplate() {\n    const tpl = this.core.config('windows.template') || TEMPLATE;\n    if (this._template) {\n      this.$element.innerHTML = typeof this._template === 'function'\n        ? this._template(this, tpl)\n        : this._template;\n    } else {\n      this.$element.innerHTML = tpl;\n    }\n\n    this.$content = this.$element.querySelector('.osjs-window-content');\n    this.$header = this.$element.querySelector('.osjs-window-header');\n    this.$icon = this.$element.querySelector('.osjs-window-icon > div');\n    this.$title = this.$element.querySelector('.osjs-window-title');\n  }\n\n  /**\n   * Initializes window behavior\n   * @private\n   */\n  _initBehavior() {\n    // Transform percentages in dimension to pixels etc\n    if (this.core.has('osjs/desktop')) {\n      const rect = this.core.make('osjs/desktop').getRect();\n      const {dimension, position} = transformVectors(rect, this.state.dimension, this.state.position);\n      this.state.dimension = dimension;\n      this.state.position = position;\n    }\n\n    // Behavior\n    const behavior = this.core.make('osjs/window-behavior');\n    if (behavior) {\n      behavior.init(this);\n    }\n\n    // DnD functionality\n    if (this.attributes.droppable) {\n      const d = droppable(this.$element, {\n        ondragenter: (...args) => this.emit('dragenter', ...args, this),\n        ondragover: (...args) => this.emit('dragover', ...args, this),\n        ondragleave: (...args) => this.emit('dragleave', ...args, this),\n        ondrop: (...args) => this.emit('drop', ...args, this)\n      });\n\n      this.on('destroy', () => d.destroy());\n    }\n  }\n\n  /**\n   * Checks the modal state of the window upon render\n   * @private\n   */\n  _checkModal() {\n    // TODO: Global modal\n    if (this.parent) {\n      if (this.attributes.modal) {\n        this.on('render', () => this.parent.setState('loading', true));\n        this.on('destroy', () => this.parent.setState('loading', false));\n      }\n\n      this.on('destroy', () => this.parent.focus());\n    }\n  }\n\n  /**\n   * Sets the initial class names\n   * @private\n   */\n  _setClassNames() {\n    const classNames = ['osjs-window', ...this.attributes.classNames];\n    if (this.id) {\n      classNames.push(`Window_${this.id}`);\n    }\n\n    classNames.filter(val => !!val)\n      .forEach((val) => this.$element.classList.add(val));\n  }\n\n  /**\n   * Render window\n   * @param {Function} [callback] Callback when window DOM has been constructed\n   * @return {Window} this instance\n   */\n  render(callback = function() {}) {\n    if (this.rendered) {\n      return this;\n    } else if (!this.inited) {\n      this.init();\n    }\n\n    this._setClassNames();\n    this._updateButtons();\n    this._updateAttributes();\n    this._updateStyles();\n    this._updateTitle();\n    this._updateIconStyles();\n    this._updateHeaderStyles();\n    this._checkModal();\n\n    if (!this._preventDefaultPosition) {\n      this.gravitate(this.attributes.gravity);\n    }\n\n    // Clamp the initial window position to viewport\n    if (this.attributes.clamp) {\n      this.clampToViewport(false);\n    }\n\n    this.setNextZindex(true);\n\n    this.core.$contents.appendChild(this.$element);\n\n    renderCallback(this, callback);\n\n    this.rendered = true;\n\n    setTimeout(() => {\n      this.emit('render', this);\n      this.core.emit('osjs/window:render', this);\n    }, 1);\n\n    return this;\n  }\n\n  /**\n   * Close the window\n   * @return {boolean}\n   */\n  close() {\n    if (this.destroyed) {\n      return false;\n    }\n\n    this.emit('close', this);\n\n    this.destroy();\n\n    return true;\n  }\n\n  /**\n   * Focus the window\n   * @return {boolean}\n   */\n  focus() {\n    if (!this.state.minimized && this._toggleState('focused', true, 'focus')) {\n      this._focus();\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Internal for focus\n   * @private\n   */\n  _focus() {\n    if (lastWindow && lastWindow !== this) {\n      lastWindow.blur();\n    }\n\n    lastWindow = this;\n\n    this.setNextZindex();\n  }\n\n  /**\n   * Blur (un-focus) the window\n   * @return {boolean}\n   */\n  blur() {\n    // Forces blur-ing of browser input element belonging to this window\n    const activeElement = getActiveElement(this.$element);\n    if (activeElement) {\n      activeElement.blur();\n    }\n\n    return this._toggleState('focused', false, 'blur');\n  }\n\n  /**\n   * Minimize (hide) the window\n   * @return {boolean}\n   */\n  minimize() {\n    if (this.attributes.minimizable) {\n      if (this._toggleState('minimized', true, 'minimize')) {\n        this.blur();\n\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Raise (un-minimize) the window\n   * @return {boolean}\n   */\n  raise() {\n    return this._toggleState('minimized', false, 'raise');\n  }\n\n  /**\n   * Maximize the window\n   * @return {boolean}\n   */\n  maximize() {\n    if (this.attributes.maximizable) {\n      return this._maximize(true);\n    }\n\n    return false;\n  }\n\n  /**\n   * Restore (un-maximize) the window\n   * @return {boolean}\n   */\n  restore() {\n    return this._maximize(false);\n  }\n\n  /**\n   * Internal for Maximize or restore\n   * @private\n   * @param {boolean} toggle Maximize or restore\n   * @return {boolean}\n   */\n  _maximize(toggle) {\n    if (this._toggleState('maximized', toggle, toggle ? 'maximize' : 'restore')) {\n      const emit = () => this.emit('resized', {\n        width: this.$element ? this.$element.offsetWidth : -1,\n        height: this.$element ? this.$element.offsetHeight : -1\n      }, this);\n\n      if (supportsTransition()) {\n        this.once('transitionend', emit);\n      } else {\n        emit();\n      }\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Resize to fit to current container\n   * @param {Element} [container] The DOM element to use\n   */\n  resizeFit(container) {\n    container = container || this.$content.firstChild;\n\n    if (container) {\n      const rect = this.core.has('osjs/desktop')\n        ? this.core.make('osjs/desktop').getRect()\n        : null;\n\n      const {width, height} = dimensionFromElement(this, rect, container);\n      if (!isNaN(width) && !isNaN(height)) {\n        this.setDimension({width, height});\n      }\n    }\n  }\n\n  /**\n   * Clamps the position to viewport\n   * @param {boolean} [update=true] Update DOM\n   */\n  clampToViewport(update = true) {\n    if (!this.core.has('osjs/desktop')) {\n      return;\n    }\n\n    const rect = this.core.make('osjs/desktop').getRect();\n\n    this.state.position = {\n      ...this.state.position,\n      ...clampPosition(rect, this.state)\n    };\n\n    if (update) {\n      this._updateStyles();\n    }\n  }\n\n  /**\n   * Set the Window icon\n   * @param {string} uri Icon URI\n   */\n  setIcon(uri) {\n    this.state.icon = uri;\n\n    this._updateIconStyles();\n  }\n\n  /**\n   * Set the Window title\n   * @param {string} title Title\n   */\n  setTitle(title) {\n    this.state.title = title || '';\n\n    this._updateTitle();\n\n    this.core.emit('osjs/window:change', this, 'title', title);\n  }\n\n  /**\n   * Set the Window dimension\n   * @param {WindowDimension} dimension The dimension\n   */\n  setDimension(dimension) {\n    const {width, height} = {...this.state.dimension, ...dimension || {}};\n\n    this.state.dimension.width = width;\n    this.state.dimension.height = height;\n\n    this._updateStyles();\n  }\n\n  /**\n   * Set the Window position\n   * @param {WindowPosition} position The position\n   * @param {boolean} [preventDefault=false] Prevents any future position setting in init procedure\n   */\n  setPosition(position, preventDefault = false) {\n    const {left, top} = {...this.state.position, ...position || {}};\n\n    this.state.position.top = top;\n    this.state.position.left = left;\n\n    if (preventDefault) {\n      this._preventDefaultPosition = true;\n    }\n\n    this._updateStyles();\n  }\n\n  /**\n   * Set the Window z index\n   * @param {Number} zIndex the index\n   */\n  setZindex(zIndex) {\n    this.state.zIndex = zIndex;\n    logger.debug('Window::setZindex()', zIndex);\n\n    this._updateStyles();\n  }\n\n  /**\n   * Sets the Window to next z index\n   * @param {boolean} [force] Force next index\n   */\n  setNextZindex(force) {\n    const setNext = force || this._checkNextZindex();\n\n    if (setNext) {\n      this.setZindex(nextZindex);\n      nextZindex++;\n    }\n  }\n\n  /**\n   * Set a state by value\n   * @param {string} name State name\n   * @param {*} value State value\n   * @param {boolean} [update=true] Update the DOM\n   * @see {WindowState}\n   */\n  setState(name, value, update = true) {\n    const set = () => this._setState(name, value, update);\n\n    // Allows for some \"grace time\" so the overlay does not\n    // \"blink\"\n    if (name === 'loading' && update) {\n      clearTimeout(this._loadingDebounce);\n\n      if (value === true) {\n        this._loadingDebounce = setTimeout(() => set(), 250);\n        return;\n      }\n    }\n\n    set();\n  }\n\n  /**\n   * Gravitates window towards a certain area\n   * @param {string} gravity Gravity\n   */\n  gravitate(gravity) {\n    if (!this.core.has('osjs/desktop')) {\n      return;\n    }\n\n    const rect = this.core.make('osjs/desktop').getRect();\n    const position = positionFromGravity(this, rect, gravity);\n\n    this.setPosition(position);\n  }\n\n  /**\n   * Gets a astate\n   * @return {*}\n   */\n  getState(n) {\n    const value = this.state[n];\n\n    return ['position', 'dimension', 'styles'].indexOf(n) !== -1\n      ? {...value}\n      : value;\n  }\n\n  /**\n   * Get a snapshot of the Window session\n   * @return {WindowSession}\n   */\n  getSession() {\n    return this.attributes.sessionable === false ? null : {\n      id: this.id,\n      maximized: this.state.maximized,\n      minimized: this.state.minimized,\n      position: {...this.state.position},\n      dimension: {...this.state.dimension}\n    };\n  }\n\n  /**\n   * Get a list of all windows\n   *\n   * @return {Window[]}\n   */\n  static getWindows() {\n    return windows;\n  }\n\n  /**\n   * Gets the lastly focused Window\n   * @return {Window}\n   */\n  static lastWindow() {\n    return lastWindow;\n  }\n\n  /**\n   * Internal method for setting state\n   * @private\n   * @param {string} name State name\n   * @param {*} value State value\n   * @param {boolean} [update=true] Update the DOM\n   * @param {boolean} [updateAll=true] Update the entire DOM\n   */\n  _setState(name, value, update = true) {\n    const oldValue = this.state[name];\n    this.state[name] = value;\n\n    if (update) {\n      if (oldValue !== value) {\n        logger.debug('Window::_setState()', name, value);\n      }\n\n      this._updateAttributes();\n      this._updateStyles();\n    }\n  }\n\n  /**\n   * Internal method for toggling state\n   * @private\n   * @param {string} name State name\n   * @param {any} value State value\n   * @param {string} eventName Name of event to emit\n   * @param {boolean} [update=true] Update the DOM\n   */\n  _toggleState(name, value, eventName, update = true) {\n    if (this.state[name] === value) {\n      return false;\n    }\n\n    logger.debug('Window::_toggleState()', name, value, eventName, update);\n\n    this.state[name] = value;\n    this.emit(eventName, this);\n    this.core.emit('osjs/window:change', this, name, value);\n\n    if (update) {\n      this._updateAttributes();\n    }\n\n    return true;\n  }\n\n  /**\n   * Check if we have to set next zindex\n   * @private\n   * @return {boolean}\n   */\n  _checkNextZindex() {\n    const {ontop} = this.attributes;\n    const {zIndex} = this.state;\n\n    const windexes = windows\n      .filter(w => w.attributes.ontop === ontop)\n      .filter(w => w.wid !== this.wid)\n      .map(w => w.state.zIndex);\n\n    const max = windexes.length > 0\n      ? Math.max.apply(null, windexes)\n      : 0;\n\n    return zIndex < max;\n  }\n\n  /*\n   * Updates window styles and attributes\n   * FIXME: Backward compability with themes\n   * @deprecated\n   */\n  _updateDOM() {\n    this._updateAttributes();\n    this._updateStyles();\n  }\n\n  /**\n   * Updates the window buttons in DOM\n   * @private\n   */\n  _updateButtons() {\n    const hideButton = action =>\n      this.$header.querySelector(`.osjs-window-button[data-action=${action}]`)\n        .style.display = 'none';\n\n    const buttonmap = {\n      maximizable: 'maximize',\n      minimizable: 'minimize',\n      closeable: 'close'\n    };\n\n    if (this.attributes.controls) {\n      Object.keys(buttonmap)\n        .forEach(key => {\n          if (!this.attributes[key]) {\n            hideButton(buttonmap[key]);\n          }\n        });\n    } else {\n      Array.from(this.$header.querySelectorAll('.osjs-window-button'))\n        .forEach(el => el.style.display = 'none');\n    }\n  }\n\n  /**\n   * Updates window title in DOM\n   * @private\n   */\n  _updateTitle() {\n    if (this.$title) {\n      const escapedTitle = escapeHtml(this.state.title);\n      if (this.$title.innerHTML !== escapedTitle) {\n        this.$title.innerHTML = escapedTitle;\n      }\n    }\n  }\n\n  /**\n   * Updates window icon decoration in DOM\n   * @private\n   */\n  _updateIconStyles() {\n    if (this.$icon) {\n      const iconSource = `url(${this.state.icon})`;\n      if (this.$icon.style.backgroundImage !== iconSource) {\n        this.$icon.style.backgroundImage = iconSource;\n      }\n    }\n  }\n\n  /**\n   * Updates window header decoration in DOM\n   * @private\n   */\n  _updateHeaderStyles() {\n    if (this.$header) {\n      const headerDisplay = this.attributes.header ? undefined : 'none';\n      if (this.$header.style.display !== headerDisplay) {\n        this.$header.style.display = headerDisplay;\n      }\n    }\n  }\n\n  /**\n   * Updates window data in DOM\n   * @private\n   */\n  _updateAttributes() {\n    if (this.$element) {\n      const attrs = createDOMAttributes(this.id, this.state, this.attributes);\n      const applyAttrs = Object.keys(attrs).filter(k => attrs[k] !== this._lastAttributes[k]);\n\n      if (applyAttrs.length > 0) {\n        applyAttrs.forEach(a => this.$element.setAttribute(`data-${a}`, String(attrs[a])));\n        this._lastAttributes = attrs;\n      }\n    }\n  }\n\n  /**\n   * Updates window style in DOM\n   * @private\n   */\n  _updateStyles() {\n    if (this.$element) {\n      const cssText = createCssText(createDOMStyles(this.state, this.attributes));\n      if (cssText !== this._lastCssText) {\n        this.$element.style.cssText = cssText;\n        this._lastCssText = cssText;\n      }\n    }\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\nimport merge from 'deepmerge';\nimport {EventEmitter} from '@osjs/event-emitter';\nimport {loadOptionsFromConfig} from './utils/windows';\nimport Websocket from './websocket';\nimport Window from './window';\nimport logger from './logger';\n\nconst applications = [];\nlet applicationCount = 0;\n\nconst getSettingsKey = metadata =>\n  'osjs/application/' + metadata.name;\n\n/**\n * Application Options\n *\n * @typedef {Object} ApplicationOptions\n * @property {object} [settings] Initial settings\n * @property {object} [restore] Restore data\n * @property {boolean} [windowAutoFocus=true] Auto-focus first created window\n * @property {boolean} [sessionable=true] Allow session storage\n */\n\n/**\n * Application Data\n *\n * @typedef {Object} ApplicationData\n * @property {{foo: *}} args Launch arguments\n * @property {ApplicationOptions} [options] Options\n * @property {PackageMetadata} [metadata] Package Metadata\n */\n\n/**\n * Application Session\n *\n * @typedef {Object} ApplicationSession\n * @property {{foo: string}} args\n * @property {string} name\n * @property {WindowSession[]} windows\n */\n\n/**\n * Base class for an Application\n */\nexport default class Application extends EventEmitter {\n\n  /**\n   * Create application\n   *\n   * @param {Core} core Core reference\n   * @param {ApplicationData} data Application data\n   */\n  constructor(core, data) {\n    data = {\n      args: {},\n      options: {},\n      metadata: {},\n      ...data\n    };\n\n    logger.debug('Application::constructor()', data);\n\n    const defaultSettings = data.options.settings\n      ? {...data.options.settings}\n      : {};\n\n    const name = data.metadata && data.metadata.name\n      ? 'Application@' + data.metadata.name\n      : 'Application' + String(applicationCount);\n\n    super(name);\n\n    /**\n     * The Application ID\n     * @type {Number}\n     * @readonly\n     */\n    this.pid = applicationCount;\n\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * Application arguments\n     * @type {{foo: *}}\n     */\n    this.args = data.args;\n\n    /**\n     * Application options\n     * @type {ApplicationOptions}\n     */\n    this.options = {\n      sessionable: true,\n      windowAutoFocus: true,\n      ...data.options\n    };\n\n    /**\n     * Application metadata\n     * @type {PackageMetadata}\n     * @readonly\n     */\n    this.metadata = data.metadata;\n\n    /**\n     * Window list\n     * @type {Window[]}\n     */\n    this.windows = [];\n\n    /**\n     * Worker instances\n     * @type {Worker[]}\n     */\n    this.workers = [];\n\n    /**\n     * Options for internal fetch/requests\n     * @type {object}\n     */\n    this.requestOptions = {};\n\n    /**\n     * The application destruction state\n     * @type {boolean}\n     */\n    this.destroyed = false;\n\n    /**\n     * Application settings\n     * @type {{foo: *}}\n     */\n    this.settings = core.make('osjs/settings')\n      .get(getSettingsKey(this.metadata), null, defaultSettings);\n\n    /**\n     * Application started time\n     * @type {Date}\n     * @readonly\n     */\n    this.started = new Date();\n\n    /**\n     * Application WebSockets\n     * @type {Websocket[]}\n     */\n    this.sockets = [];\n\n    applications.push(this);\n    applicationCount++;\n\n    this.core.emit('osjs/application:create', this);\n  }\n\n  /**\n   * Destroy application\n   */\n  destroy(remove = true) {\n    if (this.destroyed) {\n      return;\n    }\n    this.destroyed = true;\n\n    this.emit('destroy');\n    this.core.emit('osjs/application:destroy', this);\n\n    const destroy = (list, fn) => {\n      try {\n        list.forEach(fn);\n      } catch (e) {\n        logger.warn('Exception on application destruction', e);\n      }\n\n      return [];\n    };\n\n    this.windows = destroy(this.windows, window => window.destroy());\n    this.sockets = destroy(this.sockets, ws => ws.close());\n    this.workers = destroy(this.workers, worker => worker.terminate());\n\n    if (remove) {\n      const foundIndex = applications.findIndex(a => a === this);\n      if (foundIndex !== -1) {\n        applications.splice(foundIndex, 1);\n      }\n    }\n\n    super.destroy();\n  }\n\n  /**\n   * Re-launch this application\n   */\n  relaunch() {\n    const windows = this.windows.map(w => w.getSession());\n\n    this.destroy();\n\n    setTimeout(() => {\n      this.core.run(this.metadata.name, {...this.args}, {\n        ...this.options,\n        forcePreload: this.core.config('development'),\n        restore: {windows}\n      });\n    }, 1);\n  }\n\n  /**\n   * Gets a URI to a resource for this application\n   *\n   * If given path is an URI it will just return itself.\n   *\n   * @param {string} path The path\n   * @param {object} [options] Options for url() in core\n   * @return {string} A complete URI\n   */\n  resource(path = '/', options = {}) {\n    return this.core.url(path, options, this.metadata);\n  }\n\n  /**\n   * Performs a request to the OS.js server with the application\n   * as the endpoint.\n   * @param {string} [path=/] Append this to endpoint\n   * @param {Options} [options] fetch options\n   * @param {string} [type='json'] Request / Response type\n   * @return {Promise<*>} ArrayBuffer or JSON\n   */\n  request(path = '/', options = {}, type = 'json') {\n    const uri = this.resource(path);\n\n    return this.core.request(uri, options, type);\n  }\n\n  /**\n   * Creates a new Websocket\n   * @param {string} [path=/socket] Append this to endpoint\n   * @param {WebsocketOptions} [options={}] Connection options\n   * @return {Websocket}\n   */\n  socket(path = '/socket', options = {}) {\n    options = {\n      socket: {},\n      ...options\n    };\n\n    const uri = this.resource(path, {type: 'websocket'});\n    const ws = new Websocket(this.metadata.name, uri, options.socket);\n\n    this.sockets.push(ws);\n\n    return ws;\n  }\n\n  /**\n   * Sends a message over websocket via the core connection.\n   *\n   * This does not create a new connection, but rather uses the core connection.\n   * For subscribing to messages from the server use the 'ws:message' event\n   *\n   * @param {*} ...args Arguments to pass to message\n   */\n  send(...args) {\n    this.core.send('osjs/application:socket:message', {\n      pid: this.pid,\n      name: this.metadata.name,\n      args\n    });\n  }\n\n  /**\n   * Creates a new Worker\n   * @param {string} filename Worker filename\n   * @param {object} [options] Worker options\n   * @return {Worker}\n   */\n  worker(filename, options = {}) {\n    const uri = this.resource(filename);\n    const worker =  new Worker(uri, {\n      credentials: 'same-origin',\n      ...options\n    });\n\n    this.workers.push(worker);\n\n    return worker;\n  }\n\n  /**\n   * Create a new window belonging to this application\n   * @param {WindowOptions} [options={}] Window options\n   * @return {Window}\n   */\n  createWindow(options = {}) {\n    const found = this.windows.find(w => w.id === options.id);\n    if (found) {\n      const msg = this.core.make('osjs/locale')\n        .translate('ERR_WINDOW_ID_EXISTS', options.id);\n\n      throw new Error(msg);\n    }\n\n    const configWindows = this.core.config('application.windows', []);\n    const applyOptions = loadOptionsFromConfig(configWindows, this.metadata.name, options.id);\n    const instance = new Window(this.core, merge(options, applyOptions));\n\n    if (this.options.restore) {\n      const windows = this.options.restore.windows || [];\n      const found = windows.findIndex(r => r.id === instance.id);\n\n      if (found !== -1) {\n        const restore = windows[found];\n        instance.setPosition(restore.position, true);\n        instance.setDimension(restore.dimension);\n\n        if (restore.minimized) {\n          instance.minimize();\n        } else if (restore.maximized) {\n          instance.maximize();\n        }\n\n        this.options.restore.windows.splice(found, 1);\n      }\n    }\n\n    instance.init();\n\n    this.windows.push(instance);\n\n    this.emit('create-window', instance);\n    instance.on('destroy', () => {\n      if (!this.destroyed) {\n        const foundIndex = this.windows.findIndex(w => w === instance);\n        if (foundIndex !== -1) {\n          this.windows.splice(foundIndex, 1);\n        }\n      }\n\n      this.emit('destroy-window', instance);\n    });\n\n    if (this.options.windowAutoFocus) {\n      instance.focus();\n    }\n\n    return instance;\n  }\n\n  /**\n   * Removes window(s) based on given filter\n   * @param {Function} filter Filter function\n   */\n  removeWindow(filter) {\n    const found = this.windows.filter(filter);\n    found.forEach(win => win.destroy());\n  }\n\n  /**\n   * Gets a snapshot of the application session\n   * @return {ApplicationSession}\n   */\n  getSession() {\n    const session = {\n      args: {...this.args},\n      name: this.metadata.name,\n      windows: this.windows\n        .map(w => w.getSession())\n        .filter(s => s !== null)\n    };\n\n    return session;\n  }\n\n  /**\n   * Emits an event across all (or filtered) applications\n   *\n   * @deprecated\n   * @param {Function} [filter] A method to filter what applications to send to\n   * @return {Function} Function with 'emit()' signature\n   */\n  emitAll(filter) {\n    logger.warn('Application#emitAll is deprecated. Use Core#broadcast instead');\n\n    const defaultFilter = proc => proc.pid !== this.pid;\n    const filterFn = typeof filter === 'function'\n      ? filter\n      : typeof filter === 'string'\n        ? proc => defaultFilter(proc) && proc.metadata.name === filter\n        : defaultFilter;\n\n    return (name, ...args) => applications.filter(filterFn)\n      .map(proc => proc.emit(name, ...args));\n  }\n\n  /**\n   * Saves settings\n   * @return {Promise<boolean>}\n   */\n  saveSettings() {\n    const service = this.core.make('osjs/settings');\n    const name = getSettingsKey(this.metadata);\n\n    service.set(name, null, this.settings);\n\n    return service.save();\n  }\n\n  /**\n   * Get a list of all running applications\n   *\n   * @return {Application[]}\n   */\n  static getApplications() {\n    return applications;\n  }\n\n  /**\n   * Kills all running applications\n   */\n  static destroyAll() {\n    applications.forEach(proc => {\n      try {\n        proc.destroy(false);\n      } catch (e) {\n        logger.warn('Exception on destroyAll', e);\n      }\n    });\n\n    applications.splice(0, applications.length);\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport dateformat from 'dateformat';\n\nconst FALLBACK_LOCALE = 'en_EN';\n\n// TODO\nconst prefixMap = {\n  nb: 'nb_NO'\n};\n\nconst sprintfRegex = /\\{(\\d+)\\}/g;\n\nconst sprintfMatcher = args => (m, n) =>\n  n in args ? args[n] : m;\n\nconst getDefaultLocale = (core, key) => core.config('locale.' + key);\n\nconst getUserLocale = (core, key, defaultLocale) => core.make('osjs/settings')\n  .get('osjs/locale', key, defaultLocale);\n\n/**\n * Gest the set localization\n * @param {Core} core OS.js Core IoC\n * @param {string} key Settings key (locales.*)\n * @return {object} An object with defaultLocale and userLocale\n */\nexport const getLocale = (core, key) => {\n  const defaultLocale = getDefaultLocale(core, key);\n  const userLocale = getUserLocale(core, key, defaultLocale);\n  return {defaultLocale, userLocale};\n};\n\n/**\n * Gets a raw string from a tree of translations based on key\n *\n * Note that this function will fall back to a pre-configured locale\n * if the given locale names were not found.\n *\n * @private\n * @param {object}  list      The tree of translations\n * @param {string}  ul        User locale name\n * @param {string}  dl        Default locale name\n * @param {string}  k         The key to translate from tree\n * @return {string}           The raw string\n */\nconst getFromList = (list, ul, dl, k) => {\n  const fallbackList = list[FALLBACK_LOCALE] || {};\n  const localizedList = list[ul] || list[dl] || {};\n\n  if (typeof localizedList[k] === 'undefined') {\n    return fallbackList[k] || k;\n  }\n\n  return localizedList[k];\n};\n\n/**\n * Translates a key + arguments from a tree of translations\n *\n * @example\n *  translate({en_EN: {foo: 'Hello {0}'}}, 'nb_NO', 'en_EN', 'foo', 'World') => 'Hello World'\n *\n * @private\n * @param {object}  list      The tree of translations\n * @param {string}  ul        User locale name\n * @param {string}  dl        Default locale name\n * @param {string}  k         The key to translate from tree\n * @param {...*}    args      A list of arguments that are defined in the translation string\n * @return {string}           The translated string\n */\nexport const translate = (list, ul, dl, k, ...args) => {\n  const fmt = getFromList(list, ul, dl, k);\n  return fmt.replace(sprintfRegex, sprintfMatcher(args));\n};\n\n/**\n * Translates a given flat tree of locales\n *\n * Will automatically detect the current locale from the user.\n *\n * Returns a function that takes a key and returns the correct string.\n *\n * @example\n *  translatableFlat({en_EN: 'Hello World'}); // => 'Hello World'\n *\n * @param {object} list The tree of translations\n * @param {string} defaultValue Default value if none found\n * @return {string} The translated string\n */\nexport const translatableFlat = core => (list, defaultValue) => {\n  const {defaultLocale, userLocale} = getLocale(core, 'language');\n\n  return list[userLocale] || list[defaultLocale] || list[FALLBACK_LOCALE] || defaultValue;\n};\n\n/**\n * Translates a given tree of locales.\n *\n * Will automatically detect the current locale from the user.\n *\n * Returns a `translate` function that takes a key and list of arguments.\n *\n * @see translate\n * @example\n *  translatable({en_EN: {foo: 'Hello {0}'}})\n *    ('foo', 'World'); // => 'Hello World'\n * @param {string} k List key\n * @param {...args} Format arguments\n * @return {Function} A translation function\n */\nexport const translatable = core => list => {\n  const {defaultLocale, userLocale} = getLocale(core, 'language');\n\n  return (k, ...args) => translate(\n    list,\n    userLocale,\n    defaultLocale,\n    k,\n    ...args\n  );\n};\n\n/**\n * Formats a given Date to a specified format\n *\n * Will automatically detect the current locale from the user.\n *\n * Formats are 'shortDate', 'mediumDate', 'longDate', 'fullDate',\n *       'shortTime' and 'longTime'\n *\n * @param {Date} date Date object\n * @param {string} fmt Format\n * @return {string}\n */\nexport const format = core => (date, fmt) => {\n  const {defaultLocale, userLocale} = getLocale(core, 'format.' + fmt);\n  const useFormat = userLocale || defaultLocale || fmt;\n\n  return dateformat(date, useFormat);\n};\n\n/**\n * Returns the navigator language\n * @param {object} [nav]\n * @return {string}\n */\nexport const browserLocale = (nav = {}) => {\n  const browserLanguage = nav.userLanguage || nav.language || '';\n  const get = l => prefixMap[l] ? prefixMap[l] : (l.match(/_/)\n    ? l\n    : (l ? `${l}_${l.toUpperCase()}` : ''));\n\n  const langs = (nav.languages || [browserLanguage])\n    .map(l => get(l.replace('-', '_')))\n    .filter(str => !!str);\n\n  return langs[langs.length - 1];\n};\n\n/**\n * Figures out what locale the browser is running as\n *\n * @param {string} [defaultLocale=en_EN] Default locale if none found\n * @return {string} The browser locale\n */\nexport const clientLocale = (() => {\n  const lang = browserLocale(navigator);\n\n  return (defaultLocale = FALLBACK_LOCALE, acceptedLocales = []) => {\n    const found = lang || defaultLocale;\n\n    if (acceptedLocales.lenght > 0 && acceptedLocales.indexOf(lang) === -1) {\n      return defaultLocale;\n    }\n\n    return found;\n  };\n})();\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Splash Screen UI\n */\nexport default class Splash {\n  /**\n   * Create Splash\n   * @param {Core} core Core reference\n   */\n  constructor(core) {\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * Splash root element\n     * @type {Element}\n     * @readonly\n     */\n    this.$loading = document.createElement('div');\n    this.$loading.className = 'osjs-boot-splash';\n\n    core.on('osjs/core:boot', () => this.show());\n    core.on('osjs/core:booted', () => this.destroy());\n    core.on('osjs/core:logged-in', () => this.show());\n    core.on('osjs/core:started', () => this.destroy());\n  }\n\n  /**\n   * Initializes splash\n   */\n  init() {\n    this.$loading.appendChild(document.createTextNode('Loading...'));\n  }\n\n  /**\n   * Shows splash\n   */\n  show() {\n    if (!this.$loading.parentNode) {\n      this.core.$root.appendChild(this.$loading);\n    }\n  }\n\n  /**\n   * Destroys splash\n   */\n  destroy() {\n    if (this.$loading.parentNode) {\n      this.$loading.remove();\n    }\n  }\n}\n","export default __webpack_public_path__ + \"f4cfc6708cf6bfc17d4b1e775f594ae2.png\";","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {clientLocale} from './utils/locale.js';\nimport defaultWallpaper from './styles/wallpaper.png';\nimport defaultIcon from './styles/logo-blue-32x32.png';\n\n/**\n * TODO: typedef\n * @typedef {Object} CoreConfig\n */\n\nconst createUri = str => str\n  .replace(/(index\\.(html?|php))$/, '')\n  .replace(/\\/?$/, '/');\n\nconst pathname = createUri(window.location.pathname);\n\nconst href = createUri(window.location.href);\n\nconst languages = {\n  en_EN: 'English',\n  nb_NO: 'Norwegian, Norsk (bokml)',\n  vi_VN: 'Vietnamese, Vietnamese',\n  fr_FR: 'French',\n  de_DE: 'German',\n  sl_SI: 'Slovenian, Slovenina',\n  zh_CN: 'Chinese (simplified)',\n  fa_FA: 'Persian',\n  pt_BR: 'Portugus (Brasil)',\n  ru_RU: ' (Russian)'\n};\n\nexport const defaultConfiguration = {\n  development: !(process.env.NODE_ENV || '').match(/^prod/i),\n  standalone: false,\n  languages,\n\n  http: {\n    ping: true, // By default maxAge / 2\n    public: pathname,\n    uri: href\n  },\n\n  ws: {\n    connectInterval: 5000,\n    uri: href.replace(/^http/, 'ws'),\n    disabled: false\n  },\n\n  packages: {\n    manifest: '/metadata.json',\n    metadata: [],\n    hidden: [],\n    permissions: {}\n  },\n\n  // FIXME: Move into packages above ?!\n  application: {\n    pinned: [],\n    autostart: [],\n    categories: {\n      development: {\n        label: 'LBL_APP_CAT_DEVELOPMENT',\n        icon: 'applications-development'\n      },\n      science: {\n        label: 'LBL_APP_CAT_SCIENCE',\n        icon: 'applications-science'\n      },\n      games: {\n        label: 'LBL_APP_CAT_GAMES',\n        icon: 'applications-games'\n      },\n      graphics: {\n        label: 'LBL_APP_CAT_GRAPHICS',\n        icon: 'applications-graphics'\n      },\n      network: {\n        label: 'LBL_APP_CAT_NETWORK',\n        icon: 'applications-internet'\n      },\n      multimedia: {\n        label: 'LBL_APP_CAT_MULTIMEDIA',\n        icon: 'applications-multimedia'\n      },\n      office: {\n        label: 'LBL_APP_CAT_OFFICE',\n        icon: 'applications-office'\n      },\n      system: {\n        label: 'LBL_APP_CAT_SYSTEM',\n        icon: 'applications-system'\n      },\n      utilities: {\n        label: 'LBL_APP_CAT_UTILITIES',\n        icon: 'applications-utilities'\n      },\n      other: {\n        label: 'LBL_APP_CAT_OTHER',\n        icon: 'applications-other'\n      }\n    },\n    windows: [\n      /*\n      {\n        application: string | RegExp | undefined,\n        window: string | RegExp | undefined,\n        options: {\n          dimension: object | undefined,\n          position: object | undefined,\n          attributes: object | undefined\n        }\n      }\n      */\n    ]\n  },\n\n  auth: {\n    ui: {},\n\n    login: {\n      username: null,\n      password: null\n    },\n\n    // NOTE: These are the fallback default values\n    defaultUserData: {\n      id: null,\n      username: 'osjs',\n      groups: []\n    }\n  },\n\n  settings: {\n    lock: [],\n\n    defaults: {\n      'osjs/default-application': {},\n      'osjs/session': [],\n      'osjs/desktop': {},\n      'osjs/locale': {}\n    }\n  },\n\n  search: {\n    enabled: true\n  },\n\n  notifications: {\n    native: false\n  },\n\n  desktop: {\n    lock: false,\n    contextmenu: {\n      enabled: true,\n      defaults: true\n    },\n\n    settings: {\n      font: 'Roboto',\n      theme: 'StandardTheme',\n      sounds: 'FreedesktopSounds',\n      icons: 'GnomeIcons',\n      animations: false,\n      panels: [{\n        position: 'top',\n        items: [\n          {name: 'menu'},\n          {name: 'windows'},\n          {name: 'tray'},\n          {name: 'clock'}\n        ]\n      }],\n      widgets: [],\n      keybindings: {\n        'open-application-menu': 'shift+alt+a',\n        'close-window': 'shift+alt+w'\n      },\n      notifications: {\n        position: 'top-right'\n      },\n      background: {\n        src: defaultWallpaper,\n        color: '#572a79',\n        style: 'cover'\n      },\n      iconview: {\n        enabled: true,\n        path: 'home:/.desktop',\n        fontColorStyle: 'system',\n        fontColor: '#ffffff'\n      }\n    }\n  },\n\n  locale: {\n    language: clientLocale('en_EN', Object.keys(languages)),\n    rtl: ['az', 'fa', 'he', 'uz', 'ar'],\n    format: {\n      shortDate: 'yyyy-mm-dd',\n      mediumDate: 'dS mmm yyyy',\n      longDate: 'dS mmmm yyyy',\n      fullDate: 'dddd dS mmmm yyyy',\n      shortTime: 'HH:MM',\n      longTime: 'HH:MM:ss'\n    }\n  },\n\n  windows: {\n    lofi: false,\n    mobile: false, // Trigger for setting mobile UI\n    template: null, // A string. See 'window.js' for example\n    clampToViewport: true, // Clamp windows to viewport on resize\n    moveKeybinding: 'ctrl'\n  },\n\n  vfs: {\n    watch: true,\n    defaultPath: 'home:/',\n    defaultAdapter: 'system',\n    adapters: {},\n    mountpoints: [{\n      name: 'apps',\n      label: 'Applications',\n      adapter: 'apps',\n      icon: defaultIcon,\n      attributes: {\n        visibility: 'restricted',\n        readOnly: true\n      }\n    }, {\n      name: 'osjs',\n      label: 'OS.js',\n      adapter: 'system',\n      icon: {name: 'folder-publicshare'}\n    }, {\n      name: 'home',\n      label: 'Home',\n      adapter: 'system',\n      icon: {name: 'user-home'}\n    }],\n    icons: {\n      '^application/zip': {name: 'package-x-generic'},\n      '^application/javascript': {name: 'text-x-script'},\n      '^application/json': {name: 'text-x-script'},\n      '^application/x-python': {name: 'text-x-script'},\n      '^application/php': {name: 'text-x-script'},\n      '^application/pdf': {name: 'x-office-document'},\n      '^application/rtf': {name: 'x-office-document'},\n      '^application/msword': {name: 'x-office-document'},\n      '^application/(xz|tar|gzip)': {name: 'package-x-generic'},\n      '^text/css': {name: 'text-x-script'},\n      '^text/html': {name: 'text-html'},\n      '^(application|text)/xml': {name: 'text-html'},\n      '^application': {name: 'application-x-executable'},\n      '^text': {name: 'text-x-generic'},\n      '^audio': {name: 'audio-x-generic'},\n      '^video': {name: 'video-x-generic'},\n      '^image': {name: 'image-x-generic'}\n    }\n  },\n\n  providers: {\n    globalBlacklist: [\n      'osjs/websocket',\n      'osjs/clipboard',\n      'osjs/gapi'\n    ],\n    globalWhitelist: []\n  }\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/*\n * Creates URL request path\n */\nconst encodeQueryData = data => Object.keys(data)\n  .filter(k => typeof data[k] !== 'object')\n  .map(k => encodeURIComponent(k) + '=' + encodeURIComponent(data[k]))\n  .join('&');\n\nconst bodyTypes = [\n  window.ArrayBuffer,\n  window.ArrayBufferView,\n  window.Blob,\n  window.File,\n  window.URLSearchParams,\n  window.FormData\n].filter(t => !!t);\n\n/*\n * Creates fetch() options\n */\nconst createFetchOptions = (url, options, type) => {\n  const fetchOptions = {\n    credentials: 'same-origin',\n    method: 'get',\n    headers: {},\n    ...options\n  };\n\n  if (type === 'json') {\n    fetchOptions.headers = {\n      ...fetchOptions.headers,\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': 'application/json'\n    };\n  }\n\n  if (fetchOptions.body && fetchOptions.method.toLowerCase() === 'get') {\n    url += '?' + encodeQueryData(fetchOptions.body);\n    delete fetchOptions.body;\n  }\n\n  const hasBody = typeof fetchOptions.body !== 'undefined';\n  const stringBody = typeof fetchOptions.body === 'string';\n\n  if (type === 'json' && (hasBody && !stringBody)) {\n    if (!(fetchOptions.body instanceof FormData)) {\n      const found = bodyTypes.find(t => (fetchOptions.body instanceof t));\n      if (!found) {\n        fetchOptions.body = JSON.stringify(fetchOptions.body);\n      }\n    }\n  }\n\n  return [url, fetchOptions];\n};\n\n/**\n * Make a HTTP request\n *\n * @param {string} url The endpoint\n * @param {Options} [options] fetch options\n * @param {string} [type] Request / Response type\n * @return {Promise<*>}\n */\nexport const fetch = (url, options = {}, type = null) => {\n  const [target, fetchOptions] = createFetchOptions(url, options, type);\n\n  const createErrorRejection = (response, error) =>\n    Promise.reject(new Error(error\n      ? error\n      : `${response.status} (${response.statusText})`));\n\n  return window.fetch(target, fetchOptions)\n    .then(response => {\n      if (!response.ok) {\n        const contentType = response.headers.get('content-type');\n        const method = contentType && contentType.indexOf('application/json') !== -1\n          ? 'json'\n          : 'text';\n\n        return response[method]()\n          .then(data => createErrorRejection(response, data.error));\n      }\n\n      return type === 'json'\n        ? response.json()\n        : response;\n    });\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * @typedef {Object} URLResolverOptions\n * @property {string} [type] URL type (ws/http)\n * @property {string} [boolean] Add prefix to URL\n */\n\n/**\n * Resolves an URL\n * @param {CoreConfig} configuration\n */\nexport const urlResolver = configuration => {\n  const {http, ws} = configuration;\n\n  /**\n   * @param {string} [endpoint='/']\n   * @param {URLResolverOptions} [options={}]\n   * @param {PackageMetadata} [metadata={}] Metadata for package resolving\n   */\n  return (endpoint = '/', options = {}, metadata = {}) => {\n    if (typeof endpoint !== 'string') {\n      return http.public;\n    } else if (endpoint.match(/^(http|ws|ftp)s?:/i)) {\n      return endpoint;\n    }\n\n    const {type, prefix} = {\n      type: null,\n      prefix: options.type === 'websocket',\n      ...options\n    };\n\n    const str = type === 'websocket' ? ws.uri : http.uri;\n\n    let url = endpoint.replace(/^\\/+/, '');\n    if (metadata.type) {\n      const path = endpoint.replace(/^\\/?/, '/');\n      const type = metadata.type === 'theme' ? 'themes' : (\n        metadata.type === 'icons' ? 'icons' : 'apps'\n      );\n\n      url = `${type}/${metadata.name}${path}`;\n    }\n\n    return prefix\n      ? str.replace(/\\/$/, '') + url.replace(/^\\/?/, '/')\n      : http.public.replace(/^\\/?/, '/') + url;\n  };\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nconst modifierNames =  ['ctrl', 'shift', 'alt', 'meta'];\n\n/**\n * @typedef {Object} NormalizedEventPosition\n * @property {number} clientX\n * @property {number} clientY\n * @property {boolean} touch\n * @property {Element} target\n */\n\n/**\n * Checks if keycombo matches\n * @param {string} combo Key combo\n * @param {Event} ev Event\n * @return {boolean}\n */\nexport const matchKeyCombo = (combo, ev) => {\n  const checkKeys = String(combo).toLowerCase().split('+');\n  const keyName = String(ev.key).toLowerCase();\n  const validKeypress = checkKeys.every(k => modifierNames.indexOf(k) !== -1\n    ? ev[k + 'Key']\n    : keyName === k);\n\n  return validKeypress;\n};\n\n/**\n * Normalizes event input (position)\n * @param {Event} ev Event\n * @return {NormalizedEventPosition}\n */\nexport const getEvent = (ev) => {\n  let {clientX, clientY, target} = ev;\n  const touch = ev.touches || ev.changedTouches || [];\n\n  if (touch.length) {\n    clientX = touch[0].clientX;\n    clientY = touch[0].clientY;\n  }\n\n  return {clientX, clientY, touch: touch.length > 0, target};\n};\n\n/**\n * Creates a double-tap event handler\n * @param {number} [timeout=250] Timeout\n * @return {Function} Handler with => (ev, cb)\n */\nexport const doubleTap = (timeout = 250) => {\n  let tapped = false;\n  let timer;\n\n  return (ev, cb) => {\n    timer = clearTimeout(timer);\n    timer = setTimeout(() => (tapped = false), timeout);\n\n    if (tapped) {\n      ev.preventDefault();\n      return cb(ev);\n    }\n\n    tapped = true;\n\n    return false;\n  };\n};\n","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Get parent directory\n * @param {string} path Directory\n * @return {string} Parent directory\n */\nexport const parentDirectory = path => path\n  .replace(/\\/$/, '')\n  .split('/')\n  .filter((item, index, arr) => index < (arr.length - 1))\n  .join('/')\n  .replace(/(\\/+)?$/, '/');\n\n/**\n * Joins paths\n * @param {string[]} args paths\n * @return {string}\n */\nexport const pathJoin = (...args) => args\n  .map((str, index) => {\n    if (index > 0) {\n      str = str.replace(/^\\/?/, '');\n    }\n    return str.replace(/\\/?$/, '');\n  })\n  .join('/');\n\n/*\n * Sort by locale string\n */\nconst sortString = (k, d) => (a, b) => d === 'asc'\n  ? String(a[k]).localeCompare(b[k])\n  : String(b[k]).localeCompare(a[k]);\n\n/*\n * Sort by date\n */\nconst sortDate = (k, d) => (a, b) => d === 'asc'\n  ? (new Date(a[k])) > (new Date(b[k]))\n  : (new Date(b[k])) > (new Date(a[k]));\n\n/*\n * Sort by educated guess\n */\nconst sortDefault = (k, d) => (a, b) =>\n  (a[k] < b[k])\n    ? -1\n    : ((a[k] > b[k])\n      ? (d === 'asc' ? 1 : 0)\n      : (d === 'asc' ? 0 : 1));\n\n/*\n * Sorts an array of files\n */\nconst sortFn = t => {\n  if (t === 'string') {\n    return sortString;\n  } else if (t === 'date') {\n    return sortDate;\n  }\n\n  return sortDefault;\n};\n\n/*\n * Map of sorters from readdir attributes\n */\nconst sortMap = {\n  size: sortFn('number'),\n  mtime: sortFn('date'),\n  ctime: sortFn('date'),\n  atime: sortFn('date')\n};\n\n/**\n * Creates \"special\" directory entries\n * @param {string} path The path to the readdir root\n * @return {Object[]}\n */\nconst createSpecials = path => {\n  const specials = [];\n\n  const stripped = path.replace(/\\/+/g, '/')\n    .replace(/^(\\w+):/, '') || '/';\n\n  if (stripped !== '/') {\n    specials.push({\n      isDirectory: true,\n      isFile: false,\n      mime: null,\n      size: 0,\n      stat: {},\n      filename: '..',\n      path: parentDirectory(path) || '/'\n    });\n  }\n\n  return specials;\n};\n\n/**\n * Creates a FileReader (promisified)\n * @param {string} method The method to call\n * @param {ArrayBuffer} ab The ArrayBuffer\n * @param {string} mime The MIME type\n * @return {Promise}\n */\nconst createFileReader = (method, ab, mime) => new Promise((resolve, reject) => {\n  const b = new Blob([ab], {type: mime});\n  const r = new FileReader();\n  r.onerror = e => reject(e);\n  r.onloadend = () => resolve(r.result);\n  r[method](b);\n});\n\n/**\n * Converts a number (bytez) into human-readable string\n * @param {Number} bytes Input\n * @param {Boolean} [si=false] Use SI units\n * @return {string}\n */\nexport const humanFileSize = (bytes, si = false) => {\n  if (isNaN(bytes) || typeof bytes !== 'number') {\n    bytes = 0;\n  }\n\n  const thresh = si ? 1000 : 1024;\n  const units = si\n    ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n    : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n\n  if (bytes < thresh) {\n    return bytes + ' B';\n  }\n\n  let u = -1;\n  do {\n    bytes /= thresh;\n    ++u;\n  } while (bytes >= thresh);\n\n  return `${bytes.toFixed(1)} ${units[u]}`;\n};\n\n/**\n * Transforms a readdir result\n * @param {object} root The path to the readdir root\n * @param Object[] files An array of readdir results\n * @param {object} options Options\n * @param {Boolean} [options.showHiddenFiles=false] Show hidden files\n * @param {Function} [options.filter] A filter\n * @param {string} [options.sortBy='filename'] Sort by this attribute\n * @param {string} [options.sortDir='asc'] Sort in this direction\n * @return {Object[]}\n */\nexport const transformReaddir = ({path}, files, options = {}) => {\n  options = {\n    showHiddenFiles: false,\n    sortBy: 'filename',\n    sortDir: 'asc',\n    ...options\n  };\n\n  let {sortDir, sortBy, filter} = options;\n  if (typeof filter !== 'function') {\n    filter = () => true;\n  }\n\n  if (['asc', 'desc'].indexOf(sortDir) === -1) {\n    sortDir = 'asc';\n  }\n\n  const filterHidden = options.showHiddenFiles\n    ? () => true\n    : file => file.filename.substr(0, 1) !== '.';\n\n  const sorter = sortMap[sortBy]\n    ? sortMap[sortBy]\n    : sortFn('string');\n\n  const modify = (file) => ({\n    ...file,\n    humanSize: humanFileSize(file.size)\n  });\n\n  // FIXME: Optimize this to one chain!\n\n  const sortedSpecial = createSpecials(path)\n    .sort(sorter(sortBy, sortDir))\n    .map(modify);\n\n  const sortedDirectories = files.filter(file => file.isDirectory)\n    .sort(sorter(sortBy, sortDir))\n    .filter(filterHidden)\n    .filter(filter)\n    .map(modify);\n\n  const sortedFiles = files.filter(file => !file.isDirectory)\n    .sort(sorter(sortBy, sortDir))\n    .filter(filterHidden)\n    .filter(filter)\n    .map(modify);\n\n  return [\n    ...sortedSpecial,\n    ...sortedDirectories,\n    ...sortedFiles\n  ];\n};\n\n/**\n * Transform an ArrayBuffer\n * @param {ArrayBuffer} ab The ArrayBuffer\n * @param {string} mime The MIME type\n * @param {string} type Transform to this type\n * @return {DOMString|string|Blob|ArrayBuffer}\n */\nexport const transformArrayBuffer = (ab, mime, type) => {\n  if (type === 'string') {\n    return createFileReader('readAsText', ab, mime);\n  } else if (type === 'uri') {\n    return createFileReader('readAsDataURL', ab, mime);\n  } else if (type === 'blob') {\n    return Promise.resolve(new Blob([ab], {type: mime}));\n  }\n\n  return Promise.resolve(ab);\n};\n\n/**\n * Gets an icon from file stat\n * @param {object} file The file stat object\n * @return {string|object}\n */\nexport const getFileIcon = map => {\n  const find = file => {\n    const found = Object.keys(map).find(re => {\n      const regexp = new RegExp(re);\n      return regexp.test(file.mime);\n    });\n\n    return found\n      ? map[found]\n      : {name: 'application-x-executable'};\n  };\n\n  return file => file.isDirectory\n    ? {name: 'folder'}\n    : find(file);\n};\n\n/**\n * Creates a file iter for scandir\n * @param {object} stat file stat\n * @return {object}\n */\nexport const createFileIter = stat => ({\n  isDirectory: false,\n  isFile: true,\n  mime: 'application/octet-stream',\n  icon: null,\n  size: -1,\n  path: null,\n  filename: null,\n  label: null,\n  stat: {},\n  id: null,\n  parent_id: null,\n  ...stat\n});\n\n/**\n * Get basename of a file\n * @param {string} path The path\n * @return {string}\n */\nexport const basename = path => path.split('/').reverse()[0];\n\n/*\n * Get path of a file\n * @param {string} path The path\n * @return {string}\n */\nexport const pathname = path => {\n  const split = path.split('/');\n  if (split.length === 2) {\n    split[1] = '';\n  } else {\n    split.splice(split.length - 1, 1);\n  }\n\n  return split.join('/');\n};\n\n/**\n * Gets prefix from vfs path\n * @param {string} str Input\n * @return {string}\n */\nexport const parseMontpointPrefix = str => {\n  const re = /^([\\w-_]+):+(.*)/;\n\n  const match = String(str)\n    .replace(/\\+/g, '/')\n    .match(re);\n\n  const [prefix] = Array.from(match || [])\n    .slice(1);\n\n  return prefix;\n};\n\n/**\n * Filters a mountpoint by user groups\n * @return {boolean}\n */\nexport const filterMountByGroups = userGroups => (mountGroups, strict = true) =>\n  mountGroups instanceof Array\n    ? mountGroups[strict ? 'every' : 'some'](g => userGroups.indexOf(g) !== -1)\n    : true;\n\n\n/**\n * Creates a list of VFS events to simulate server-side\n * file watching\n * @return {object[]}\n */\nexport const createWatchEvents = (method, args) => {\n  const events = [];\n  const options = args[args.length - 1] || {};\n\n  const movement = ['move', 'rename', 'copy'].indexOf(method) !== -1;\n  const invalid = ['readdir', 'download', 'url', 'exists', 'readfile', 'search', 'stat'].indexOf(method) !== -1;\n  const path = i => typeof i === 'string' ? i : i.path;\n\n  if (!invalid) {\n    const obj = {\n      method,\n      source: path(args[0]),\n      pid: options.pid\n    };\n\n    events.push(['osjs/vfs:directoryChanged', {\n      ...obj,\n      path: pathname(path(args[0])),\n    }]);\n\n    if (movement) {\n      events.push(['osjs/vfs:directoryChanged', {\n        ...obj,\n        path: pathname(path(args[1]))\n      }]);\n    }\n  }\n\n  return events;\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport logger from '../logger';\nimport {supportedMedia} from './dom';\n\nconst imageDropMimes = [\n  'image/png',\n  'image/jpe?g',\n  'image/webp',\n  'image/gif'\n];\n\n/**\n * Check if droppable data is a VFS type\n * @return {boolean}\n */\nexport const validVfsDrop = data => data && data.path;\n\n/**\n * Check if droppable data contains image\n * @return {boolean}\n */\nexport const isDroppingImage = data => validVfsDrop(data) &&\n  imageDropMimes.some(re => !!data.mime.match(re));\n\n/**\n * Creates a set of styles based on background settings\n */\nexport const applyBackgroundStyles = (core, background) => {\n  const {$root} = core;\n\n  const styles = {\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: '50% 50%',\n    backgroundSize: 'auto',\n    backgroundColor: background.color,\n    backgroundImage: 'none'\n  };\n\n  if (background.style === 'cover' || background.style === 'contain') {\n    styles.backgroundSize = background.style;\n  } else if (background.style === 'repeat') {\n    styles.backgroundRepeat = 'repeat';\n  }\n\n  if (background.style !== 'color') {\n    if (background.src === undefined) {\n      styles.backgroundImage = undefined;\n    } else if (typeof background.src === 'string') {\n      styles.backgroundImage = `url(${background.src})`;\n    } else if (background.src) {\n      core.make('osjs/vfs')\n        .url(background.src)\n        .then(src => {\n          setTimeout(() => ($root.style.backgroundImage = `url(${src})`), 1);\n        })\n        .catch(error => logger.warn('Error while setting wallpaper from VFS', error));\n    }\n  }\n\n  Object.keys(styles).forEach(k => ($root.style[k] = styles[k]));\n};\n\n/**\n * Creates a rectangle with the realestate panels takes up\n */\nexport const createPanelSubtraction = (panel, panels) => {\n  const subtraction = {top: 0, left: 0, right: 0, bottom: 0};\n  const set = p => (subtraction[p.options.position] = p.$element.offsetHeight);\n\n  if (panels.length > 0) {\n    panels.forEach(set);\n  } else {\n    // Backward compability\n    set(panel);\n  }\n\n  return subtraction;\n};\n\nexport const isVisible = w => w &&\n  !w.getState('minimized') &&\n  w.getState('focused');\n\n/*\n * Resolves various resources\n * TODO: Move all of this (and related) stuff to a Theme class\n */\nexport const resourceResolver = (core) => {\n  const media = supportedMedia();\n\n  const getThemeName = (type) => {\n    const defaultTheme = core.config('desktop.settings.' + type);\n    return core.make('osjs/settings').get('osjs/desktop', type, defaultTheme);\n  };\n\n  const themeResource = path => {\n    const theme = getThemeName('theme');\n\n    return core.url(`themes/${theme}/${path}`); // FIXME: Use metadata ?\n  };\n\n  const getSoundThemeName = () => getThemeName('sounds');\n\n  const soundResource = path => {\n    if (!path.match(/\\.([a-z]+)$/)) {\n      const defaultExtension = 'mp3';\n      const checkExtensions = ['oga', 'mp3'];\n      const found = checkExtensions.find(str => media.audio[str] === true);\n      const use = found || defaultExtension;\n\n      path += '.' + use;\n    }\n\n    const theme = getSoundThemeName();\n\n    return theme ? core.url(`sounds/${theme}/${path}`) : null; // FIXME: Use metadata ?\n  };\n\n  const soundsEnabled = () => !!getSoundThemeName();\n\n  const icon = path => {\n    const theme = getThemeName('icons');\n    return core.url(`icons/${theme}/icons/${path}`); // FIXME: Use metadata ?\n  };\n\n  return {themeResource, soundResource, soundsEnabled, icon};\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\nimport {EventEmitter} from '@osjs/event-emitter';\nimport {h, app} from 'hyperapp';\nimport {doubleTap} from '../../utils/input';\nimport {pathJoin} from '../../utils/vfs';\nimport {invertHex} from '../../utils/colors';\nimport {isDroppingImage, validVfsDrop} from '../../utils/desktop';\n\nconst tapper = doubleTap();\n\nconst onDropAction = actions => (ev, data, files, shortcut = true) => {\n  if (validVfsDrop(data)) {\n    actions.addEntry({entry: data, shortcut});\n  } else if (files.length > 0) {\n    actions.uploadEntries(files);\n  }\n};\n\nconst isRootElement = ev =>\n  ev.target && ev.target.classList.contains('osjs-desktop-iconview__wrapper');\n\nconst view = (fileIcon, themeIcon, droppable) => (state, actions) =>\n  h('div', {\n    class: 'osjs-desktop-iconview__wrapper',\n    oncontextmenu: ev => {\n      if (isRootElement(ev)) {\n        actions.openContextMenu({ev});\n      }\n    },\n    onclick: ev => {\n      if (isRootElement(ev)) {\n        actions.selectEntry({index: -1});\n      }\n    },\n    oncreate: el => {\n      droppable(el, {\n        ondrop: (ev, data, files) => {\n          const droppedImage = isDroppingImage(data);\n\n          if (droppedImage || (ev.shiftKey && validVfsDrop(data))) {\n            actions.openDropContextMenu({ev, data, files});\n          } else {\n            onDropAction(actions)(ev, data, files);\n          }\n        }\n      });\n    }\n  }, state.entries.map((entry, index) => {\n    return h('div', {\n      class: 'osjs-desktop-iconview__entry' + (\n        state.selected === index\n          ? ' osjs-desktop-iconview__entry--selected'\n          : ''\n      ),\n      oncontextmenu: ev => actions.openContextMenu({ev, entry, index}),\n      ontouchstart: ev => tapper(ev, () => actions.openEntry({ev, entry, index})),\n      ondblclick: ev => actions.openEntry({ev, entry, index}),\n      onclick: ev => actions.selectEntry({ev, entry, index})\n    }, [\n      h('div', {\n        class: 'osjs-desktop-iconview__entry__inner'\n      }, [\n        h('div', {\n          class: 'osjs-desktop-iconview__entry__icon'\n        }, [\n          h('img', {\n            src: entry.icon ? entry.icon : themeIcon(fileIcon(entry).name),\n            class: 'osjs-desktop-iconview__entry__icon__icon'\n          }),\n          entry.shortcut !== false\n            ? h('img', {\n              src: themeIcon('emblem-symbolic-link'),\n              class: 'osjs-desktop-iconview__entry__icon__shortcut'\n            })\n            : null\n        ]),\n        h('div', {\n          class: 'osjs-desktop-iconview__entry__label'\n        }, entry.filename)\n      ])\n    ]);\n  }));\n\nconst createShortcuts = (root, readfile, writefile) => {\n  const read = () => {\n    const filename = pathJoin(root, '.shortcuts.json');\n\n    return readfile(filename)\n      .then(contents => JSON.parse(contents))\n      .catch(error => ([]));\n  };\n\n  const write = shortcuts => {\n    const filename = pathJoin(root, '.shortcuts.json');\n    const contents = JSON.stringify(shortcuts || []);\n\n    return writefile(filename, contents)\n      .catch(() => 0);\n  };\n\n  const add = entry => read(root)\n    .then(shortcuts => ([...shortcuts, entry]))\n    .then(write);\n\n  const remove = index => read(root)\n    .then(shortcuts => {\n      shortcuts.splice(index, 1);\n      return shortcuts;\n    })\n    .then(write);\n\n  return {read, add, remove};\n};\n\nconst readDesktopFolder = (root, readdir, shortcuts) => {\n  const supressError = () => [];\n\n  const read = () => readdir(root, {\n    showHiddenFiles: false\n  })\n    .then(files => files.map(s => ({shortcut: false, ...s})))\n    .catch(supressError);\n\n  const readShortcuts = () => shortcuts.read()\n    .then(shortcuts => shortcuts.map((s, index) => ({shortcut: index, ...s})))\n    .catch(supressError);\n\n  return () => {\n    return Promise.all([readShortcuts(), read()])\n      .then(results => [].concat(...results));\n  };\n};\n\n/**\n * Desktop Icon View\n */\nexport class DesktopIconView extends EventEmitter {\n\n  /**\n   * @param {Core} core Core reference\n   */\n  constructor(core) {\n    super('DesktopIconView');\n\n    this.core = core;\n    this.$root = null;\n    this.iconview = null;\n    this.root = 'home:/.desktop'; // Default path, changed later\n  }\n\n  destroy() {\n    if (this.$root && this.$root.parentNode) {\n      this.$root.remove();\n    }\n\n    this.iconview = null;\n    this.$root = null;\n\n    this.emit('destroy');\n\n    super.destroy();\n  }\n\n  _render(root) {\n    const oldRoot = this.root;\n    if (root) {\n      this.root = root;\n    }\n\n    if (this.$root) {\n      if (this.root !== oldRoot) {\n        this.iconview.reload();\n      }\n\n      return false;\n    }\n\n    return true;\n  }\n\n  render(root) {\n    if (!this._render(root)) {\n      return;\n    }\n\n    this.$root = document.createElement('div');\n    this.$root.className = 'osjs-desktop-iconview';\n    this.core.$contents.appendChild(this.$root);\n\n    const {droppable} = this.core.make('osjs/dnd');\n    const {icon: fileIcon} = this.core.make('osjs/fs');\n    const {icon: themeIcon} = this.core.make('osjs/theme');\n    const {copy, readdir, readfile, writefile, unlink, mkdir} = this.core.make('osjs/vfs');\n    const error = err => console.error(err);\n    const shortcuts = createShortcuts(root, readfile, writefile);\n    const read = readDesktopFolder(root, readdir, shortcuts);\n\n    this.iconview = app({\n      selected: -1,\n      entries: []\n    }, {\n      setEntries: entries => ({entries}),\n\n      openDropContextMenu: ({ev, data, files, droppedImage}) => {\n        this.createDropContextMenu(ev, data, files, droppedImage);\n      },\n\n      openContextMenu: ({ev, entry, index}) => {\n        if (entry) {\n          this.createFileContextMenu(ev, entry);\n\n          return {selected: index};\n        } else {\n          this.createRootContextMenu(ev);\n\n          return {selected: -1};\n        }\n      },\n\n      openEntry: ({entry, forceDialog}) => {\n        if (entry.isDirectory) {\n          this.core.run('FileManager', {\n            path: entry\n          });\n        } else if (entry.mime === 'osjs/application') {\n          this.core.run(entry.filename);\n        } else {\n          this.core.open(entry, {\n            useDefault: true,\n            forceDialog\n          });\n        }\n\n        return {selected: -1};\n      },\n\n      selectEntry: ({index}) => ({selected: index}),\n\n      uploadEntries: files => {\n        // TODO\n      },\n\n      addEntry: ({entry, shortcut}) => (state, actions) => {\n        const dest = `${root}/${entry.filename}`;\n\n        mkdir(root)\n          .catch(() => true)\n          .then(() => {\n            if (shortcut || entry.mime === 'osjs/application') {\n              return shortcuts.add(entry);\n            }\n\n            return copy(entry, dest)\n              .then(() => actions.reload(true))\n              .catch(error);\n          })\n          .then(() => actions.reload(true));\n\n        return {selected: -1};\n      },\n\n      removeEntry: entry => (state, actions) => {\n        if (entry.shortcut !== false) {\n          shortcuts.remove(entry.shortcut)\n            .then(() => actions.reload(true))\n            .catch(error);\n        } else {\n          unlink(entry)\n            .then(() => actions.reload(true))\n            .catch(error);\n        }\n\n        return {selected: -1};\n      },\n\n      reload: (fromUI) => (state, actions) => {\n        if (fromUI && this.core.config('vfs.watch')) {\n          return;\n        }\n\n        read()\n          .then(entries => entries.filter(e => e.filename !== '..'))\n          .then(entries => actions.setEntries(entries));\n      }\n\n    }, view(fileIcon, themeIcon, droppable), this.$root);\n\n    this.applySettings();\n    this.iconview.reload();\n    this._createWatcher();\n  }\n\n  createFileContextMenu(ev, entry) {\n    const _ = this.core.make('osjs/locale').translate;\n\n    this.core.make('osjs/contextmenu', {\n      position: ev,\n      menu: [{\n        label: _('LBL_OPEN'),\n        onclick: () => this.iconview.openEntry({entry, forceDialog: false})\n      }, {\n        label: _('LBL_OPEN_WITH'),\n        onclick: () => this.iconview.openEntry({entry, forceDialog: true})\n      }, {\n        label: entry.shortcut !== false ? _('LBL_REMOVE_SHORTCUT') : _('LBL_DELETE'),\n        onclick: () => this.iconview.removeEntry(entry)\n      }]\n    });\n  }\n\n  createDropContextMenu(ev, data, files) {\n    const desktop = this.core.make('osjs/desktop');\n    const _ = this.core.make('osjs/locale').translate;\n\n    const action = shortcut => onDropAction(this.iconview)(ev, data, files, shortcut);\n\n    const menu = [{\n      label: _('LBL_COPY'),\n      onclick: () => action(false)\n    }, {\n      label: _('LBL_CREATE_SHORTCUT'),\n      onclick: () => action(true)\n    }, ...desktop.createDropContextMenu(data)];\n\n    this.core.make('osjs/contextmenu', {\n      position: ev,\n      menu\n    });\n  }\n\n  createRootContextMenu(ev) {\n    this.core.make('osjs/desktop')\n      .openContextMenu(ev);\n  }\n\n  _createWatcher() {\n    const listener = (args) => {\n      const currentPath = String(this.root).replace(/\\/$/, '');\n      const watchPath = String(args.path).replace(/\\/$/, '');\n      if (currentPath === watchPath) {\n        this.iconview.reload();\n      }\n    };\n\n    this.core.on('osjs/vfs:directoryChanged', listener);\n    this.on('destroy', () => this.core.off('osjs/vfs:directoryChanged', listener));\n  }\n\n  applySettings() {\n    if (!this.$root) {\n      return;\n    }\n\n    const settings = this.core\n      .make('osjs/settings');\n\n    const defaults = this.core\n      .config('desktop.settings');\n\n    const fontColorStyle = settings\n      .get('osjs/desktop', 'iconview.fontColorStyle', defaults.iconview.fontColorStyle);\n\n    const fontColor = settings\n      .get('osjs/desktop', 'iconview.fontColor', '#ffffff', defaults.iconview.fontColor);\n\n    const backgroundColor = settings\n      .get('osjs/desktop', 'background.color', defaults.background.color);\n\n    const styles = {\n      system: 'inherit',\n      invert: invertHex(backgroundColor),\n      custom: fontColor\n    };\n\n    this.$root.style.color = styles[fontColorStyle];\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Inverts a HEX color\n * @link https://stackoverflow.com/a/51568508\n * @param {string} hex Color hex code\n * @return {string} Inverted hex code\n */\nexport const invertHex = hex => '#' + hex\n  .match(/[a-f0-9]{2}/ig)\n  .map(e => (255 - parseInt(e, 16) | 0)\n    .toString(16)\n    .replace(/^([a-f0-9])$/, '0$1')\n  )\n  .join('');\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {EventEmitter} from '@osjs/event-emitter';\n\nconst createView = (core, fs, icon, _) => {\n  const resultView = ({results, index}, actions) => results.map((r, i) => h('li', {\n    onclick: () => actions.open(i),\n    onupdate: el => {\n      if (i === index) {\n        el.scrollIntoView();\n      }\n    },\n    class: [\n      'osjs-search-result',\n      index === i ? 'osjs__active' : ''\n    ].join(' ')\n  }, [\n    h('img', {src: icon(fs.icon(r).name + '.png')}),\n    h('span', {}, `${r.path} (${r.mime})`)\n  ]));\n\n  return (state, actions) => h('div', {\n    class: 'osjs-search-container osjs-notification',\n    style: {\n      display: state.visible ? undefined : 'none'\n    }\n  }, [\n    h('input', {\n      type: 'text',\n      placeholder: _('LBL_SEARCH_PLACEHOLDER'),\n      class: 'osjs-search-input',\n      value: state.query,\n      onblur: () => {\n        if (!state.value) {\n          setTimeout(() => actions.toggle(false), 300);\n        }\n      },\n      oninput: ev => actions.setQuery(ev.target.value),\n      onkeydown: ev => {\n        if (ev.keyCode === 38) { // Up\n          actions.setPreviousIndex();\n        } else if (ev.keyCode === 40) { // Down\n          actions.setNextIndex();\n        } else if (ev.keyCode === 27) { // Escape\n          actions.resetIndex();\n\n          if (state.index === -1) {\n            actions.hide();\n          }\n        }\n      },\n      onkeypress: ev => {\n        if (ev.keyCode === 13) {\n          if (state.index >= 0) {\n            actions.open(state.index);\n          } else {\n            actions.search(state.query.replace(/\\*?$/, '*').replace(/^\\*?/, '*'));\n          }\n        }\n      }\n    }),\n    h('div', {\n      'data-error': !!state.error,\n      class: 'osjs-search-message',\n      style: {\n        display: (state.error || state.status) ? 'block' : 'none'\n      }\n    }, state.error || state.status),\n    h('ol', {\n      class: 'osjs-search-results',\n      style: {\n        display: state.results.length ? undefined : 'none'\n      }\n    }, resultView(state, actions))\n  ]);\n};\n\n/**\n * Search UI Adapter\n */\nconst create = (core, $element) => {\n  const _ = core.make('osjs/locale').translate;\n  const fs = core.make('osjs/fs');\n  const {icon} = core.make('osjs/theme');\n  const view = createView(core, fs, icon, _);\n  const ee = new EventEmitter('SearchUI');\n\n  const hyperapp = app({\n    query: '',\n    index: -1,\n    status: undefined,\n    error: null,\n    visible: false,\n    results: []\n  }, {\n    search: query => {\n      ee.emit('search', query);\n\n      return {status: _('LBL_SEARCH_WAIT')};\n    },\n    open: index => (state, actions) => {\n      const iter = state.results[index];\n      if (iter) {\n        ee.emit('open', iter);\n      }\n\n      actions.toggle(false);\n    },\n    resetIndex: () => () => ({\n      index: -1\n    }),\n    setNextIndex: () => state => ({\n      index: (state.index + 1) % state.results.length\n    }),\n    setPreviousIndex: () => state => ({\n      index: state.index <= 0 ? state.results.length - 1 : state.index - 1\n    }),\n    setError: error => () => ({\n      error,\n      status: undefined,\n      index: -1\n    }),\n    setResults: results => () => ({\n      results,\n      index: -1,\n      status: _('LBL_SEARCH_RESULT', results.length),\n    }),\n    setQuery: query => () => ({\n      query\n    }),\n    hide: () => {\n      ee.emit('hide');\n    },\n    toggle: visible => state => ({\n      query: '',\n      results: [],\n      index: -1,\n      status: undefined,\n      error: null,\n      visible: typeof visible === 'boolean' ? visible : !state.visible\n    })\n  }, view, $element);\n\n  ee.on('error', error => hyperapp.setError(error));\n  ee.on('success', results => hyperapp.setResults(results));\n  ee.on('toggle', toggle => hyperapp.toggle(toggle));\n  ee.on('focus', () => {\n    const el = $element.querySelector('.osjs-search-input');\n    if (el) {\n      el.focus();\n    }\n  });\n\n  return ee;\n};\n\nexport default create;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\nimport Window from './window';\nimport createUI from './adapters/ui/search';\nimport logger from './logger';\n\n/**\n * Search Service\n */\nexport default class Search {\n  /**\n   * Create Search instance\n   * @param {Core} core Core reference\n   */\n  constructor(core) {\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * Wired actions\n     * @type {Object}\n     */\n    this.ui = null;\n\n    /**\n     * Last focused window\n     * @type {Window}\n     */\n    this.focusLastWindow = null;\n\n    /**\n     * Search root DOM element\n     * @type {Element}\n     * @readonly\n     */\n    this.$element = document.createElement('div');\n  }\n\n  /**\n   * Destroy Search instance\n   */\n  destroy() {\n    if (this.ui) {\n      this.ui.destroy();\n    }\n  }\n\n  /**\n   * Initializes Search Service\n   */\n  init() {\n    const {icon} = this.core.make('osjs/theme');\n    const _ = this.core.make('osjs/locale').translate;\n\n    this.$element.className = 'osjs-search';\n    this.core.$root.appendChild(this.$element);\n\n    this.core.make('osjs/tray').create({\n      title: _('LBL_SEARCH_TOOLTOP', 'F3'),\n      icon: icon('system-search.png')\n    }, () => this.show());\n\n    this.ui = createUI(this.core, this.$element);\n    this.ui.on('hide', () => this.hide());\n    this.ui.on('open', iter => this.core.open(iter));\n    this.ui.on('search', query => {\n      this.search(query)\n        .then(results => this.ui.emit('success', results))\n        .catch(error => this.ui.emit('error', error));\n    });\n  }\n\n  /**\n   * Performs a search across all mounts\n   * @param {string} pattern Search query\n   * @return {Promise<FileMetadata[]>}\n   */\n  search(pattern) {\n    const vfs = this.core.make('osjs/vfs');\n    const promises = this.core.make('osjs/fs')\n      .mountpoints()\n      .map(mount => `${mount.name}:/`)\n      .map(path => {\n        return vfs.search({path}, pattern)\n          .catch(error => {\n            logger.warn('Error while searching', error);\n            return [];\n          });\n      });\n\n    return Promise.all(promises)\n      .then(lists => [].concat(...lists));\n  }\n\n  /**\n   * Focuses UI\n   */\n  focus() {\n    if (this.ui) {\n      this.ui.emit('focus');\n    }\n  }\n\n  /**\n   * Hides UI\n   */\n  hide() {\n    if (this.ui) {\n      this.ui.emit('toggle', false);\n\n      const win = Window.lastWindow();\n      if (this.focusLastWindow && win) {\n        win.focus();\n      }\n    }\n  }\n\n  /**\n   * Shows UI\n   */\n  show() {\n    if (this.ui) {\n      const win = Window.lastWindow();\n\n      this.focusLastWindow = win && win.blur();\n\n      this.ui.emit('toggle', true);\n      setTimeout(() => this.focus(), 1);\n    }\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {EventEmitter} from '@osjs/event-emitter';\nimport Application from './application';\nimport {handleTabOnTextarea} from './utils/dom';\nimport {matchKeyCombo} from './utils/input';\nimport {DesktopIconView} from './adapters/ui/iconview';\nimport {\n  isDroppingImage,\n  applyBackgroundStyles,\n  createPanelSubtraction,\n  isVisible\n} from './utils/desktop';\nimport Window from './window';\nimport Search from './search';\nimport merge from 'deepmerge';\nimport logger from './logger';\n\n/**\n * TODO: typedef\n * @typedef {Object} DesktopContextMenuEntry\n */\n\n/**\n * @typedef {Object} DesktopIconViewSettings\n */\n\n/**\n * TODO: typedef\n * @typedef {Object} DesktopSettings\n * @property {DesktopIconViewSettings} [iconview]\n */\n\n/**\n * Desktop Options\n *\n * @typedef {Object} DeskopOptions\n * @property {object[]} [contextmenu={}] Default Context menu items\n */\n\n/**\n * Desktop Viewport Rectangle\n *\n * @typedef {Object} DesktopViewportRectangle\n * @property {number} left\n * @property {number} top\n * @property {number} right\n * @property {number} bottom\n */\n\n/**\n * Desktop Class\n */\nexport default class Desktop extends EventEmitter {\n\n  /**\n   * Create Desktop\n   *\n   * @param {Core} core Core reference\n   * @param {DesktopOptions} [options={}] Options\n   */\n  constructor(core, options = {}) {\n    super('Desktop');\n\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * Desktop Options\n     * @type {DeskopOptions}\n     * @readonly\n     */\n    this.options = {\n      contextmenu: [],\n      ...options\n    };\n\n    /**\n     * Theme DOM elements\n     * @type {Element[]}\n     */\n    this.$theme = [];\n\n    /**\n     * Icon DOM elements\n     * @type {Element[]}\n     */\n    this.$icons = [];\n\n    /**\n     * Default context menu entries\n     * @type {DesktopContextMenuEntry[]}\n     */\n    this.contextmenuEntries = [];\n\n    /**\n     * Search instance\n     * @type {Search|null}\n     * @readonly\n     */\n    this.search = core.config('search.enabled') ? new Search(core) : null;\n\n    /**\n     * Icon View instance\n     * @type {DesktopIconView}\n     * @readonly\n     */\n    this.iconview = new DesktopIconView(this.core);\n\n    /**\n     * Keyboard context dom element\n     * @type {Element|null}\n     */\n    this.keyboardContext = null;\n\n    /**\n     * Desktop subtraction rectangle\n     * TODO: typedef\n     * @type {DesktopViewportRectangle}\n     */\n    this.subtract = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n  }\n\n  /**\n   * Destroy Desktop\n   */\n  destroy() {\n    if (this.search) {\n      this.search = this.search.destroy();\n    }\n\n    if (this.iconview) {\n      this.iconview.destroy();\n    }\n\n    this._removeIcons();\n    this._removeTheme();\n\n    super.destroy();\n  }\n\n  /**\n   * Initializes Desktop\n   */\n  init() {\n    this.initConnectionEvents();\n    this.initUIEvents();\n    this.initDragEvents();\n    this.initKeyboardEvents();\n    this.initGlobalKeyboardEvents();\n    this.initMouseEvents();\n    this.initBaseEvents();\n    this.initLocales();\n    this.initDeveloperTray();\n  }\n\n  /**\n   * Initializes connection events\n   */\n  initConnectionEvents() {\n    this.core.on('osjs/core:disconnect', ev => {\n      logger.warn('Connection closed', ev);\n\n      const _ = this.core.make('osjs/locale').translate;\n      this.core.make('osjs/notification', {\n        title: _('LBL_CONNECTION_LOST'),\n        message: _('LBL_CONNECTION_LOST_MESSAGE')\n      });\n    });\n\n    this.core.on('osjs/core:connect', (ev, reconnected) => {\n      logger.debug('Connection opened');\n\n      if (reconnected) {\n        const _ = this.core.make('osjs/locale').translate;\n        this.core.make('osjs/notification', {\n          title: _('LBL_CONNECTION_RESTORED'),\n          message: _('LBL_CONNECTION_RESTORED_MESSAGE')\n        });\n      }\n    });\n\n    this.core.on('osjs/core:connection-failed', (ev) => {\n      logger.warn('Connection failed');\n\n      const _ = this.core.make('osjs/locale').translate;\n      this.core.make('osjs/notification', {\n        title: _('LBL_CONNECTION_FAILED'),\n        message: _('LBL_CONNECTION_FAILED_MESSAGE')\n      });\n    });\n  }\n\n  /**\n   * Initializes user interface events\n   */\n  initUIEvents() {\n    this.core.on(['osjs/panel:create', 'osjs/panel:destroy'], (panel, panels = []) => {\n      this.subtract = createPanelSubtraction(panel, panels);\n\n      try {\n        this._updateCSS();\n        this._clampWindows();\n      } catch (e) {\n        logger.warn('Panel event error', e);\n      }\n\n      this.core.emit('osjs/desktop:transform', this.getRect());\n    });\n\n    this.core.on('osjs/window:transitionend', (...args) => {\n      this.emit('theme:window:transitionend', ...args);\n    });\n\n    this.core.on('osjs/window:change', (...args) => {\n      this.emit('theme:window:change', ...args);\n    });\n  }\n\n  /**\n   * Initializes development tray icons\n   */\n  initDeveloperTray() {\n    if (!this.core.config('development')) {\n      return;\n    }\n\n    // Creates tray\n    const tray = this.core.make('osjs/tray').create({\n      title: 'OS.js developer tools'\n    }, (ev) => this.onDeveloperMenu(ev));\n\n    this.core.on('destroy', () => tray.destroy());\n  }\n\n  /**\n   * Initializes drag-and-drop events\n   */\n  initDragEvents() {\n    const {droppable} = this.core.make('osjs/dnd');\n\n    droppable(this.core.$contents, {\n      strict: true,\n      ondrop: (ev, data, files) => {\n        const droppedImage = isDroppingImage(data);\n        if (droppedImage) {\n          this.onDropContextMenu(ev, data);\n        }\n      }\n    });\n  }\n\n  /**\n   * Initializes keyboard events\n   */\n  initKeyboardEvents() {\n    const forwardKeyEvent = (n, e) => {\n      const w = Window.lastWindow();\n      if (isVisible(w)) {\n        w.emit(n, e, w);\n      }\n    };\n\n    const isWithinContext = (target) => this.keyboardContext &&\n      this.keyboardContext.contains(target);\n\n    const isWithinWindow = (w, target) => w &&\n      w.$element.contains(target);\n\n    const isWithin = (w, target) => isWithinWindow(w, target) ||\n      isWithinContext(target);\n\n    ['keydown', 'keyup', 'keypress'].forEach(n => {\n      this.core.$root.addEventListener(n, e => forwardKeyEvent(n, e));\n    });\n\n    this.core.$root.addEventListener('keydown', e => {\n      if (!e.target) {\n        return;\n      }\n\n      if (e.keyCode === 114) { // F3\n        e.preventDefault();\n\n        if (this.search) {\n          this.search.show();\n        }\n      } else if (e.keyCode === 9) { // Tab\n        const {tagName} = e.target;\n        const isInput = ['INPUT', 'TEXTAREA', 'SELECT', 'BUTTON'].indexOf(tagName) !== -1;\n        const w = Window.lastWindow();\n\n        if (isWithin(w, e.target)) {\n          if (isInput) {\n            if (tagName === 'TEXTAREA') {\n              handleTabOnTextarea(e);\n            }\n          } else {\n            e.preventDefault();\n          }\n        } else {\n          e.preventDefault();\n        }\n      }\n    });\n  }\n\n  /**\n   * Initializes global keyboard events\n   */\n  initGlobalKeyboardEvents() {\n    let keybindings = [];\n\n    const defaults = this.core.config('desktop.settings.keybindings', {});\n\n    const reload = () => {\n      keybindings = this.core.make('osjs/settings')\n        .get('osjs/desktop', 'keybindings', defaults);\n    };\n\n    window.addEventListener('keydown', ev => {\n      Object.keys(keybindings).some(eventName => {\n        const combo = keybindings[eventName];\n        const result = matchKeyCombo(combo, ev);\n        if (result) {\n          this.core.emit('osjs/desktop:keybinding:' + eventName, ev);\n        }\n      });\n    });\n\n    this.core.on('osjs/settings:load', reload);\n    this.core.on('osjs/settings:save', reload);\n    this.core.on('osjs/core:started', reload);\n\n    const closeBindingName = 'osjs/desktop:keybinding:close-window';\n    const closeBindingCallback = () => {\n      const w = Window.lastWindow();\n      if (isVisible(w)) {\n        w.close();\n      }\n    };\n    this.core.on(closeBindingName, closeBindingCallback);\n  }\n\n  /**\n   * Initializes mouse events\n   */\n  initMouseEvents() {\n    // Custom context menu\n    this.core.$contents.addEventListener('contextmenu', ev => {\n      if (ev.target === this.core.$contents) {\n        this.onContextMenu(ev);\n      }\n    });\n\n    // A hook to prevent iframe events when dragging mouse\n    window.addEventListener('mousedown', () => {\n      let moved = false;\n\n      const onmousemove = () => {\n        if (!moved) {\n          moved = true;\n\n          this.core.$root.setAttribute('data-mousemove', String(true));\n        }\n      };\n\n      const onmouseup = () => {\n        moved = false;\n\n        this.core.$root.setAttribute('data-mousemove', String(false));\n        window.removeEventListener('mousemove', onmousemove);\n        window.removeEventListener('mouseup', onmouseup);\n      };\n\n      window.addEventListener('mousemove', onmousemove);\n      window.addEventListener('mouseup', onmouseup);\n    });\n  }\n\n  /**\n   * Initializes base events\n   */\n  initBaseEvents() {\n    // Resize hook\n    let resizeDebounce;\n    window.addEventListener('resize', () => {\n      clearTimeout(resizeDebounce);\n      resizeDebounce = setTimeout(() => {\n        this._updateCSS();\n        this._clampWindows(true);\n      }, 200);\n    });\n\n    // Prevent navigation\n    history.pushState(null, null, document.URL);\n    window.addEventListener('popstate', () => {\n      history.pushState(null, null, document.URL);\n    });\n\n    // Prevents background scrolling on iOS\n    this.core.$root.addEventListener('touchmove', e => e.preventDefault());\n  }\n\n  /**\n   * Initializes locales\n   */\n  initLocales() {\n    // Right-to-left support triggers\n    const rtls = this.core.config('locale.rtl');\n    const checkRTL = () => {\n      const locale = this.core.make('osjs/locale')\n        .getLocale()\n        .split('_')[0]\n        .toLowerCase();\n\n      const isRtl = rtls.indexOf(locale) !== -1;\n      this.core.$root.setAttribute('data-dir', isRtl ? 'rtl' : 'ltr');\n    };\n    this.core.on('osjs/settings:load', checkRTL);\n    this.core.on('osjs/settings:save', checkRTL);\n    this.core.on('osjs/core:started', checkRTL);\n  }\n\n  /**\n   * Starts desktop services\n   */\n  start() {\n    if (this.search) {\n      this.search.init();\n    }\n\n    this._updateCSS();\n  }\n\n  /**\n   * Update CSS\n   * @private\n   */\n  _updateCSS() {\n    const mobile = this.core.config('windows.mobile');\n    const isMobile = !mobile ? false : this.core.$root.offsetWidth <= mobile;\n    this.core.$root.setAttribute('data-mobile', isMobile);\n\n    if (this.core.$contents) {\n      this.core.$contents.style.top = `${this.subtract.top}px`;\n      this.core.$contents.style.left = `${this.subtract.left}px`;\n      this.core.$contents.style.right = `${this.subtract.right}px`;\n      this.core.$contents.style.bottom = `${this.subtract.bottom}px`;\n    }\n  }\n\n  _clampWindows(resize) {\n    if (resize && !this.core.config('windows.clampToViewport')) {\n      return;\n    }\n\n    Window.getWindows().forEach(w => w.clampToViewport());\n  }\n\n  /**\n   * Adds something to the default contextmenu entries\n   * @param {DesktopContextMenuEntry[]} entries\n   */\n  addContextMenu(entries) {\n    this.contextmenuEntries = this.contextmenuEntries.concat(entries);\n  }\n\n  /**\n   * Applies settings and updates desktop\n   * @param {DesktopSettings} [settings] Use this set instead of loading from settings\n   * @return {DesktopSettings} New settings\n   */\n  applySettings(settings) {\n    const lockSettings = this.core.config('desktop.lock');\n    const defaultSettings = this.core.config('desktop.settings');\n    let newSettings;\n\n    if (lockSettings) {\n      newSettings = defaultSettings;\n    } else {\n      const userSettings = settings\n        ? settings\n        : this.core.make('osjs/settings').get('osjs/desktop');\n\n      newSettings = merge(defaultSettings, userSettings, {\n        arrayMerge: (dest, source) => source\n      });\n    }\n\n    const applyOverlays = (test, list) => {\n      if (this.core.has(test)) {\n        const instance = this.core.make(test);\n        instance.removeAll();\n        list.forEach(item => instance.create(item));\n      }\n    };\n\n    const applyCss = ({font, background}) => {\n      this.core.$root.style.fontFamily = `${font}, sans-serif`;\n\n      applyBackgroundStyles(this.core, background);\n\n    };\n\n    applyCss(newSettings);\n\n    // TODO: Multiple panels\n    applyOverlays('osjs/panels', (newSettings.panels || []).slice(-1));\n    applyOverlays('osjs/widgets', newSettings.widgets);\n\n    this.applyTheme(newSettings.theme);\n    this.applyIcons(newSettings.icons);\n\n    this.applyIconView(newSettings.iconview);\n\n    this.core.emit('osjs/desktop:applySettings');\n\n    return {...newSettings};\n  }\n\n  /**\n   * Removes current style theme from DOM\n   * @private\n   */\n  _removeTheme() {\n    this.emit('theme:destroy');\n\n    this.off([\n      'theme:init',\n      'theme:destroy',\n      'theme:window:change',\n      'theme:window:transitionend'\n    ]);\n\n    this.$theme.forEach(el => {\n      if (el && el.parentNode) {\n        el.remove();\n      }\n    });\n\n    this.$theme = [];\n  }\n\n  /**\n   * Removes current icon theme from DOM\n   * @private\n   */\n  _removeIcons() {\n    this.$icons.forEach(el => {\n      if (el && el.parentNode) {\n        el.remove();\n      }\n    });\n\n    this.$icons = [];\n  }\n\n  /**\n   * Adds or removes the icon view\n   * @param {DesktopIconViewSettings} settings\n   */\n  applyIconView(settings) {\n    if (!this.iconview) {\n      return;\n    }\n\n    if (settings.enabled) {\n      this.iconview.render(settings.path);\n    } else {\n      this.iconview.destroy();\n    }\n  }\n\n  /**\n   * Sets the current icon theme from settings\n   * @param {string} name Icon theme name\n   * @return {Promise<undefined>}\n   */\n  applyIcons(name) {\n    name = name || this.core.config('desktop.icons');\n\n    return this._applyTheme(name)\n      .then(({elements, errors, callback, metadata}) => {\n        this._removeIcons();\n\n        this.$icons = Object.values(elements);\n\n        this.emit('icons:init');\n      });\n  }\n\n  /**\n   * Sets the current style theme from settings\n   * @param {string} name Theme name\n   * @return {Promise<undefined>}\n   */\n  applyTheme(name) {\n    name = name || this.core.config('desktop.theme');\n\n    return this._applyTheme(name)\n      .then(({elements, errors, callback, metadata}) => {\n        this._removeTheme();\n\n        if (callback && metadata) {\n          try {\n            callback(this.core, this, {}, metadata);\n          } catch (e) {\n            logger.warn('Exception while calling theme callback', e);\n          }\n        }\n\n        this.$theme = Object.values(elements);\n\n        this.emit('theme:init');\n      });\n  }\n\n  /**\n   * Apply theme wrapper\n   * @private\n   * @param {string} name Theme name\n   * @return {Promise<undefined>}\n   */\n  _applyTheme(name) {\n    return this.core.make('osjs/packages')\n      .launch(name)\n      .then(result => {\n        if (result.errors.length) {\n          logger.error(result.errors);\n        }\n\n        return result;\n      });\n  }\n\n  /**\n   * Apply settings by key\n   * @private\n   * @param {string} k Key\n   * @param {*} v Value\n   * @return {Promise<boolean>}\n   */\n  _applySettingsByKey(k, v) {\n    return this.core.make('osjs/settings')\n      .set('osjs/desktop', k, v)\n      .save()\n      .then(() => this.applySettings());\n  }\n\n  /**\n   * Create drop context menu entries\n   * @param {Object} data Drop data\n   * @return {Object[]}\n   */\n  createDropContextMenu(data) {\n    const _ = this.core.make('osjs/locale').translate;\n    const settings = this.core.make('osjs/settings');\n    const desktop = this.core.make('osjs/desktop');\n    const droppedImage = isDroppingImage(data);\n    const menu = [];\n\n    const setWallpaper = () => settings\n      .set('osjs/desktop', 'background.src', data)\n      .save()\n      .then(() => desktop.applySettings());\n\n    if (droppedImage) {\n      menu.push({\n        label: _('LBL_DESKTOP_SET_AS_WALLPAPER'),\n        onclick: setWallpaper\n      });\n    }\n\n    return menu;\n  }\n\n  /**\n   * When developer menu is shown\n   * @param {Event} ev\n   */\n  onDeveloperMenu(ev) {\n    const _ = this.core.make('osjs/locale').translate;\n    const s = this.core.make('osjs/settings').get();\n\n    const storageItems = Object.keys(s)\n      .map(k => ({\n        label: k,\n        onclick: () => {\n          this.core.make('osjs/settings')\n            .clear(k)\n            .then(() => this.applySettings());\n        }\n      }));\n\n    this.core.make('osjs/contextmenu').show({\n      position: ev,\n      menu: [\n        {\n          label: _('LBL_KILL_ALL'),\n          onclick: () => Application.destroyAll()\n        },\n        {\n          label: _('LBL_APPLICATIONS'),\n          items: Application.getApplications().map(proc => ({\n            label: `${proc.metadata.name} (${proc.pid})`,\n            items: [\n              {\n                label: _('LBL_KILL'),\n                onclick: () => proc.destroy()\n              },\n              {\n                label: _('LBL_RELOAD'),\n                onclick: () => proc.relaunch()\n              }\n            ]\n          }))\n        },\n        {\n          label: 'Clear Storage',\n          items: storageItems\n        }\n      ]\n    });\n  }\n\n  /**\n   * When drop menu is shown\n   * @param {Event} ev\n   * @param {Object} data\n   */\n  onDropContextMenu(ev, data) {\n    const menu = this.createDropContextMenu(data);\n\n    this.core.make('osjs/contextmenu', {\n      position: ev,\n      menu\n    });\n  }\n\n  /**\n   * When context menu is shown\n   * @param {Event} ev\n   */\n  onContextMenu(ev) {\n    const lockSettings = this.core.config('desktop.lock');\n    const extras = [].concat(...this.contextmenuEntries.map(e => typeof e === 'function' ? e() : e));\n    const config = this.core.config('desktop.contextmenu');\n    const hasIconview = this.core.make('osjs/settings').get('osjs/desktop', 'iconview.enabled');\n\n    if (config === false || config.enabled === false) {\n      return;\n    }\n\n    const useDefaults = config === true || config.defaults; // NOTE: Backward compability\n\n    const _ = this.core.make('osjs/locale').translate;\n    const __ = this.core.make('osjs/locale').translatableFlat;\n\n    const themes = this.core.make('osjs/packages')\n      .getPackages(p => p.type === 'theme');\n\n    const defaultItems = lockSettings ? [] : [{\n      label: _('LBL_DESKTOP_SELECT_WALLPAPER'),\n      onclick: () => {\n        this.core.make('osjs/dialog', 'file', {\n          mime: ['^image']\n        }, (btn, file) => {\n          if (btn === 'ok') {\n            this._applySettingsByKey('background.src', file);\n          }\n        });\n      }\n    }, {\n      label: _('LBL_DESKTOP_SELECT_THEME'),\n      items: themes.map(t => ({\n        label: __(t.title, t.name),\n        onclick: () => {\n          this._applySettingsByKey('theme', t.name);\n        }\n      }))\n    }];\n\n    if (hasIconview && this.iconview) {\n      defaultItems.push({\n        label: _('LBL_REFRESH'),\n        onclick: () => this.iconview.iconview.reload()\n      });\n    }\n\n    const base = useDefaults === 'function'\n      ? config.defaults(this, defaultItems)\n      : (useDefaults ? defaultItems : []);\n\n    const provided = typeof this.options.contextmenu === 'function'\n      ? this.options.contextmenu(this, defaultItems)\n      : this.options.contextmenu || [];\n\n    const menu = [\n      ...base,\n      ...provided,\n      ...extras\n    ];\n\n    if (menu.length) {\n      this.core.make('osjs/contextmenu').show({\n        menu,\n        position: ev\n      });\n    }\n  }\n\n  /**\n   * Sets the keyboard context.\n   *\n   * Used for tabbing and other special events\n   *\n   * @param {Element} [ctx]\n   */\n  setKeyboardContext(ctx) {\n    this.keyboardContext = ctx;\n  }\n\n  /**\n   * Gets the rectangle of available space\n   *\n   * This is based on any panels etc taking up space\n   *\n   * @return {DesktopViewportRectangle}\n   */\n  getRect() {\n    const root = this.core.$root;\n    // FIXME: Is this now wrong because panels are not on the root anymore ?!\n    const {left, top, right, bottom} = this.subtract;\n    const width = root.offsetWidth - left - right;\n    const height = root.offsetHeight - top - bottom;\n\n    return {width, height, top, bottom, left, right};\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {createNativeNotification} from './utils/dom';\nimport logger from './logger';\n\n/**\n * Notification Options\n *\n * @typedef {Object} NotificationOptions\n * @property {string} title Title\n * @property {string} message Message\n * @property {string} [sound=message] Sound to play\n * @property {string} [icon] Icon source\n * @property {number} [timeout=5000] Timeout value (0=infinite)\n * @property {string} [className] Adds a DOM class name to notification\n */\n\n/**\n * Notification Implementation\n */\nexport default class Notification {\n\n  /**\n   * Create notification\n   *\n   * @param {Core} core Core reference\n   * @param {Element} root Root DOM element\n   * @param {NotificationOptions} options Options\n   */\n  constructor(core, root, options = {}) {\n    const defaultLabel = core.make('osjs/locale')\n      .translate('LBL_NOTIFICATION');\n\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * Root node reference\n     * @type {Element}\n     * @readonly\n     */\n    this.$root = root;\n\n    /**\n     * Notification DOM node\n     * @type {Element}\n     * @readonly\n     */\n    this.$element = document.createElement('div');\n\n    /**\n     * The notification destruction state\n     * @type {Boolean}\n     * @readonly\n     */\n    this.destroyed = false;\n\n    /**\n     * Options\n     * @type {NotificationOptions}\n     * @readonly\n     */\n    this.options = {\n      icon: null,\n      title: defaultLabel,\n      message: defaultLabel,\n      timeout: 5000,\n      native: core.config('notifications.native', false),\n      sound: 'message',\n      className: '',\n      ...options\n    };\n\n    this.core.emit('osjs/notification:create', this);\n  }\n\n  /**\n   * Destroy notification\n   */\n  destroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.destroyed = true;\n    this.core.emit('osjs/notification:destroy', this);\n\n    this.$element.remove();\n    this.$element = null;\n    this.$root = null;\n  }\n\n  /**\n   * Render notification\n   * @return {Promise<boolean>}\n   */\n  render() {\n    const onclick = () => this.destroy();\n\n    const renderCustom = () => {\n      const view = state => h('div', {\n        class: 'osjs-notification-wrapper',\n        'data-has-icon': !!state.icon,\n        style: {\n          backgroundImage: state.icon ? `url(${state.icon})` : undefined\n        }\n      }, [\n        h('div', {class: 'osjs-notification-title'}, state.title),\n        h('div', {class: 'osjs-notification-message'}, state.message),\n      ]);\n\n      this.$element.classList.add('osjs-notification');\n      if (this.options.className) {\n        this.$element.classList.add(this.options.className);\n      }\n\n      if (this.options.timeout) {\n        setTimeout(() => this.destroy(), this.options.timeout);\n      }\n\n      this.$element.addEventListener('click', onclick);\n\n      this.$root.appendChild(this.$element);\n\n      app(this.options, {}, view, this.$element);\n\n      return Promise.resolve(true);\n    };\n\n    if (this.options.native) {\n      return createNativeNotification(this.options, onclick)\n        .catch(err => {\n          logger.warn('Error on native notification', err);\n          return renderCustom();\n        });\n    }\n\n    if (this.options.sound) {\n      this.core.make('osjs/sounds')\n        .play(this.options.sound);\n    }\n\n    return renderCustom();\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport Notification from './notification';\nimport {createCssText} from './utils/dom';\n\n/**\n * Notification Factory\n */\nexport default class Notifications {\n\n  /**\n   * @param {Core} core OS.js Core instance reference\n   */\n  constructor(core) {\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * @type {Element}\n     */\n    this.$element = null;\n  }\n\n  /**\n   * Destroy notification handler\n   */\n  destroy() {\n    this.$element.remove();\n    this.$element = null;\n  }\n\n  /**\n   * Initialize notification handler\n   */\n  init() {\n    this.$element = document.createElement('div');\n    this.$element.classList.add('osjs-notifications');\n    this.core.$root.appendChild(this.$element);\n\n    this.core.on('osjs/desktop:applySettings', () => {\n      this.setElementStyles();\n    });\n\n    this.setElementStyles();\n  }\n\n  /**\n   * Create a new notification\n   * @param {NotificationOptions} options See notification class for options\n   * @return {Notification}\n   */\n  create(options) {\n    if (!options) {\n      throw new Error('Notification options not given');\n    }\n\n    const notification = new Notification(this.core, this.$element, options);\n    notification.render();\n    return notification;\n  }\n\n  /**\n   * Sets the element styles\n   */\n  setElementStyles() {\n    const styles = createCssText(this.createElementStyles());\n    this.$element.style.cssText = styles;\n  }\n\n  /**\n   * Creates a new CSS style object\n   * @return {{property: string}}\n   */\n  createElementStyles() {\n    const defaultPosition = this.core\n      .config('desktop.settings.notifications.position', 'top-right');\n\n    const position = this.core.make('osjs/settings')\n      .get('osjs/desktop', 'notifications.position', defaultPosition);\n\n    if (position.split('-').length !== 2) {\n      return {};\n    }\n\n    return ['left', 'right', 'top', 'bottom']\n      .reduce((carry, key) => ({\n        [key]: position.indexOf(key) === -1 ? 'auto' : '0',\n        ...carry\n      }), {});\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {supportsPassive} from './utils/dom';\nimport {getEvent, matchKeyCombo} from './utils/input';\nimport {resizer, mover, getMediaQueryName, getCascadePosition} from './utils/windows';\n\nconst isPassive = supportsPassive();\nconst touchArg = isPassive ? {passive: true} : false;\n\n/*\n * Map of available \"actions\"\n */\nconst actionMap = {\n  maximize: (win) => win.maximize() ? null : win.restore(),\n  minimize: (win) => win.minimize(),\n  close: (win) => win.close()\n};\n\n/**\n * Default Window Behavior\n *\n * Controls certain events and their interaction with a window\n */\nexport default class WindowBehavior {\n  /**\n   * Create window behavior\n   *\n   * @param {Core} core Core reference\n   */\n  constructor(core) {\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * Last action\n     * @type {string}\n     */\n    this.lastAction = null;\n\n    /**\n     * LoFi DOM Element\n     * @type {Element}\n     * @readonly\n     */\n    this.$lofi = document.createElement('div');\n    this.$lofi.className = 'osjs-window-behavior-lofi';\n  }\n\n  /**\n   * Initializes window behavior\n   * @param {Window} win Window reference\n   */\n  init(win) {\n    const ontouchstart = ev => this.mousedown(ev, win);\n    const onmousedown = ev => this.mousedown(ev, win);\n    const onclick = ev => this.click(ev, win);\n    const ondblclick = ev => this.dblclick(ev, win);\n\n    const onicondblclick = ev => {\n      ev.stopPropagation();\n      ev.preventDefault();\n      this.iconDblclick(ev, win);\n    };\n\n    const oniconclick = ev => {\n      ev.stopPropagation();\n      ev.preventDefault();\n\n      this.iconClick(ev, win);\n    };\n\n    const ontrasitionend = ev => {\n      if (win) {\n        win.emit('transitionend');\n      }\n\n      this.core.emit('osjs/window:transitionend', ev, win);\n    };\n\n    win.$element.addEventListener('touchstart', ontouchstart, touchArg);\n    win.$element.addEventListener('mousedown', onmousedown);\n    win.$element.addEventListener('click', onclick);\n    win.$element.addEventListener('dblclick', ondblclick);\n    win.$element.addEventListener('transitionend', ontrasitionend);\n\n    if (win.$icon) {\n      win.$icon.addEventListener('dblclick', onicondblclick);\n      win.$icon.addEventListener('click', oniconclick);\n    }\n\n    win.on('resized,rendered', () => {\n      win.setState('media', getMediaQueryName(win));\n    });\n\n    win.on('destroy', () => {\n      if (win.$element) {\n        win.$element.removeEventListener('touchstart', ontouchstart, touchArg);\n        win.$element.removeEventListener('mousedown', onmousedown);\n        win.$element.removeEventListener('click', onclick);\n        win.$element.removeEventListener('dblclick', ondblclick);\n        win.$element.removeEventListener('transitionend', ontrasitionend);\n      }\n\n      if (win.$icon) {\n        win.$icon.removeEventListener('dblclick', onicondblclick);\n        win.$icon.removeEventListener('click', oniconclick);\n      }\n    });\n\n    const rect = {top: 0, left: 0};\n    const {top, left} = getCascadePosition(win, rect, win.state.position);\n    win.state.position.top = top;\n    win.state.position.left = left;\n    win.state.media = getMediaQueryName(win);\n  }\n\n  /**\n   * Handles Mouse Click Event\n   * @param {Event} ev Browser Event\n   * @param {Window} win Window reference\n   */\n  click(ev, win) {\n    if (this.lastAction) {\n      return;\n    }\n\n    const target = ev.target;\n    const hitButton = target.classList.contains('osjs-window-button');\n\n    if (hitButton) {\n      const action =  ev.target.getAttribute('data-action');\n      actionMap[action](win);\n    }\n  }\n\n  /**\n   * Handles Mouse Double Click Event\n   * @param {Event} ev Browser Event\n   * @param {Window} win Window reference\n   */\n  dblclick(ev, win) {\n    if (this.lastAction) {\n      return;\n    }\n\n    const target = ev.target;\n    const hitTitle = target.classList.contains('osjs-window-header');\n\n    if (hitTitle) {\n      if (win.state.maximized) {\n        win.restore();\n      } else if (win.state.minimized) {\n        win.raise();\n      } else {\n        win.maximize();\n      }\n    }\n  }\n\n  /**\n   * Handles Mouse Down Event\n   * @param {Event} ev Browser Event\n   * @param {Window} win Window reference\n   */\n  mousedown(ev, win) {\n    let attributeSet = false;\n\n    const {moveable, resizable} = win.attributes;\n    const {maximized} = win.state;\n    const {lofi, moveKeybinding} = this.core.config('windows');\n    const {clientX, clientY, touch, target} = getEvent(ev);\n\n    const checkMove = matchKeyCombo(moveKeybinding, ev)\n      ? win.$element.contains(target)\n      : target.classList.contains('osjs-window-header');\n\n    const rect = this.core.has('osjs/desktop')\n      ? this.core.make('osjs/desktop').getRect()\n      : {top: 0, left: 0};\n\n    const resize = target.classList.contains('osjs-window-resize')\n      ? resizer(win, target)\n      : null;\n\n    const move = checkMove\n      ? mover(win, {top: 0, left: 0})\n      : null;\n\n    let actionCallback;\n\n    const mousemove = (ev) => {\n      if (!isPassive) {\n        ev.preventDefault();\n      }\n\n      if (maximized || (!moveable && move) || (!resizable && resize)) {\n        return;\n      }\n\n      const transformedEvent = getEvent(ev);\n      const posX = resize ? Math.max(rect.left, transformedEvent.clientX) : transformedEvent.clientX;\n      const posY = resize ? Math.max(rect.top, transformedEvent.clientY) : transformedEvent.clientY;\n      const diffX = posX - clientX;\n      const diffY = posY - clientY;\n\n      if (resize) {\n        const {width, height, top, left} = resize(diffX, diffY);\n\n        actionCallback = () => {\n          win._setState('dimension', {width, height}, false);\n          win._setState('position', {top, left}, false);\n        };\n\n        if (lofi) {\n          this.$lofi.style.top = `${top}px`;\n          this.$lofi.style.left = `${left}px`;\n          this.$lofi.style.width = `${width}px`;\n          this.$lofi.style.height = `${height}px`;\n        } else {\n          actionCallback();\n        }\n\n        this.lastAction = 'resize';\n      } else if (move) {\n        const position = move(diffX, diffY);\n\n        actionCallback = () => {\n          win._setState('position', position, false);\n        };\n\n        if (lofi) {\n          this.$lofi.style.top = `${position.top}px`;\n          this.$lofi.style.left = `${position.left}px`;\n        } else {\n          actionCallback();\n        }\n\n        this.lastAction = 'move';\n      }\n\n      if (this.lastAction) {\n        win._setState(this.lastAction === 'move' ? 'moving' : 'resizing', true);\n\n        if (!attributeSet) {\n          this.core.$root.setAttribute('data-window-action', String(true));\n          attributeSet = true;\n        }\n      }\n    };\n\n    const mouseup = () => {\n      if (touch) {\n        document.removeEventListener('touchmove', mousemove, touchArg);\n        document.removeEventListener('touchend', mouseup, touchArg);\n      } else {\n        document.removeEventListener('mousemove', mousemove);\n        document.removeEventListener('mouseup', mouseup);\n      }\n\n      if (lofi) {\n        this.$lofi.remove();\n\n        if (actionCallback) {\n          actionCallback();\n        }\n\n        actionCallback = undefined;\n      }\n\n      if (this.lastAction === 'move') {\n        win.emit('moved', {...win.state.position}, win);\n        win._setState('moving', false);\n      } else if (this.lastAction === 'resize') {\n        win.emit('resized', {...win.state.dimension}, win);\n        win._setState('resizing', false);\n      }\n\n      this.core.$root.setAttribute('data-window-action', String(false));\n    };\n\n\n    if (!win.focus()) {\n      win.setNextZindex();\n    }\n\n    if (move || resize) {\n      if (touch) {\n        document.addEventListener('touchmove', mousemove, touchArg);\n        document.addEventListener('touchend', mouseup, touchArg);\n      } else {\n        document.addEventListener('mousemove', mousemove);\n        document.addEventListener('mouseup', mouseup);\n      }\n    }\n\n    this.lastAction = null;\n\n    if (this.core.has('osjs/contextmenu')) {\n      this.core.make('osjs/contextmenu').hide();\n    }\n\n    if (lofi) {\n      this.$lofi.style.zIndex = win.state.zIndex + 1;\n      this.$lofi.style.top = `${win.state.position.top}px`;\n      this.$lofi.style.left = `${win.state.position.left}px`;\n      this.$lofi.style.width = `${win.state.dimension.width}px`;\n      this.$lofi.style.height = `${win.state.dimension.height}px`;\n\n      if (!this.$lofi.parentNode) {\n        document.body.appendChild(this.$lofi);\n      }\n    }\n  }\n\n  /**\n   * Handles Icon Double Click Event\n   * @param {Event} ev Browser Event\n   * @param {Window} win Window reference\n   */\n  iconDblclick(ev, win) {\n    win.close();\n  }\n\n  /**\n   * Handles Icon Click Event\n   * @param {Event} ev Browser Event\n   * @param {Window} win Window reference\n   */\n  iconClick(ev, win) {\n    const {minimized, maximized} = win.state;\n    const {minimizable, maximizable, closeable} = win.attributes;\n    const _ = this.core.make('osjs/locale').translate;\n\n    this.core.make('osjs/contextmenu', {\n      position: ev,\n      menu: [{\n        label: minimized ? _('LBL_RAISE') : _('LBL_MINIMIZE'),\n        disabled: !minimizable,\n        onclick: () => minimized ? win.raise() : win.minimize()\n      }, {\n        label: maximized ? _('LBL_RESTORE') : _('LBL_MAXIMIZE'),\n        disabled: !maximizable,\n        onclick: () => maximized ? win.restore() : win.maximize()\n      }, {\n        label: _('LBL_CLOSE'),\n        disabled: !closeable,\n        onclick: () => win.close()\n      }]\n    });\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {EventEmitter} from '@osjs/event-emitter';\n\nconst createAttributes = (props, field, disabled) => {\n  disabled = disabled ? 'disabled' : undefined;\n  if (field.tagName === 'input') {\n    if (field.attributes.type !== 'submit') {\n      return {\n        autocapitalize: 'off',\n        autocomplete: 'new-' + field.attributes.name,\n        disabled,\n        oncreate: el => (el.value = props[field.attributes.name] || field.value || ''),\n        ...field.attributes\n      };\n    }\n  }\n\n  return {disabled, ...field.attributes};\n};\n\nconst createFields = (props, fields, disabled) => {\n  const children = f => {\n    if (f.tagName === 'select' && f.choices) {\n      return f.choices.map(c => h('option', {\n        current: c.current ? 'current' : undefined,\n        value: c.value\n      }, c.label));\n    }\n\n    return f.children || [];\n  };\n\n  return fields.map(f => h('div', {\n    class: 'osjs-login-field osjs-login-field-' + f.tagName\n  }, h(f.tagName, createAttributes(props, f, disabled), children(f))));\n};\n\nconst createView = (options) => {\n  const {src, position} = options.logo;\n\n  const logo = () =>\n    h('div', {\n      class: 'osjs-login-logo',\n      'data-position': position,\n      style: {\n        backgroundImage: `url('${src}')`\n      }\n    });\n\n  const fields = state => {\n    const result = createFields(state, options.fields, state.loading);\n\n    if (src && position === 'bottom') {\n      result.push(logo());\n    }\n\n    if (options.stamp) {\n      result.push(h('div', {\n        class: 'osjs-login-stamp'\n      }, options.stamp));\n    }\n\n    return result;\n  };\n\n  return (state, actions) => {\n    const header = [];\n\n    if (options.title) {\n      header.push(h('div', {\n        class: 'osjs-login-header'\n      }, h('span', {}, options.title)));\n    }\n\n    if (src && ['top', 'middle'].indexOf(position) !== -1) {\n      const m = position === 'top'\n        ? 'unshift'\n        : 'push';\n\n      header[m](logo());\n    }\n\n    const createSide = side => position === side\n      ? h('div', {'data-position': position}, logo())\n      : null;\n\n    const left = () => createSide('left');\n    const right = () => createSide('right');\n    const middle = () => h('div', {class: 'osjs-login-content'}, children);\n\n    const formFields = fields(state);\n\n    const children = [\n      ...header,\n\n      h('div', {\n        class: 'osjs-login-error',\n        style: {display: state.error ? 'block' : 'none'}\n      }, h('span', {}, state.error)),\n      h('form', {\n        loading: false,\n        method: 'post',\n        action: '#',\n        autocomplete: 'off',\n        onsubmit: actions.submit\n      }, formFields)\n    ];\n\n    return h('div', {\n      class: 'osjs-login',\n      id: options.id,\n      style: {display: state.hidden ? 'none' : undefined}\n    }, [left(), middle(), right()].filter(el => !!el));\n  };\n};\n\n/**\n * Login UI Adapter\n */\nconst create = (options, login, startHidden, $container) => {\n  const ee = new EventEmitter('LoginUI');\n  const view = createView(options);\n  const a = app({\n    hidden: startHidden,\n    ...login\n  }, {\n    setLoading: loading => ({loading}),\n    setError: error => ({error, hidden: false}),\n    submit: ev => state => {\n      ev.preventDefault();\n\n      if (state.loading) {\n        return;\n      }\n\n      const values = Array.from(ev.target.elements)\n        .filter(el => el.type !== 'submit')\n        .reduce((o, el) => ({...o, [el.name] : el.value}), {});\n\n      ee.emit('login:post', values);\n    }\n  }, view, $container);\n\n  ee.on('login:start', () => a.setLoading(true));\n  ee.on('login:stop', () => a.setLoading(false));\n  ee.on('login:error', err => a.setError(err));\n\n  return ee;\n};\n\nexport default create;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\nimport {EventEmitter} from '@osjs/event-emitter';\nimport createUI from './adapters/ui/login';\n\n/**\n * Login Options\n *\n * @typedef {Object} LoginOptions\n * @property {string} [title] Title\n * @property {object[]} [fields] Fields\n */\n\n/**\n * OS.js Login UI\n */\nexport default class Login extends EventEmitter {\n\n  /**\n   * Create authentication handler\n   *\n   * @param {Core} core Core reference\n   * @param {LoginOptions} [options] Options\n   */\n  constructor(core, options) {\n    super('Login');\n\n    /**\n     * Login root DOM element\n     * @type {Element}\n     */\n    this.$container = null;\n\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * Login options\n     * TODO: typedef\n     * @type {Object}\n     * @readonly\n     */\n    this.options = {\n      id: 'osjs-login',\n      title: 'Welcome to OS.js',\n      stamp: core.config('version'),\n      logo: {\n        position: 'top',\n        src: null\n      },\n      fields: [{\n        tagName: 'input',\n        attributes: {\n          name: 'username',\n          type: 'text',\n          placeholder: 'Username'\n        }\n      }, {\n        tagName: 'input',\n        attributes: {\n          name: 'password',\n          type: 'password',\n          placeholder: 'Password'\n        }\n      }, {\n        tagName: 'input',\n        attributes: {\n          type: 'submit',\n          value: 'Login'\n        }\n      }],\n      ...options\n    };\n  }\n\n  /**\n   * Initializes the UI\n   */\n  init(startHidden) {\n    this.$container = document.createElement('div');\n    this.$container.id = this.options.id;\n    this.$container.className = 'osjs-login-base';\n    this.core.$root.classList.add('login');\n    this.core.$root.appendChild(this.$container);\n\n    this.render(startHidden);\n  }\n\n  /**\n   * Destroys the UI\n   */\n  destroy() {\n    this.core.$root.classList.remove('login');\n\n    if (this.$container) {\n      this.$container.remove();\n      this.$container = null;\n    }\n\n    super.destroy();\n  }\n\n  /**\n   * Renders the UI\n   */\n  render(startHidden) {\n    const login = this.core.config('auth.login', {});\n    const ui = createUI(this.options, login, startHidden, this.$container);\n\n    ui.on('login:post', values => this.emit('login:post', values));\n    this.on('login:start', () => ui.emit('login:start'));\n    this.on('login:stop', () => ui.emit('login:stop'));\n    this.on('login:error', err => ui.emit('login:error', err));\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * LocalStorage Auth adapter\n * @param {Core} core Core reference\n * @param {object} [options] Adapter options\n */\nconst localStorageAuth = (core, options) => ({\n  login: (values) => Promise.resolve(values)\n});\n\nexport default localStorageAuth;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\nimport Login from './login';\nimport serverAuth  from './adapters/auth/server';\nimport localStorageAuth from './adapters/auth/localstorage';\nimport logger from './logger';\n\nconst defaultAdapters = {\n  server: serverAuth,\n  localStorage: localStorageAuth\n};\n\nconst createUi = (core, options) => {\n  const defaultUi = core.config('auth.ui', {});\n\n  return options.login\n    ? options.login(core, options.config || {})\n    : new Login(core, options.ui || defaultUi);\n};\n\nconst createAdapter = (core, options) => {\n  const adapter = core.config('standalone')\n    ? localStorageAuth\n    : typeof options.adapter === 'function'\n      ? options.adapter\n      : defaultAdapters[options.adapter || 'server'];\n\n  return {\n    login: () => Promise.reject(new Error('Not implemented')),\n    logout: () => Promise.reject(new Error('Not implemented')),\n    register: () => Promise.reject(new Error('Not implemented')),\n    init: () => Promise.resolve(true),\n    destroy: () => {},\n    ...adapter(core, options.config || {})\n  };\n};\n\n/**\n * TODO: typedef\n * @typedef {Object} AuthAdapter\n */\n\n/**\n * TODO: typedef\n * @typedef {Object} AuthAdapterConfig\n */\n\n/**\n * @typedef {Object} AuthForm\n * @property {string} [username]\n * @property {string} [password]\n */\n\n/**\n * @callback AuthAdapterCallback\n * @param {Core} core\n * @return {AuthAdapter}\n */\n\n/**\n * @callback LoginAdapterCallback\n * @param {Core} core\n * @return {Login}\n */\n\n/**\n * @callback AuthCallback\n * @param {AuthForm} data\n * @return {boolean}\n */\n\n/**\n * @typedef {Object} AuthSettings\n * @property {AuthAdapterCallback|AuthAdapter} [adapter] Adapter to use\n * @property {LoginAdapterCallback|Login} [login] Login Adapter to use\n * @property {AuthAdapterConfig} [config] Adapter configuration\n */\n\n/**\n * Handles Authentication\n */\nexport default class Auth {\n\n  /**\n   * @param {Core} core OS.js Core instance reference\n   * @param {AuthSettings} [options={}] Auth Options\n   */\n  constructor(core, options = {}) {\n    /**\n     * Authentication UI\n     * @type {Login}\n     * @readonly\n     */\n    this.ui = createUi(core, options);\n\n    /**\n     * Authentication adapter\n     * @type {AuthAdapter}\n     * @readonly\n     */\n    this.adapter = createAdapter(core, options);\n\n    /**\n     * Authentication callback function\n     * @type {AuthCallback}\n     * @readonly\n     */\n    this.callback = function() {};\n\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n  }\n\n  /**\n   * Initializes authentication handler\n   */\n  init() {\n    this.ui.on('login:post', values => this.login(values));\n\n    return this.adapter.init();\n  }\n\n  /**\n   * Destroy authentication handler\n   */\n  destroy() {\n    this.ui.destroy();\n  }\n\n  /**\n   * Run the shutdown procedure\n   * @param {boolean} [reload] Reload afterwards\n   */\n  shutdown(reload) {\n    try {\n      this.core.destroy();\n    } catch (e) {\n      logger.warn('Exception on destruction', e);\n    }\n\n    this.core.emit('osjs/core:logged-out');\n\n    if (reload) {\n      setTimeout(() => {\n        window.location.reload();\n        // FIXME Reload, not refresh\n        // this.core.boot();\n      }, 1);\n    }\n  }\n\n  /**\n   * Shows Login UI\n   * @param {AuthCallback} cb Authentication callback\n   * @return {Promise<boolean>}\n   */\n  show(cb) {\n    const login = this.core.config('auth.login', {});\n    const autologin = login.username && login.password;\n\n    this.callback = cb;\n    this.ui.init(autologin);\n\n    if (autologin) {\n      return this.login(login);\n    }\n\n    return Promise.resolve(true);\n  }\n\n  /**\n   * Performs a login\n   * @param {AuthForm} values Form values as JSON\n   * @return {Promise<boolean>}\n   */\n  login(values) {\n    this.ui.emit('login:start');\n\n    return this.adapter\n      .login(values)\n      .then(response => {\n        if (response) {\n          this.ui.destroy();\n          this.callback(response);\n\n          this.core.emit('osjs/core:logged-in');\n          this.ui.emit('login:stop');\n\n          return true;\n        }\n\n        return false;\n      })\n      .catch(e => {\n        if (this.core.config('development')) {\n          logger.warn('Exception on login', e);\n        }\n\n        this.ui.emit('login:error', 'Login failed');\n        this.ui.emit('login:stop');\n\n        return false;\n      });\n  }\n\n  /**\n   * Performs a logout\n   * @param {boolean} [reload=true] Reload client afterwards\n   * @return {Promise<boolean>}\n   */\n  logout(reload = true) {\n    return this.adapter.logout(reload)\n      .then(response => {\n        if (!response) {\n          return false;\n        }\n\n        this.shutdown(reload);\n\n        return true;\n      });\n  }\n\n  /**\n   * Performs a register call\n   * @param {AuthForm} values Form values as JSON\n   * @return {Promise<*>}\n   */\n  register(values) {\n    return this.adapter.register(values);\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Server Auth adapter\n * @param {Core} core Core reference\n * @param {object} [options] Adapter options\n */\nconst serverAuth = (core, options) => {\n  const request = (endpoint, params = {}) => core.request(endpoint, {\n    method: 'POST',\n    body: JSON.stringify(params)\n  }, 'json');\n\n  return {\n    register: (values) => request('/register', values),\n    login: (values) => request('/login', values),\n    logout: () =>  request('/logout')\n  };\n};\n\nexport default serverAuth;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport Application from './application';\nimport logger from './logger';\n\n/**\n * Session Handler\n */\nexport default class Session {\n\n  /**\n   * Creates the Session Handler\n   *\n   * @param {Core} core Core reference\n   */\n  constructor(core) {\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n  }\n\n  /**\n   * Destroys instance\n   */\n  destroy() {\n  }\n\n  /**\n   * Saves session\n   * @return {Promise<boolean>}\n   */\n  save() {\n    const apps = Application.getApplications()\n      .filter(a => a.options.sessionable !== false);\n\n    const session = apps.map(app => app.getSession());\n\n    return this.core.make('osjs/settings')\n      .set('osjs/session', null, session)\n      .save();\n  }\n\n  /**\n   * Loads session\n   * @param {boolean} [fresh=false] Kill all current applications first\n   * @return {Promise<boolean>}\n   */\n  load(fresh = false) {\n    if (fresh) {\n      Application.destroyAll();\n    }\n\n    let session = this.core.make('osjs/settings')\n      .get('osjs/session');\n\n    if (session && !(session instanceof Array)) {\n      session = Object.values(session);\n    }\n\n    if (session) {\n      console.group('Session::load()');\n\n      session.forEach(app => {\n        try {\n          this.core.run(app.name, app.args, {\n            restore: {\n              windows: app.windows\n            }\n          });\n        } catch (e) {\n          logger.warn('Error while loading session entry', e);\n        }\n      });\n\n      console.groupEnd();\n    }\n\n    return Promise.resolve(true);\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {style, script} from './dom';\nimport logger from '../logger';\n\n/**\n * @typedef {HTMLScriptElement|HTMLLinkElement} PreloaderEntryElement\n */\n\n/**\n * @typedef {Object} PreloaderEntry\n * @property {boolean} success\n * @property {PreloaderEntryElement} [el]\n * @property {string} [entry]\n * @property {string} [error]\n */\n\n/**\n * @typedef {Object} PreloaderResult\n * @property {string[]} errors\n * @property {{string: PreloaderEntryElement}} elements\n */\n\n/**\n * The Preloader loads styles and scripts\n */\nexport default class Preloader {\n\n  constructor(root) {\n    /**\n     * A list of cached preloads\n     * @type {String[]}\n     */\n    this.loaded = [];\n\n    /**\n     * @type {Element}\n     */\n    this.$root = root;\n  }\n\n  destroy() {\n    this.loaded = [];\n  }\n\n  /**\n   * Loads all resources required for a package\n   * @param {string[]} list A list of resources\n   * @param {boolean} [force=false] Force loading even though previously cached\n   * @return {Promise<PreloaderResult>} A list of failed resources\n   */\n  load(list, force = false) {\n    const cached = entry => force\n      ? false\n      : this.loaded.find(src => src === entry);\n\n    const promises = list\n      .filter(entry => !cached(entry))\n      .map(entry => {\n        logger.debug('Packages::preload()', entry);\n\n        const p = entry.match(/\\.js$/)\n          ? script(this.$root, entry)\n          : style(this.$root, entry);\n\n        return p\n          .then(el => ({success: true, entry, el}))\n          .catch(error => ({success: false, entry, error}));\n      });\n\n    return Promise.all(promises)\n      .then(results => this._load(results, cached));\n  }\n\n  /**\n   * Checks the loaded list\n   * @private\n   * @param {Object[]} results Preload results\n   * @param {string[]} cached Already cached preloads\n   * @return {PreloaderResult}\n   */\n  _load(results, cached) {\n    const successes = results.filter(res => res.success);\n    successes.forEach(entry => {\n      if (!cached(entry)) {\n        this.loaded.push(entry);\n      }\n    });\n\n    const failed = results.filter(res => !res.success);\n    failed.forEach(failed => logger.warn('Failed loading', failed.entry, failed.error));\n\n    return {\n      errors: failed.map(failed => failed.entry),\n      elements: successes.reduce((result, iter) => {\n        return {...result, [iter.entry]: iter.el};\n      }, {})\n    };\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nexport const createPackageAvailabilityCheck = (core) => {\n  const user = core.getUser();\n  const permissions = core.config('packages.permissions', {});\n\n  const checkMetadataGroups = iter => {\n    const m = iter.strictGroups === false ? 'some' : 'every';\n\n    return iter.groups instanceof Array\n      ? iter.groups[m](g => user.groups.indexOf(g) !== -1)\n      : true;\n  };\n\n  const checkConfigGroups = iter => {\n    const perm = permissions[iter.name];\n    if (perm && perm.groups instanceof Array) {\n      const m = perm.strictGroups === false ? 'some' : 'every';\n      return perm.groups[m](g => user.groups.indexOf(g) !== -1);\n    }\n\n    return true;\n  };\n\n  const checkBlacklist = iter => user.blacklist instanceof Array\n    ? user.blacklist.indexOf(iter.name) === -1\n    : true;\n\n  const checks =  [\n    checkMetadataGroups,\n    checkConfigGroups,\n    checkBlacklist\n  ];\n\n  return metadata => checks.every(fn => fn(metadata));\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport Application from './application';\nimport Preloader from './utils/preloader';\nimport logger from './logger';\nimport {createPackageAvailabilityCheck} from './utils/packages';\n\n/**\n * A registered package reference\n *\n * @typedef {Object} PackageReference\n * @property {PackageMetadata} metadata Package metadata\n * @property {Function} callback Callback to instanciate\n */\n\n/**\n * A package metadata\n *\n * @typedef {Object} PackageMetadata\n * @property {string} name The package name\n * @property {string} [category] Package category\n * @property {string} [icon] Package icon\n * @property {boolean} [singleton] If only one instance allowed\n * @property {boolean} [autostart] Autostart on boot\n * @property {boolean} [hidden] Hide from launch menus etc.\n * @property {string} [server] Server script filename\n * @property {string[]} [groups] Only available for users in this group\n * @property {string[]} [files] Files to preload\n * @property {{key: string}} title A map of locales and titles\n * @property {{key: string}} description A map of locales and titles\n */\n\n/**\n * Package Launch Options\n *\n * @typedef {Object} PackageLaunchOptions\n * @property {boolean} [forcePreload=false] Force preload reloading\n */\n\n/**\n * Package Manager\n *\n * Handles indexing, loading and launching of OS.js packages\n */\nexport default class Packages {\n\n  /**\n   * Create package manage\n   *\n   * @param {Core} core Core reference\n   */\n  constructor(core) {\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * A list of registered packages\n     * @type {PackageReference[]}\n     */\n    this.packages = [];\n\n    /**\n     * The lost of loaded package metadata\n     * @type {PackageMetadata[]}\n     */\n    this.metadata = [];\n\n    /**\n     * A list of running application names\n     *\n     * Mainly used for singleton awareness\n     *\n     * @private\n     * @type {string[]}\n     */\n    this._running = [];\n\n    /**\n     * Preloader\n     * @type {Preloader}\n     * @readonly\n     */\n    this.preloader = new Preloader(core.$resourceRoot);\n\n    /**\n     * If inited\n     * @type {boolean}\n     */\n    this.inited = false;\n  }\n\n  /**\n   * Destroy package manager\n   */\n  destroy() {\n    this.packages = [];\n    this.metadata = [];\n\n    this.preloader.destroy();\n  }\n\n  /**\n   * Initializes package manager\n   * @return {Promise<boolean>}\n   */\n  init() {\n    logger.debug('Packages::init()');\n\n    if (!this.inited) {\n      this.core.on('osjs/core:started', () => this._autostart());\n    }\n\n    this.metadata = this.core.config('packages.metadata', [])\n      .map(iter => ({type: 'application', ...iter}));\n\n    this.inited = true;\n\n    const manifest = this.core.config('packages.manifest');\n\n    return manifest\n      ? this.core.request(manifest, {}, 'json', true)\n        .then(metadata => this.addPackages(metadata))\n        .then(() => true)\n        .catch(error => logger.error(error))\n      : Promise.resolve(true);\n  }\n\n  /**\n   * Launches a (application) package\n   *\n   * @param {string} name Package name\n   * @param {{foo: *}} [args={}] Launch arguments\n   * @param {PackageLaunchOptions} [options={}] Launch options\n   * @see PackageServiceProvider\n   * @throws {Error}\n   * @return {Promise<Application>}\n   */\n  launch(name, args = {}, options = {}) {\n    logger.debug('Packages::launch()', name, args, options);\n\n    const _ = this.core.make('osjs/locale').translate;\n    const metadata = this.metadata.find(pkg => pkg.name === name);\n    if (!metadata) {\n      throw new Error(_('ERR_PACKAGE_NOT_FOUND', name));\n    }\n\n    if (['theme', 'icons', 'sounds'].indexOf(metadata.type) !== -1) {\n      return this._launchTheme(name, metadata);\n    }\n\n    return this._launchApplication(name, metadata, args, options);\n  }\n\n  /**\n   * Launches an application package\n   *\n   * @private\n   * @param {string} name Application package name\n   * @param {Metadata} metadata Application metadata\n   * @param {{foo: *}} args Launch arguments\n   * @param {PackageLaunchOptions} options Launch options\n   * @return {Promise<Application>}\n   */\n  _launchApplication(name, metadata, args, options) {\n    let signaled = false;\n\n    if (metadata.singleton) {\n      const foundApp = Application.getApplications()\n        .find(app => app.metadata.name === metadata.name);\n\n      if (foundApp) {\n        foundApp.emit('attention', args, options);\n        signaled = true;\n\n        return Promise.resolve(foundApp);\n      }\n\n      const found = this._running.filter(n => n === name);\n\n      if (found.length > 0) {\n        return new Promise((resolve, reject) => {\n          this.core.once(`osjs/application:${name}:launched`, a => {\n            if (signaled) {\n              resolve(a);\n            } else {\n              a.emit('attention', args, options);\n              resolve(a);\n            }\n          });\n        });\n      }\n    }\n\n    this.core.emit('osjs/application:launch', name, args, options);\n\n    this._running.push(name);\n\n    return this._launch(name, metadata, args, options);\n  }\n\n  /**\n   * Launches a (theme) package\n   *\n   * @private\n   * @param {string} name Package name\n   * @param {Metadata} metadata Application metadata\n   * @throws {Error}\n   * @return {Promise<object>}\n   */\n  _launchTheme(name, metadata) {\n    const preloads = (metadata.files || [])\n      .map(f => this.core.url(f, {}, ({\n        type: metadata.type,\n        ...metadata\n      })));\n\n    return this.preloader.load(preloads)\n      .then(result => {\n        return {\n          elements: {},\n          ...result,\n          ...this.packages.find(pkg => pkg.metadata.name === name) || {}\n        };\n      });\n  }\n\n  /**\n   * Wrapper for launching a (application) package\n   *\n   * @private\n   * @param {string} name Package name\n   * @param {{foo: *}} args Launch arguments\n   * @param {PackageLaunchOptions} options Launch options\n   * @return {Promise<Application>}\n   */\n  _launch(name, metadata, args, options) {\n    const _ = this.core.make('osjs/locale').translate;\n    const canLaunch = createPackageAvailabilityCheck(this.core);\n\n    const dialog = e => {\n      if (this.core.has('osjs/dialog')) {\n        this.core.make('osjs/dialog', 'alert', {\n          type: 'error',\n          title: _('ERR_PACKAGE_EXCEPTION', name),\n          message: _('ERR_PACKAGE_EXCEPTION', name),\n          error: e\n        }, () => { /* noop */});\n      } else {\n        alert(`${_('ERR_PACKAGE_EXCEPTION', name)}: ${e.stack || e}`);\n      }\n    };\n\n    const fail = err => {\n      this.core.emit('osjs/application:launched', name, false);\n      this.core.emit(`osjs/application:${name}:launched`, false);\n\n      dialog(err);\n\n      throw new Error(err);\n    };\n\n    const preloads = metadata.files\n      .map(f => this.core.url(f, {}, {type: 'apps', ...metadata}));\n\n    const create = found => {\n      let app;\n\n      try {\n        console.group('Packages::_launch()');\n        app = found.callback(this.core, args, options, found.metadata);\n\n        if (app instanceof Application) {\n          app.on('destroy', () => {\n            const foundIndex = this._running.findIndex(n => n === name);\n            if (foundIndex !== -1) {\n              this._running.splice(foundIndex, 1);\n            }\n          });\n        } else {\n          logger.warn('The application', name, 'did not return an Application instance from registration');\n        }\n      } catch (e) {\n        dialog(e);\n\n        logger.warn('Exception when launching', name, e);\n      } finally {\n        this.core.emit('osjs/application:launched', name, app);\n        this.core.emit(`osjs/application:${name}:launched`, app);\n        console.groupEnd();\n      }\n\n      return app;\n    };\n\n    if (!canLaunch(metadata)) {\n      fail(_('ERR_PACKAGE_PERMISSION_DENIED', name));\n    }\n\n    return this.preloader.load(preloads, options.forcePreload === true)\n      .then(({errors}) => {\n        if (errors.length) {\n          fail(_('ERR_PACKAGE_LOAD', name, errors.join(', ')));\n        }\n\n        const found = this.packages.find(pkg => pkg.metadata.name === name);\n        if (!found) {\n          fail(_('ERR_PACKAGE_NO_RUNTIME', name));\n        }\n\n        return create(found);\n      });\n  }\n\n  /**\n   * Autostarts tagged packages\n   * @private\n   */\n  _autostart() {\n    const meta = this.metadata\n      .filter(pkg => pkg.autostart === true);\n\n    const configured = this.core\n      .config('application.autostart', [])\n      .map(value => typeof value === 'string' ? {name: value} : value);\n\n    [...meta, ...configured].forEach(({name, args}) => this.launch(name, args || {}));\n  }\n\n  /**\n   * Registers a package\n   *\n   * @param {string} name Package name\n   * @param {Function} callback Callback function to construct application instance\n   * @throws {Error}\n   */\n  register(name, callback) {\n    logger.debug('Packages::register()', name);\n\n    const _ = this.core.make('osjs/locale').translate;\n    const metadata = this.metadata.find(pkg => pkg.name === name);\n    if (!metadata) {\n      throw new Error(_('ERR_PACKAGE_NO_METADATA', name));\n    }\n\n    const foundIndex = this.packages.findIndex(pkg => pkg.metadata.name === name);\n    if (foundIndex !== -1) {\n      this.packages.splice(foundIndex, 1);\n    }\n\n    this.packages.push({\n      metadata,\n      callback\n    });\n  }\n\n  /**\n   * Adds a set of packages\n   * @param {PackageMetadata[]} list Package list\n   * @return {PackageMetadata[]} Current list of packages\n   */\n  addPackages(list) {\n    if (list instanceof Array) {\n      const append = list\n        .map(iter => ({\n          type: 'application',\n          files: [],\n          ...iter\n        }));\n\n      this.metadata = [...this.metadata, ...append];\n    }\n\n    return this.getPackages();\n  }\n\n  /**\n   * Gets a list of packages (metadata)\n   * @param {Function} [filter] A filter function\n   * @return {PackageMetadata[]}\n   */\n  getPackages(filter) {\n    filter = filter || (() => true);\n\n    const metadata = this.metadata.map(m => ({...m}));\n    const hidden = this.core.config('packages.hidden', []);\n    const filterAvailable = createPackageAvailabilityCheck(this.core);\n\n    const filterConfigHidden = iter => hidden instanceof Array\n      ? hidden.indexOf(iter.name) === -1\n      : true;\n\n    return metadata\n      .filter(filterAvailable)\n      .filter(filterConfigHidden)\n      .filter(filter);\n  }\n\n  /**\n   * Gets a list of packages compatible with the given mime type\n   * @param {string} mimeType MIME Type\n   * @see PackageManager#getPackages\n   * @return {PackageMetadata[]}\n   */\n  getCompatiblePackages(mimeType) {\n    return this.getPackages(meta => {\n      if (meta.mimes) {\n        return !!meta.mimes.find(mime => {\n          try {\n            const re = new RegExp(mime);\n            return re.test(mimeType);\n          } catch (e) {\n            logger.warn('Compability check failed', e);\n          }\n\n          return mime === mimeType;\n        });\n      }\n\n      return false;\n    });\n  }\n\n  /**\n   * Gets a list of running packages\n   * @return {string[]}\n   */\n  running() {\n    return this._running;\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport logger from './logger';\nimport defaultIcon from './styles/logo-blue-32x32.png';\n\n/**\n * Tray Icon Data\n * @typedef {Object} TrayEntryData\n * @property {string} [key] Used as internal index for tray entry\n * @property {string} [icon] Icon source\n * @property {string} [title] The title and tooltip\n * @property {Function} [onclick] The callback function for clicks\n * @property {Function} [oncontextmenu] The callback function for contextmenu\n */\n\n/**\n * Tray Icon Entry\n * @typedef {Object} TrayEntry\n * @property {TrayEntryData} entry The given entry data\n * @property {Function} update Updates entry with given data\n * @property {Function} destroy Destroy the entry\n */\n\n/**\n * Tray Handler\n */\nexport default class Tray {\n\n  /**\n   * Creates the Tray Handler\n   *\n   * @param {Core} core Core reference\n   */\n  constructor(core) {\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * All Tray entries\n     * @type {TrayEntry[]}\n     */\n    this.entries = [];\n  }\n\n  /**\n   * Destroys instance\n   */\n  destroy() {\n    this.entries = [];\n  }\n\n  /**\n   * Creates a new Tray entry\n   * @param {TrayEntryData} options Options\n   * @param {Function} [handler] The callback function for all events\n   * @return {TrayEntry}\n   */\n  create(options, handler) {\n    const defaultTitle = this.core.make('osjs/locale')\n      .translate('LBL_TRAY');\n\n    handler = handler || (() => {});\n\n    const entry = {\n      key: null,\n      icon: defaultIcon,\n      title: defaultTitle,\n      onclick: handler,\n      oncontextmenu: handler,\n      handler,\n      ...options\n    };\n\n    logger.debug('Created new tray entry', entry);\n\n    this.entries.push(entry);\n\n    this.core.emit('osjs/tray:create', entry);\n    this.core.emit('osjs/tray:update', this.entries);\n\n    const obj = {\n      entry,\n      update: u => {\n        Object.keys(u).forEach(k => (entry[k] = u[k]));\n\n        this.core.emit('osjs/tray:update', this.entries);\n      },\n      destroy: () => this.remove(entry)\n    };\n\n    return obj;\n  }\n\n  /**\n   * Removes a Tray entry\n   * @param {TrayEntry} entry The tray entry\n   */\n  remove(entry) {\n    const foundIndex = this.entries.findIndex(e => e === entry);\n    if (foundIndex !== -1) {\n      this.entries.splice(foundIndex, 1);\n\n      this.core.emit('osjs/tray:remove', entry);\n      this.core.emit('osjs/tray:update', this.entries);\n    }\n  }\n\n  /**\n   * @return {TrayEntry[]}\n   */\n  list() {\n    return this.entries;\n  }\n\n  /**\n   * @return {Boolean}\n   */\n  has(key) {\n    return this.entries.findIndex(entry => entry.key === key) !== -1;\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Clipboard Data\n *\n * @typedef {Object} CliboardData\n * @property {string} [type] Optional data type\n * @property {*} data\n */\n\n/**\n * Clipboard Manager\n */\nexport default class Clipboard {\n\n  /**\n   * Create new clipboard\n   */\n  constructor() {\n    /**\n     * @type {CliboardData}\n     */\n    this.clipboard = undefined;\n\n    this.clear();\n  }\n\n  /**\n   * Destroy clipboard\n   */\n  destroy() {\n    this.clear();\n  }\n\n  /**\n   * Clear clipboard\n   */\n  clear() {\n    this.clipboard = {data: undefined, type: undefined};\n  }\n\n  /**\n   * Set clipboard data\n   * @param {*} data Clipboard data. For async data, provide a function that returns a promise\n   * @param {string} [type] Optional type used by applications for identifying content\n   */\n  set(data, type) {\n    this.clipboard = {data, type};\n  }\n\n  /**\n   * Checks if current clipboard data has this type\n   * @param {string|RegExp} type Data type\n   * @return {boolean}\n   */\n  has(type) {\n    if (type instanceof RegExp) {\n      return typeof this.clipboard.type === 'string' &&\n        !!this.clipboard.type.match(type);\n    }\n    return this.clipboard.type === type;\n  }\n\n  /**\n   * Gets clipboard data\n   * @param {boolean} [clear=false] Clear clipboard\n   * @return {Promise<*>}\n   */\n  get(clear = false) {\n    const {data} = this.clipboard;\n    const result = typeof data === 'function'\n      ? data()\n      : data;\n\n    if (clear) {\n      this.clear();\n    }\n\n    return Promise.resolve(result);\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nexport const en_EN = {\n  // Core\n  ERR_REQUEST_STANDALONE: 'Cannot make requests in standalone mode.',\n  ERR_REQUEST_NOT_OK: 'An error occured while performing a request: {0}',\n  ERR_VFS_MOUNT_NOT_FOUND: 'Filesystem \\'{0}\\' not found',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: 'Filesystem not found for \\'{0}\\'',\n  ERR_VFS_MOUNT_NOT_MOUNTED: 'Filesystem \\'{0}\\' not mounted',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: 'Filesystem \\'{0}\\' already mounted',\n  ERR_VFS_PATH_FORMAT_INVALID: 'Given path \\'{0}\\' does not match \\'name:/path\\'',\n  ERR_PACKAGE_PERMISSION_DENIED: 'You are not permitted to run \\'{0}\\'',\n  ERR_PACKAGE_NOT_FOUND: 'Package Metadata \\'{0}\\' not found',\n  ERR_PACKAGE_LOAD: 'Package Loading \\'{0}\\' failed: {1}',\n  ERR_PACKAGE_NO_RUNTIME: 'Package Runtime \\'{0}\\' not found',\n  ERR_PACKAGE_NO_METADATA: 'Metadata not found for \\'{0}\\'. Is it in the manifest?',\n  ERR_PACKAGE_EXCEPTION: 'An exception occured in \\'{0}\\'',\n  ERR_WINDOW_ID_EXISTS: 'Window with ID \\'{0}\\' already exists',\n  ERR_INVALID_LOCALE: 'Invalid locale \\'{0}\\'',\n  LBL_CONNECTION_LOST: 'Connection Lost',\n  LBL_CONNECTION_LOST_MESSAGE: 'The connection to the OS.js was lost. Reconnecting....',\n  LBL_CONNECTION_RESTORED: 'Connection Restored',\n  LBL_CONNECTION_RESTORED_MESSAGE: 'The connection to the OS.js server was restored.',\n  LBL_CONNECTION_FAILED: 'Connection Failed',\n  LBL_CONNECTION_FAILED_MESSAGE: 'The connection to the OS.js could not be established. Some features might not work properly.',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: 'Development',\n  LBL_APP_CAT_SCIENCE: 'Science',\n  LBL_APP_CAT_GAMES: 'Games',\n  LBL_APP_CAT_GRAPHICS: 'Graphics',\n  LBL_APP_CAT_NETWORK: 'Network',\n  LBL_APP_CAT_MULTIMEDIA: 'Multimedia',\n  LBL_APP_CAT_OFFICE: 'Office',\n  LBL_APP_CAT_SYSTEM: 'System',\n  LBL_APP_CAT_UTILITIES: 'Utilities',\n  LBL_APP_CAT_OTHER: 'Other',\n\n  // UI\n  LBL_LAUNCH_SELECT: 'Select application',\n  LBL_LAUNCH_SELECT_MESSAGE: 'Select application for \\'{0}\\'',\n  LBL_DESKTOP_SELECT_WALLPAPER: 'Select wallpaper',\n  LBL_DESKTOP_SELECT_THEME: 'Select theme',\n  LBL_SEARCH_TOOLTOP: 'Search Filesystem ({0})',\n  LBL_SEARCH_PLACEHOLDER: 'Search filesystems...',\n  LBL_SEARCH_WAIT: 'Searching...',\n  LBL_SEARCH_RESULT: 'Showing {0} results',\n  LBL_DESKTOP_SET_AS_WALLPAPER: 'Set as wallpaper',\n\n  // FS\n  LBL_FS_B: 'B',\n  LBL_FS_M: 'M',\n  LBL_FS_G: 'G',\n  LBL_FS_KIB: 'KiB',\n  LBL_FS_MIB: 'MiB',\n  LBL_FS_GIB: 'GiB',\n\n  // Generic\n  LBL_TOP: 'Top',\n  LBL_LEFT: 'Left',\n  LBL_RIGHT: 'Right',\n  LBL_BOTTOM: 'Bottom',\n  LBL_MENU: 'Menu',\n  LBL_ERROR: 'Error',\n  LBL_INFO: 'Info',\n  LBL_MESSAGE: 'Message',\n  LBL_WARNINIG: 'Warning',\n  LBL_SUCCESS: 'Success',\n  LBL_FAILURE: 'Failure',\n  LBL_WINDOW: 'Window',\n  LBL_WINDOWS: 'Windows',\n  LBL_NOTIFICATION: 'Notification',\n  LBL_NOTIFICATIONS: 'Notifications',\n  LBL_TRAY: 'Tray Entry',\n  LBL_NAME: 'Name',\n  LBL_TYPE: 'Type',\n  LBL_SIZE: 'Size',\n  LBL_FILE: 'File',\n  LBL_NEW: 'New',\n  LBL_OPEN: 'Open',\n  LBL_OPEN_WITH: 'Open with...',\n  LBL_SAVE: 'Save',\n  LBL_SAVEAS: 'Save As',\n  LBL_OK: 'OK',\n  LBL_ABORT: 'Abort',\n  LBL_CANCEL: 'Cancel',\n  LBL_CLOSE: 'Close',\n  LBL_QUIT: 'Quit',\n  LBL_YES: 'Yes',\n  LBL_NO: 'No',\n  LBL_GO: 'Go',\n  LBL_MKDIR: 'Create new directory',\n  LBL_MKFILE: 'Create new file',\n  LBL_COPY: 'Copy',\n  LBL_PASTE: 'Paste',\n  LBL_CUT: 'Cut',\n  LBL_MOVE: 'Move',\n  LBL_RENAME: 'Rename',\n  LBL_DELETE: 'Delete',\n  LBL_DOWNLOAD: 'Download',\n  LBL_REFRESH: 'Refresh',\n  LBL_RELOAD: 'Reload',\n  LBL_HOME: 'Home',\n  LBL_VIEW: 'View',\n  LBL_HELP: 'Help',\n  LBL_ABOUT: 'About',\n  LBL_APPLICATION: 'Application',\n  LBL_APPLICATIONS: 'Applications',\n  LBL_KILL: 'Kill',\n  LBL_KILL_ALL: 'Kill all',\n  LBL_MINIMIZE: 'Minimize',\n  LBL_MAXIMIZE: 'Maximize',\n  LBL_RESTORE: 'Restore',\n  LBL_RAISE: 'Raise',\n  LBL_SHADE: 'Shade',\n  LBL_UNSHADE: 'Unshade',\n  LBL_ONTOP: 'On top',\n  LBL_RESIZE: 'Resize',\n  LBL_BACK: 'Back',\n  LBL_FORWARD: 'Forward',\n  LBL_UPLOAD: 'Upload',\n  LBL_IMAGE: 'Image',\n  LBL_CREATE_SHORTCUT: 'Create shortcut',\n  LBL_REMOVE_SHORTCUT: 'Remove shortcut',\n  LBL_EDIT: 'Edit'\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Julien Gomes Dias <abld@abld.info>\n * @license Simplified BSD License\n */\n\nexport const fr_FR = {\n  // Core\n  ERR_REQUEST_STANDALONE: 'Impossible d\\'effectuer des requtes en mode autonome.',\n  ERR_REQUEST_NOT_OK: 'Une erreur s\\'est produite en excutant une requte : {0}',\n  ERR_VFS_MOUNT_NOT_FOUND: 'Systme de fichier \\'{0}\\' absent',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: 'Systme de fichier pour \\'{0}\\' absent',\n  ERR_VFS_MOUNT_NOT_MOUNTED: 'Le systme de fichier \\'{0}\\' n\\'est pas encore mont',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: 'Le systme de fichier \\'{0}\\' est dj mont',\n  ERR_VFS_PATH_FORMAT_INVALID: 'Le dossier \\'{0}\\' ne correspond pas \\'name:/path\\'',\n  ERR_PACKAGE_NOT_FOUND: 'Les mtadonnes du paquet \\'{0}\\' n\\'ont pas t touves',\n  ERR_PACKAGE_LOAD: 'Le chargement du paquet \\'{0}\\' a chou: {1}',\n  ERR_PACKAGE_NO_RUNTIME: 'Dure d\\'excution du paquet \\'{0}\\' absente',\n  ERR_PACKAGE_NO_METADATA: 'Mtadonnes absentes pour \\'{0}\\'. Sont-elles dans le manifeste ?',\n  ERR_PACKAGE_EXCEPTION: 'Une exception s\\'est produite dans \\'{0}\\'',\n  ERR_WINDOW_ID_EXISTS: 'La fntre avec l\\'identifiant \\'{0}\\' existe dj',\n  ERR_INVALID_LOCALE: 'Paramtre de langue invalide \\'{0}\\'',\n  LBL_CONNECTION_LOST: 'Connexion perdue',\n  LBL_CONNECTION_LOST_MESSAGE: 'La connexion  OS.js a t perdue. Reconnexion...',\n  LBL_CONNECTION_RESTORED: 'Connexion restaure',\n  LBL_CONNECTION_RESTORED_MESSAGE: 'La connexion  OS.js a t restaure.',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: 'Dveloppement',\n  LBL_APP_CAT_SCIENCE: 'Science',\n  LBL_APP_CAT_GAMES: 'Jeux',\n  LBL_APP_CAT_GRAPHICS: 'Graphisme',\n  LBL_APP_CAT_NETWORK: 'Rseau',\n  LBL_APP_CAT_MULTIMEDIA: 'Multimdia',\n  LBL_APP_CAT_OFFICE: 'Bureautique',\n  LBL_APP_CAT_SYSTEM: 'Systme',\n  LBL_APP_CAT_UTILITIES: 'Utilitaires',\n  LBL_APP_CAT_OTHER: 'Autre',\n\n  // UI\n  LBL_LAUNCH_SELECT: 'Slectionner l\\'application',\n  LBL_LAUNCH_SELECT_MESSAGE: 'Slectionner l\\'application pour \\'{0}\\'',\n  LBL_DESKTOP_SELECT_WALLPAPER: 'Slectionner le fond d\\'cran',\n  LBL_DESKTOP_SELECT_THEME: 'Slectionner le thme',\n  LBL_SEARCH_TOOLTOP: 'Recherche d\\'un systme de fichier ({0})',\n  LBL_SEARCH_PLACEHOLDER: 'Recherche des systmes de fichiers...',\n  LBL_SEARCH_WAIT: 'Recherche...',\n  LBL_SEARCH_RESULT: 'Affichage des rsultats {0}',\n\n  // FS\n  LBL_FS_B: 'B',\n  LBL_FS_M: 'M',\n  LBL_FS_G: 'G',\n  LBL_FS_KIB: 'KiB',\n  LBL_FS_MIB: 'MiB',\n  LBL_FS_GIB: 'GiB',\n\n  // Generic\n  LBL_TOP: 'En Haut',\n  LBL_LEFT: ' Gauche',\n  LBL_RIGHT: ' Droite',\n  LBL_BOTTOM: 'En Bas',\n  LBL_MENU: 'Menu',\n  LBL_ERROR: 'Erreur',\n  LBL_INFO: 'Info',\n  LBL_MESSAGE: 'Message',\n  LBL_WARNINIG: 'Attention',\n  LBL_SUCCESS: 'Succs',\n  LBL_FAILURE: 'chec',\n  LBL_WINDOW: 'Fentre',\n  LBL_WINDOWS: 'Fentres',\n  LBL_NOTIFICATION: 'Notification',\n  LBL_NOTIFICATIONS: 'Notifications',\n  LBL_TRAY: 'Accs au plateau',\n  LBL_NAME: 'Nom',\n  LBL_TYPE: 'Type',\n  LBL_SIZE: 'Taille',\n  LBL_FILE: 'Fichier',\n  LBL_NEW: 'Nouveau',\n  LBL_OPEN: 'Ouvrir',\n  LBL_SAVE: 'Sauvegarder',\n  LBL_SAVEAS: 'Sauvegarder comme',\n  LBL_OK: 'OK',\n  LBL_ABORT: 'Abandonner',\n  LBL_CANCEL: 'Annuler',\n  LBL_CLOSE: 'Fermer',\n  LBL_QUIT: 'Quitter',\n  LBL_YES: 'Oui',\n  LBL_NO: 'Non',\n  LBL_GO: 'C\\'est parti !',\n  LBL_MKDIR: 'Crer nouveau dossier',\n  LBL_MKFILE: 'Crer nouveau fichier',\n  LBL_COPY: 'Copier',\n  LBL_PASTE: 'Coller',\n  LBL_CUT: 'Couper',\n  LBL_MOVE: 'Dplacer',\n  LBL_RENAME: 'Renommer',\n  LBL_DELETE: 'Supprimer',\n  LBL_DOWNLOAD: 'Tlcharger',\n  LBL_REFRESH: 'Rafrachir',\n  LBL_RELOAD: 'Recharger',\n  LBL_HOME: 'Accueil',\n  LBL_VIEW: 'Aperu',\n  LBL_HELP: 'Aide',\n  LBL_ABOUT: ' propos',\n  LBL_APPLICATION: 'Application',\n  LBL_APPLICATIONS: 'Applications',\n  LBL_KILL: 'Tuer',\n  LBL_KILL_ALL: 'Tuer tout'\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nexport const nb_NO = {\n  // Core\n  ERR_REQUEST_STANDALONE: 'Kan ikke gjre sprringer i standalone modus.',\n  ERR_REQUEST_NOT_OK: 'En feil oppstod under sprring: {0}',\n  ERR_VFS_MOUNT_NOT_FOUND: 'Filsystem \\'{0}\\' ikke funnet',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: 'Filsystem ikke funnet for \\'{0}\\'',\n  ERR_VFS_MOUNT_NOT_MOUNTED: 'Filsystem \\'{0}\\' ikke montert',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: 'Filesystem \\'{0}\\' allerede montert',\n  ERR_VFS_PATH_FORMAT_INVALID: 'Angitt sti \\'{0}\\' tilfredstiller ikke format \\'name:/path\\'',\n  ERR_PACKAGE_NOT_FOUND: 'Pakke Metadata \\'{0}\\' ikke funnet',\n  ERR_PACKAGE_LOAD: 'Pakke Lasting \\'{0}\\' feilet: {1}',\n  ERR_PACKAGE_NO_RUNTIME: 'Pakke Runtime \\'{0}\\' ikke funnet',\n  ERR_PACKAGE_NO_METADATA: 'Metadata ikke funnet for \\'{0}\\'. Er den i manifestet?',\n  ERR_PACKAGE_EXCEPTION: 'En unntaksfeil oppstod i \\'{0}\\'',\n  ERR_WINDOW_ID_EXISTS: 'Vindu med ID \\'{0}\\' eksisterer allerede',\n  ERR_INVALID_LOCALE: 'Ugyldig lokalisering \\'{0}\\'',\n  LBL_CONNECTION_LOST: 'Tilkobling tapt',\n  LBL_CONNECTION_LOST_MESSAGE: 'Tilkobling til OS.js var tapt. Kobler til p nytt....',\n  LBL_CONNECTION_RESTORED: 'Tilkobling gjenopprettet',\n  LBL_CONNECTION_RESTORED_MESSAGE: 'Tilkobling til OS.js var gjenopprettet.',\n  LBL_CONNECTION_FAILED: 'Tilkobling feilet',\n  LBL_CONNECTION_FAILED_MESSAGE: 'Tilkobling til OS.js var ikke vellykket. Noen egenskaper er utilgjenglig.',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: 'Utvikling',\n  LBL_APP_CAT_SCIENCE: 'Vitenskap',\n  LBL_APP_CAT_GAMES: 'Spill',\n  LBL_APP_CAT_GRAPHICS: 'Grafikk',\n  LBL_APP_CAT_NETWORK: 'Nettverk',\n  LBL_APP_CAT_MULTIMEDIA: 'Multimedia',\n  LBL_APP_CAT_OFFICE: 'Kontor',\n  LBL_APP_CAT_SYSTEM: 'System',\n  LBL_APP_CAT_UTILITIES: 'Verkty',\n  LBL_APP_CAT_OTHER: 'Andre',\n\n  // UI\n  LBL_LAUNCH_SELECT: 'Velg applikasjon',\n  LBL_LAUNCH_SELECT_MESSAGE: 'Velg applikasjon for \\'{0}\\'',\n  LBL_DESKTOP_SELECT_WALLPAPER: 'Velg bakgrunnsbilde',\n  LBL_DESKTOP_SELECT_THEME: 'Velg tema',\n  LBL_SEARCH_TOOLTOP: 'Sk i filsystemer ({0})',\n  LBL_SEARCH_PLACEHOLDER: 'Sker filsystemer...',\n  LBL_SEARCH_WAIT: 'Sker...',\n  LBL_SEARCH_RESULT: 'Viser {0} resultater',\n  LBL_DESKTOP_SET_AS_WALLPAPER: 'Sett som bakgrunnsbilde',\n\n  // FS\n  LBL_FS_B: 'B',\n  LBL_FS_M: 'M',\n  LBL_FS_G: 'G',\n  LBL_FS_KIB: 'KiB',\n  LBL_FS_MIB: 'MiB',\n  LBL_FS_GIB: 'GiB',\n\n  // Generic\n  LBL_TOP: 'Topp',\n  LBL_LEFT: 'Venstre',\n  LBL_RIGHT: 'Hyre',\n  LBL_BOTTOM: 'Bunn',\n  LBL_MENU: 'Meny',\n  LBL_ERROR: 'Feil',\n  LBL_INFO: 'Info',\n  LBL_MESSAGE: 'Melding',\n  LBL_WARNINIG: 'Advarsel',\n  LBL_SUCCESS: 'Velykket',\n  LBL_FAILURE: 'Svikt',\n  LBL_WINDOW: 'Vindu',\n  LBL_WINDOWS: 'Vinduer',\n  LBL_NOTIFICATION: 'Notifikasjon',\n  LBL_NOTIFICATIONS: 'Notifikasjoner',\n  LBL_TRAY: 'Tray Oppfring',\n  LBL_NAME: 'Navn',\n  LBL_TYPE: 'Type',\n  LBL_SIZE: 'Strrelse',\n  LBL_FILE: 'Fil',\n  LBL_NEW: 'Ny',\n  LBL_OPEN: 'pne',\n  LBL_OPEN_WITH: 'pne med...',\n  LBL_SAVE: 'Lagre',\n  LBL_SAVEAS: 'Lagre Som',\n  LBL_OK: 'OK',\n  LBL_ABORT: 'Abort',\n  LBL_CANCEL: 'Avbryt',\n  LBL_CLOSE: 'Lukk',\n  LBL_QUIT: 'Slutt',\n  LBL_YES: 'Ja',\n  LBL_NO: 'Nei',\n  LBL_GO: 'G',\n  LBL_MKDIR: 'Lag ny mappe',\n  LBL_MKFILE: 'Lag ny fil',\n  LBL_COPY: 'Kopier',\n  LBL_PASTE: 'Lim inn',\n  LBL_CUT: 'Kutt',\n  LBL_MOVE: 'Flytt',\n  LBL_RENAME: 'Navngi',\n  LBL_DELETE: 'Slett',\n  LBL_DOWNLOAD: 'Last ned',\n  LBL_REFRESH: 'Gjenoppfrisk',\n  LBL_RELOAD: 'Last p nytt',\n  LBL_HOME: 'Hjem',\n  LBL_VIEW: 'Visning',\n  LBL_HELP: 'Hjelp',\n  LBL_ABOUT: 'Om',\n  LBL_APPLICATION: 'Applikasjon',\n  LBL_APPLICATIONS: 'Applikasjoner',\n  LBL_KILL: 'Drep',\n  LBL_KILL_ALL: 'Drep alle',\n  LBL_MINIMIZE: 'Minimisr',\n  LBL_MAXIMIZE: 'Maksimisr',\n  LBL_RESTORE: 'Gjenopprett',\n  LBL_RAISE: 'Lft',\n  LBL_SHADE: 'Rull opp',\n  LBL_UNSHADE: 'Rull ned',\n  LBL_ONTOP: 'Alltid verst',\n  LBL_RESIZE: 'Endre strrelse',\n  LBL_BACK: 'Tilbake',\n  LBL_FORWARD: 'Frem',\n  LBL_UPLOAD: 'Last opp',\n  LBL_IMAGE: 'Bilde',\n  LBL_CREATE_SHORTCUT: 'Lag til snarvei',\n  LBL_REMOVE_SHORTCUT: 'Fjern snarvei',\n  LBL_EDIT: 'Rediger'\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Filip  <projects@filips.com>\n * @license Simplified BSD License\n */\n\nexport const sl_SI = {\n  // Core\n  ERR_REQUEST_STANDALONE: 'Zahteve v samostojnem nainu niso mogoe.',\n  ERR_REQUEST_NOT_OK: 'Pri zahtevi je prilo do napake: {0}',\n  ERR_VFS_MOUNT_NOT_FOUND: 'Datoteni sistem \\'{0}\\' ni najden',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: 'Datoteni sistem ni najden \\'{0}\\'',\n  ERR_VFS_MOUNT_NOT_MOUNTED: 'Datoteni sistem \\'{0}\\' ni nameen',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: 'Datoteni sistem \\'{0}\\' e nameen',\n  ERR_VFS_PATH_FORMAT_INVALID: 'Podana pot \\'{0}\\' se ne ujema z \\'name:/path\\'',\n  ERR_PACKAGE_NOT_FOUND: 'Metapodatki paketa \\'{0}\\' niso najdeni',\n  ERR_PACKAGE_LOAD: 'Pri nalaganju pageta \\'{0}\\' je prilo do napake: {1}',\n  ERR_PACKAGE_NO_RUNTIME: 'Koda paketa \\'{0}\\' ni najdena',\n  ERR_PACKAGE_NO_METADATA: 'Metapodatki \\'{0}\\' niso najdeni. Ali so v datoteki manifest?',\n  ERR_PACKAGE_EXCEPTION: 'Sproena je bila izjema v \\'{0}\\'',\n  ERR_WINDOW_ID_EXISTS: 'Okno z ID-jem \\'{0}\\' e obstaja',\n  ERR_INVALID_LOCALE: 'Neveljaven prevod \\'{0}\\'',\n  LBL_CONNECTION_LOST: 'Izguba povezave',\n  LBL_CONNECTION_LOST_MESSAGE: 'Povezava do strenika je bila izgubljena. Ponovno povezovanje ...',\n  LBL_CONNECTION_RESTORED: 'Vzpostavitev povezave',\n  LBL_CONNECTION_RESTORED_MESSAGE: 'Povezava do strenika je bila ponovno vzpostavljena.',\n  LBL_CONNECTION_FAILED: 'Povezava ni uspela',\n  LBL_CONNECTION_FAILED_MESSAGE: 'Povezave z OS.js ni bilo mogoe vzpostaviti. Nekatere funkcije morda ne bodo delovale pravilno.',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: 'Razvoj',\n  LBL_APP_CAT_SCIENCE: 'Znanost',\n  LBL_APP_CAT_GAMES: 'Igre',\n  LBL_APP_CAT_GRAPHICS: 'Grafika',\n  LBL_APP_CAT_NETWORK: 'Omreje',\n  LBL_APP_CAT_MULTIMEDIA: 'Multimedija',\n  LBL_APP_CAT_OFFICE: 'Pisarna',\n  LBL_APP_CAT_SYSTEM: 'Sistem',\n  LBL_APP_CAT_UTILITIES: 'Orodja',\n  LBL_APP_CAT_OTHER: 'Drugo',\n\n  // UI\n  LBL_LAUNCH_SELECT: 'Izberite aplikacijo',\n  LBL_LAUNCH_SELECT_MESSAGE: 'Izberite aplikacijo za \\'{0}\\'',\n  LBL_DESKTOP_SELECT_WALLPAPER: 'Izberite ozadje',\n  LBL_DESKTOP_SELECT_THEME: 'Izberite temo',\n  LBL_SEARCH_TOOLTOP: 'Ii datoteni sistem ({0})',\n  LBL_SEARCH_PLACEHOLDER: 'Iskanje po datotenih sistemih ...',\n  LBL_SEARCH_WAIT: 'Iskanje ...',\n  LBL_SEARCH_RESULT: 'Prikaz {0} rezultatov',\n\n  // FS\n  LBL_FS_B: 'B',\n  LBL_FS_M: 'M',\n  LBL_FS_G: 'G',\n  LBL_FS_KIB: 'KiB',\n  LBL_FS_MIB: 'MiB',\n  LBL_FS_GIB: 'GiB',\n\n  // Generic\n  LBL_TOP: 'Zgoraj',\n  LBL_LEFT: 'Levo',\n  LBL_RIGHT: 'Desno',\n  LBL_BOTTOM: 'Spodaj',\n  LBL_MENU: 'Meni',\n  LBL_ERROR: 'Napaka',\n  LBL_INFO: 'Informacije',\n  LBL_MESSAGE: 'Sporoilo',\n  LBL_WARNINIG: 'Opozorilo',\n  LBL_SUCCESS: 'Uspeh',\n  LBL_FAILURE: 'Neuspeh',\n  LBL_WINDOW: 'Okno',\n  LBL_WINDOWS: 'Okna',\n  LBL_NOTIFICATION: 'Obvestilo',\n  LBL_NOTIFICATIONS: 'Obvestila',\n  LBL_TRAY: 'Element vrstice',\n  LBL_NAME: 'Ime',\n  LBL_TYPE: 'Vrsta',\n  LBL_SIZE: 'Velikost',\n  LBL_FILE: 'Datoteka',\n  LBL_NEW: 'Novo',\n  LBL_OPEN: 'Odpri',\n  LBL_SAVE: 'Shrani',\n  LBL_SAVEAS: 'Shrani kot',\n  LBL_OK: 'V redu',\n  LBL_ABORT: 'Prekini',\n  LBL_CANCEL: 'Preklii',\n  LBL_CLOSE: 'Zapri',\n  LBL_QUIT: 'Izklopi',\n  LBL_YES: 'Da',\n  LBL_NO: 'Ne',\n  LBL_GO: 'Pojdi',\n  LBL_MKDIR: 'Ustvari novo mapo',\n  LBL_MKFILE: 'Ustvari novo datoteko',\n  LBL_COPY: 'Kopiraj',\n  LBL_PASTE: 'Prilepi',\n  LBL_CUT: 'Izrei',\n  LBL_MOVE: 'Premakni',\n  LBL_RENAME: 'Preimenuj',\n  LBL_DELETE: 'Izbrii',\n  LBL_DOWNLOAD: 'Prenesi',\n  LBL_REFRESH: 'Osvei',\n  LBL_RELOAD: 'Osvei',\n  LBL_HOME: 'Domov',\n  LBL_VIEW: 'Pogled',\n  LBL_HELP: 'Pomo',\n  LBL_ABOUT: 'O programu',\n  LBL_APPLICATION: 'Aplikacija',\n  LBL_APPLICATIONS: 'Aplikacije',\n  LBL_KILL: 'Konaj',\n  LBL_KILL_ALL: 'Konaj vse',\n  LBL_MINIMIZE: 'Pomanjaj',\n  LBL_MAXIMIZE: 'Poveaj',\n  LBL_RESTORE: 'Obnovi',\n  LBL_RAISE: 'Dvigni',\n  LBL_SHADE: 'Zaseni',\n  LBL_UNSHADE: 'Odseni',\n  LBL_ONTOP: 'Na vrhu',\n  LBL_RESIZE: 'Spremeni velikost',\n  LBL_BACK: 'Nazaj',\n  LBL_FORWARD: 'Naprej',\n  LBL_UPLOAD: 'Naloi',\n  LBL_IMAGE: 'Slika'\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Nguyn Anh Khoa <khoaakt@gmail.com>\n * @license Simplified BSD License\n */\n\nexport const vi_VN = {\n  // Core\n  ERR_REQUEST_STANDALONE: 'Khng th gi yu cu  ch  c lp.',\n  ERR_REQUEST_NOT_OK: ' xy ra li khi thc hin yu cu: {0}',\n  ERR_VFS_MOUNT_NOT_FOUND: 'Khng tm thy h thng tp tin \\'{0}\\'',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: 'Khng tm thy h thng tp tin cho \\'{0}\\'',\n  ERR_VFS_MOUNT_NOT_MOUNTED: 'H thng tp tin \\'{0}\\' khng c gn kt',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: 'H thng tp tin \\'{0}\\'  c gn kt',\n  ERR_VFS_PATH_FORMAT_INVALID: 'nh dng ng dn \\'{0}\\' khng khp vi \\'name:/path\\'',\n  ERR_PACKAGE_NOT_FOUND: 'Khng tm thy siu d liu ca gi \\'{0}\\'',\n  ERR_PACKAGE_LOAD: 'Ti gi \\'{0}\\' tht bi: {1}',\n  ERR_PACKAGE_NO_RUNTIME: 'Khng tm thy Runtime ca gi \\'{0}\\'',\n  ERR_PACKAGE_NO_METADATA: 'Khng tm thy siu d liu cho \\'{0}\\'. Bn c chc n  c bo co trong manifest khng?',\n  ERR_PACKAGE_EXCEPTION: ' xy ra li trong \\'{0}\\'',\n  ERR_WINDOW_ID_EXISTS: 'Ca s vi ID \\'{0}\\'  tn ti',\n  ERR_INVALID_LOCALE: 'Ngn ng khng hp l \\'{0}\\'',\n  LBL_CONNECTION_LOST: 'Mt kt ni',\n  LBL_CONNECTION_LOST_MESSAGE: 'Kt ni vi OS.js  b mt. ang kt ni li....',\n  LBL_CONNECTION_RESTORED: ' khi phc kt ni',\n  LBL_CONNECTION_RESTORED_MESSAGE: 'Kt ni vi my ch OS.js  c khi phc.',\n  LBL_CONNECTION_FAILED: 'Kt ni tht bi',\n  LBL_CONNECTION_FAILED_MESSAGE: 'Khng th kt ni n my ch OS.js. Mt s tnh nng c th khng hot ng n nh.',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: 'Pht trin',\n  LBL_APP_CAT_SCIENCE: 'Khoa hc',\n  LBL_APP_CAT_GAMES: 'Tr chi',\n  LBL_APP_CAT_GRAPHICS: ' ha',\n  LBL_APP_CAT_NETWORK: 'Mng',\n  LBL_APP_CAT_MULTIMEDIA: 'a phng tin',\n  LBL_APP_CAT_OFFICE: 'Vn phng',\n  LBL_APP_CAT_SYSTEM: 'H thng',\n  LBL_APP_CAT_UTILITIES: 'Tin ch',\n  LBL_APP_CAT_OTHER: 'ng dng khc',\n\n  // UI\n  LBL_LAUNCH_SELECT: 'Chn ng dng',\n  LBL_LAUNCH_SELECT_MESSAGE: 'Chn ng dng  m tp tin \\'{0}\\'',\n  LBL_DESKTOP_SELECT_WALLPAPER: 'Thay i hnh nn',\n  LBL_DESKTOP_SELECT_THEME: 'Thay i ch ',\n  LBL_SEARCH_TOOLTOP: 'Tm kim d liu ({0})',\n  LBL_SEARCH_PLACEHOLDER: 'Tm kim...',\n  LBL_SEARCH_WAIT: 'ang tm kim...',\n  LBL_SEARCH_RESULT: 'ang hin th {0} kt qu',\n\n  // FS\n  LBL_FS_B: 'B',\n  LBL_FS_M: 'M',\n  LBL_FS_G: 'G',\n  LBL_FS_KIB: 'KiB',\n  LBL_FS_MIB: 'MiB',\n  LBL_FS_GIB: 'GiB',\n\n  // Generic\n  LBL_TOP: 'Pha trn',\n  LBL_LEFT: 'Tri',\n  LBL_RIGHT: 'Phi',\n  LBL_BOTTOM: 'Pha di',\n  LBL_MENU: 'Menu',\n  LBL_ERROR: 'Li',\n  LBL_INFO: 'Thng tin',\n  LBL_MESSAGE: 'Thng bo',\n  LBL_WARNINIG: 'Cnh bo',\n  LBL_SUCCESS: 'Thnh cng',\n  LBL_FAILURE: 'Tht bi',\n  LBL_WINDOW: 'Ca s',\n  LBL_WINDOWS: 'Cc ca s',\n  LBL_NOTIFICATION: 'Thng bo',\n  LBL_NOTIFICATIONS: 'Cc thng bo',\n  LBL_TRAY: 'Mc khay h thng',\n  LBL_NAME: 'Tn',\n  LBL_TYPE: 'Kiu',\n  LBL_SIZE: 'Kch thc',\n  LBL_FILE: 'Tp tin',\n  LBL_NEW: 'Mi',\n  LBL_OPEN: 'M',\n  LBL_SAVE: 'Lu',\n  LBL_SAVEAS: 'Lu nh',\n  LBL_OK: 'OK',\n  LBL_ABORT: 'Hy thao tc',\n  LBL_CANCEL: 'Hy b',\n  LBL_CLOSE: 'ng',\n  LBL_QUIT: 'Thot',\n  LBL_YES: 'C',\n  LBL_NO: 'Khng',\n  LBL_GO: 'i',\n  LBL_MKDIR: 'To th mc mi',\n  LBL_MKFILE: 'To tp mi',\n  LBL_COPY: 'Sao chp',\n  LBL_PASTE: 'Dn',\n  LBL_CUT: 'Ct',\n  LBL_MOVE: 'Di chuyn',\n  LBL_RENAME: 'i tn',\n  LBL_DELETE: 'Xa',\n  LBL_DOWNLOAD: 'Ti v',\n  LBL_REFRESH: 'Lm mi',\n  LBL_RELOAD: 'Ti li',\n  LBL_HOME: 'Trang ch',\n  LBL_VIEW: 'Xem',\n  LBL_HELP: 'Hng dn',\n  LBL_ABOUT: 'Thng tin',\n  LBL_APPLICATION: 'ng dng',\n  LBL_APPLICATIONS: 'Cc ng dng',\n  LBL_KILL: 'ng',\n  LBL_KILL_ALL: 'ng tt c',\n  LBL_MINIMIZE: 'Thu nh',\n  LBL_MAXIMIZE: 'Ti a',\n  LBL_RESTORE: 'Phc hi',\n  LBL_RAISE: 'Nng ln',\n  LBL_SHADE: 'Lm m',\n  LBL_UNSHADE: 'B lm m',\n  LBL_ONTOP: ' trn cng',\n  LBL_RESIZE: 'Thay i kch thc',\n  LBL_BACK: 'Li',\n  LBL_FORWARD: 'Tin',\n  LBL_UPLOAD: 'Ti ln',\n  LBL_IMAGE: 'nh'\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Julien Gomes Dias <abld@abld.info\n * @license Simplified BSD License\n */\n\nexport const de_DE = {\n  // Core\n  ERR_REQUEST_STANDALONE: 'Cannot make requests in standalone mode.',\n  ERR_REQUEST_NOT_OK: 'An error occured while performing a request: {0}',\n  ERR_VFS_MOUNT_NOT_FOUND: 'Filesystem \\'{0}\\' nicht gefunden',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: 'Filesystem fr \\'{0}\\' nicht gefunden',\n  ERR_VFS_MOUNT_NOT_MOUNTED: 'Filesystem \\'{0}\\' nicht gemountet',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: 'Filesystem \\'{0}\\' schon gemountet',\n  ERR_VFS_PATH_FORMAT_INVALID: 'Given path \\'{0}\\' does not match \\'name:/path\\'',\n  ERR_PACKAGE_NOT_FOUND: 'Paket-Metadaten  \\'{0}\\' nicht gefunden',\n  ERR_PACKAGE_LOAD: 'Paket Laden \\'{0}\\' ist fehlgeschlagen: {1}',\n  ERR_PACKAGE_NO_RUNTIME: 'Paketlaufzeit \\'{0}\\' nicht gefunden',\n  ERR_PACKAGE_NO_METADATA: 'Metadaten fr \\'{0}\\' nicht gefunden. Ist es in der Manifest?',\n  ERR_PACKAGE_EXCEPTION: 'Eine Ausnahme trat in \\'{0}\\' auf.',\n  ERR_WINDOW_ID_EXISTS: 'Fenster mit der ID \\'{0}\\' existiert schon',\n  ERR_INVALID_LOCALE: 'Invalid locale \\'{0}\\'',\n  LBL_CONNECTION_LOST: 'Verbindung unterbrochen',\n  LBL_CONNECTION_LOST_MESSAGE: 'Die Verbindung zu OS.js wurde unterbrochen. Wiederverbinden... ',\n  LBL_CONNECTION_RESTORED: 'Verbindung wiederhergestellt',\n  LBL_CONNECTION_RESTORED_MESSAGE: 'Die Verbindung OS.js server was restored.',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: 'IT-Entwicklung',\n  LBL_APP_CAT_SCIENCE: 'Wissenschaft',\n  LBL_APP_CAT_GAMES: 'Spiels',\n  LBL_APP_CAT_GRAPHICS: 'Grafiken',\n  LBL_APP_CAT_NETWORK: 'Netzwerk',\n  LBL_APP_CAT_MULTIMEDIA: 'Multimedia',\n  LBL_APP_CAT_OFFICE: 'Office',\n  LBL_APP_CAT_SYSTEM: 'System',\n  LBL_APP_CAT_UTILITIES: 'Dienstprogramme',\n  LBL_APP_CAT_OTHER: 'Andere',\n\n  // UI\n  LBL_LAUNCH_SELECT: 'Applikation auswhlen',\n  LBL_LAUNCH_SELECT_MESSAGE: 'Applikation fr \\'{0}\\' auswhlen',\n  LBL_DESKTOP_SELECT_WALLPAPER: 'Wallpaper auswhlen',\n  LBL_DESKTOP_SELECT_THEME: 'Theme auswhlen',\n  LBL_SEARCH_TOOLTOP: 'Dateisysteme ({0}) finden',\n  LBL_SEARCH_PLACEHOLDER: 'Dateisysteme finden...',\n  LBL_SEARCH_WAIT: 'Suche...',\n  LBL_SEARCH_RESULT: 'Anzeige von {0} Ergebnissen',\n\n  // FS\n  LBL_FS_B: 'B',\n  LBL_FS_M: 'M',\n  LBL_FS_G: 'G',\n  LBL_FS_KIB: 'KiB',\n  LBL_FS_MIB: 'MiB',\n  LBL_FS_GIB: 'GiB',\n\n  // Generic\n  LBL_TOP: 'Oben',\n  LBL_LEFT: 'Links',\n  LBL_RIGHT: 'Rechts',\n  LBL_BOTTOM: 'Unten',\n  LBL_MENU: 'Men',\n  LBL_ERROR: 'Error',\n  LBL_INFO: 'Info',\n  LBL_MESSAGE: 'Message',\n  LBL_WARNINIG: 'Warnung',\n  LBL_SUCCESS: 'Success',\n  LBL_FAILURE: 'Failure',\n  LBL_WINDOW: 'Fenster',\n  LBL_WINDOWS: 'Fenster',\n  LBL_NOTIFICATION: 'Benachrichtigung',\n  LBL_NOTIFICATIONS: 'Benachrichtigungen',\n  LBL_TRAY: 'Infobereich-Eintrag',\n  LBL_NAME: 'Name',\n  LBL_TYPE: 'Typ',\n  LBL_SIZE: 'Gre',\n  LBL_FILE: 'Datei',\n  LBL_NEW: 'Neue',\n  LBL_OPEN: 'ffnen',\n  LBL_SAVE: 'Speichern',\n  LBL_SAVEAS: 'Speichern als',\n  LBL_OK: 'OK',\n  LBL_ABORT: 'Abbrechen',\n  LBL_CANCEL: 'Beenden',\n  LBL_CLOSE: 'Schlieen',\n  LBL_QUIT: 'Verlassen',\n  LBL_YES: 'Ja',\n  LBL_NO: 'Nein',\n  LBL_GO: 'Los',\n  LBL_MKDIR: 'Neues Verzeichnis erstellen',\n  LBL_MKFILE: 'Neue Datei erstellen',\n  LBL_COPY: 'Kopieren',\n  LBL_PASTE: 'Einfgen',\n  LBL_CUT: 'Ausschneiden',\n  LBL_MOVE: 'Verschieben',\n  LBL_RENAME: 'Umbenennen',\n  LBL_DELETE: 'Lschen',\n  LBL_DOWNLOAD: 'Herunterladen',\n  LBL_REFRESH: 'Aktualisieren',\n  LBL_RELOAD: 'Neu laden',\n  LBL_HOME: 'Startseite',\n  LBL_VIEW: 'Ansicht',\n  LBL_HELP: 'Hilfe',\n  LBL_ABOUT: 'ber',\n  LBL_APPLICATION: 'Anwendungsprogramme',\n  LBL_APPLICATIONS: 'Anwendungsprogrammen',\n  LBL_KILL: 'Beenden',\n  LBL_KILL_ALL: 'Beenden alle'\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  lijun <lijun_ay@126.com>\n * @license Simplified BSD License\n */\n\nexport const zh_CN = {\n  // Core\n  ERR_REQUEST_STANDALONE: '',\n  ERR_REQUEST_NOT_OK: '{0}',\n  ERR_VFS_MOUNT_NOT_FOUND: ' \\'{0}\\' ',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: '\\'{0}\\'',\n  ERR_VFS_MOUNT_NOT_MOUNTED: ' \\'{0}\\' ',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: ' \\'{0}\\' ',\n  ERR_VFS_PATH_FORMAT_INVALID: '\\'{0}\\'\\'name:/path\\'',\n  ERR_PACKAGE_NOT_FOUND: '\\'{0}\\'',\n  ERR_PACKAGE_LOAD: ' \\'{0}\\'  {1}',\n  ERR_PACKAGE_NO_RUNTIME: ' \\'{0}\\' ',\n  ERR_PACKAGE_NO_METADATA: ' \\'{0}\\' manifest',\n  ERR_PACKAGE_EXCEPTION: '\\'{0}\\'',\n  ERR_WINDOW_ID_EXISTS: 'ID\\'{0}\\'',\n  ERR_INVALID_LOCALE: ' \\'{0}\\'',\n  LBL_CONNECTION_LOST: '',\n  LBL_CONNECTION_LOST_MESSAGE: 'OS.js....',\n  LBL_CONNECTION_RESTORED: '',\n  LBL_CONNECTION_RESTORED_MESSAGE: 'OS.js',\n  LBL_CONNECTION_FAILED: '',\n  LBL_CONNECTION_FAILED_MESSAGE: 'OS.js ',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: '',\n  LBL_APP_CAT_SCIENCE: '',\n  LBL_APP_CAT_GAMES: '',\n  LBL_APP_CAT_GRAPHICS: '',\n  LBL_APP_CAT_NETWORK: '',\n  LBL_APP_CAT_MULTIMEDIA: '',\n  LBL_APP_CAT_OFFICE: '',\n  LBL_APP_CAT_SYSTEM: '',\n  LBL_APP_CAT_UTILITIES: '',\n  LBL_APP_CAT_OTHER: '',\n\n  // UI\n  LBL_LAUNCH_SELECT: '',\n  LBL_LAUNCH_SELECT_MESSAGE: '\\'{0}\\'',\n  LBL_DESKTOP_SELECT_WALLPAPER: '',\n  LBL_DESKTOP_SELECT_THEME: '',\n  LBL_SEARCH_TOOLTOP: ' ({0})',\n  LBL_SEARCH_PLACEHOLDER: '...',\n  LBL_SEARCH_WAIT: '...',\n  LBL_SEARCH_RESULT: '{0}',\n\n  // FS\n  LBL_FS_B: 'B',\n  LBL_FS_M: 'M',\n  LBL_FS_G: 'G',\n  LBL_FS_KIB: 'KB',\n  LBL_FS_MIB: 'MB',\n  LBL_FS_GIB: 'GB',\n\n  // Generic\n  LBL_TOP: '',\n  LBL_LEFT: '',\n  LBL_RIGHT: '',\n  LBL_BOTTOM: '',\n  LBL_MENU: '',\n  LBL_ERROR: '',\n  LBL_INFO: '',\n  LBL_MESSAGE: '',\n  LBL_WARNINIG: '',\n  LBL_SUCCESS: '',\n  LBL_FAILURE: '',\n  LBL_WINDOW: '',\n  LBL_WINDOWS: '',\n  LBL_NOTIFICATION: '',\n  LBL_NOTIFICATIONS: '',\n  LBL_TRAY: '',\n  LBL_NAME: '',\n  LBL_TYPE: '',\n  LBL_SIZE: '',\n  LBL_FILE: '',\n  LBL_NEW: '',\n  LBL_OPEN: '',\n  LBL_SAVE: '',\n  LBL_SAVEAS: '',\n  LBL_OK: '',\n  LBL_ABORT: '',\n  LBL_CANCEL: '',\n  LBL_CLOSE: '',\n  LBL_QUIT: '',\n  LBL_YES: '',\n  LBL_NO: '',\n  LBL_GO: '',\n  LBL_MKDIR: '',\n  LBL_MKFILE: '',\n  LBL_COPY: '',\n  LBL_PASTE: '',\n  LBL_CUT: '',\n  LBL_MOVE: '',\n  LBL_RENAME: '',\n  LBL_DELETE: '',\n  LBL_DOWNLOAD: '',\n  LBL_REFRESH: '',\n  LBL_RELOAD: '',\n  LBL_HOME: '',\n  LBL_VIEW: '',\n  LBL_HELP: '',\n  LBL_ABOUT: '',\n  LBL_APPLICATION: '',\n  LBL_APPLICATIONS: '',\n  LBL_KILL: '',\n  LBL_KILL_ALL: '',\n  LBL_MINIMIZE: '',\n  LBL_MAXIMIZE: '',\n  LBL_RESTORE: '',\n  LBL_RAISE: '',\n  LBL_SHADE: '',\n  LBL_UNSHADE: '',\n  LBL_ONTOP: '',\n  LBL_RESIZE: '',\n  LBL_BACK: '',\n  LBL_FORWARD: '',\n  LBL_UPLOAD: '',\n  LBL_IMAGE: ''\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n *\n * @author  Morteza Javan <javan.it@gmail.com>\n * @license Simplified BSD License\n */\n\nexport const fa_FA = {\n  // Core\n  ERR_REQUEST_STANDALONE: '       .',\n  ERR_REQUEST_NOT_OK: '       : {0}',\n  ERR_VFS_MOUNT_NOT_FOUND: '  \\'{0}\\'  ',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: '   \\'{0}\\'  ',\n  ERR_VFS_MOUNT_NOT_MOUNTED: '  \\'{0}\\'  ',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: '  \\'{0}\\'     ',\n  ERR_VFS_PATH_FORMAT_INVALID: ' \\'{0}\\'     \\'name:/path\\'',\n  ERR_PACKAGE_NOT_FOUND: '  \\'{0}\\'  ',\n  ERR_PACKAGE_LOAD: '  \\'{0}\\'   : {1}',\n  ERR_PACKAGE_NO_RUNTIME: '   \\'{0}\\'  ',\n  ERR_PACKAGE_NO_METADATA: '  \\'{0}\\'  .     ?',\n  ERR_PACKAGE_EXCEPTION: '   \\'{0}\\'',\n  ERR_WINDOW_ID_EXISTS: '   \\'{0}\\'   ',\n  ERR_INVALID_LOCALE: '  \\'{0}\\'',\n  LBL_CONNECTION_LOST: '   ',\n  LBL_CONNECTION_LOST_MESSAGE: '    .    ....',\n  LBL_CONNECTION_RESTORED: '  ',\n  LBL_CONNECTION_RESTORED_MESSAGE: '     .',\n  LBL_CONNECTION_FAILED: '    ',\n  LBL_CONNECTION_FAILED_MESSAGE: '     .',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: '',\n  LBL_APP_CAT_SCIENCE: '',\n  LBL_APP_CAT_GAMES: '',\n  LBL_APP_CAT_GRAPHICS: '',\n  LBL_APP_CAT_NETWORK: '',\n  LBL_APP_CAT_MULTIMEDIA: ' ',\n  LBL_APP_CAT_OFFICE: '',\n  LBL_APP_CAT_SYSTEM: '',\n  LBL_APP_CAT_UTILITIES: '',\n  LBL_APP_CAT_OTHER: '',\n\n  // UI\n  LBL_LAUNCH_SELECT: '  ',\n  LBL_LAUNCH_SELECT_MESSAGE: '    \\'{0}\\'',\n  LBL_DESKTOP_SELECT_WALLPAPER: '  ',\n  LBL_DESKTOP_SELECT_THEME: ' ',\n  LBL_SEARCH_TOOLTOP: '   ({0})',\n  LBL_SEARCH_PLACEHOLDER: '  ...',\n  LBL_SEARCH_WAIT: '  ...',\n  LBL_SEARCH_RESULT: ' {0} ',\n\n  // FS\n  LBL_FS_B: 'B',\n  LBL_FS_M: 'M',\n  LBL_FS_G: 'G',\n  LBL_FS_KIB: '',\n  LBL_FS_MIB: '',\n  LBL_FS_GIB: '',\n\n  // Generic\n  LBL_TOP: '',\n  LBL_LEFT: '',\n  LBL_RIGHT: '',\n  LBL_BOTTOM: '',\n  LBL_MENU: ' ',\n  LBL_ERROR: '',\n  LBL_INFO: '',\n  LBL_MESSAGE: '',\n  LBL_WARNINIG: '',\n  LBL_SUCCESS: '',\n  LBL_FAILURE: '',\n  LBL_WINDOW: '',\n  LBL_WINDOWS: ' ',\n  LBL_NOTIFICATION: '',\n  LBL_NOTIFICATIONS: ' ',\n  LBL_TRAY: ' ',\n  LBL_NAME: '',\n  LBL_TYPE: '',\n  LBL_SIZE: '',\n  LBL_FILE: '',\n  LBL_NEW: '',\n  LBL_OPEN: '',\n  LBL_OPEN_WITH: '  ...',\n  LBL_SAVE: '',\n  LBL_SAVEAS: ' ',\n  LBL_OK: '',\n  LBL_ABORT: '',\n  LBL_CANCEL: '',\n  LBL_CLOSE: '',\n  LBL_QUIT: '',\n  LBL_YES: '',\n  LBL_NO: '',\n  LBL_GO: '',\n  LBL_MKDIR: '  ',\n  LBL_MKFILE: '  ',\n  LBL_COPY: '',\n  LBL_PASTE: '',\n  LBL_CUT: '',\n  LBL_MOVE: '',\n  LBL_RENAME: '',\n  LBL_DELETE: '',\n  LBL_DOWNLOAD: '',\n  LBL_REFRESH: '',\n  LBL_RELOAD: ' ',\n  LBL_HOME: '',\n  LBL_VIEW: '',\n  LBL_HELP: '',\n  LBL_ABOUT: '',\n  LBL_APPLICATION: ' ',\n  LBL_APPLICATIONS: '  ',\n  LBL_KILL: '  ',\n  LBL_KILL_ALL: '   ',\n  LBL_MINIMIZE: '',\n  LBL_MAXIMIZE: '',\n  LBL_RESTORE: '',\n  LBL_RAISE: '',\n  LBL_SHADE: ' ',\n  LBL_UNSHADE: ' ',\n  LBL_ONTOP: ' ',\n  LBL_RESIZE: '',\n  LBL_BACK: '',\n  LBL_FORWARD: '',\n  LBL_UPLOAD: '',\n  LBL_IMAGE: '',\n  LBL_CREATE_SHORTCUT: ' ',\n  LBL_REMOVE_SHORTCUT: ' ',\n  LBL_EDIT: ''\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Matheus Felipe <matheusfelipeog@gmail.com>\n * @license Simplified BSD License\n */\n\nexport const pt_BR = {\n  // Core\n  ERR_REQUEST_STANDALONE: 'No  possvel fazer solicitaes autnomas.',\n  ERR_REQUEST_NOT_OK: 'Ocorreu um erro ao executar a solicitao: {0}',\n  ERR_VFS_MOUNT_NOT_FOUND: 'Sistema de arquivo \\'{0}\\' no encontrado',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: 'Sistema de arquivo no encontrado para \\'{0}\\'',\n  ERR_VFS_MOUNT_NOT_MOUNTED: 'Sistema de arquivo \\'{0}\\' no montado',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: 'Sistema de arquivo \\'{0}\\' j montado',\n  ERR_VFS_PATH_FORMAT_INVALID: 'O caminho especificado \\'{0}\\' no corresponde \\'name:/path\\'',\n  ERR_PACKAGE_NOT_FOUND: 'Metadados do pacote \\'{0}\\' no encontrados',\n  ERR_PACKAGE_LOAD: 'Carregamento do pacote \\'{0}\\' falhou: {1}',\n  ERR_PACKAGE_NO_RUNTIME: 'Tempo de execuo do pacote \\'{0}\\' no encontrado',\n  ERR_PACKAGE_NO_METADATA: 'Metadados no encontrado para \\'{0}\\'. Est no manifesto?',\n  ERR_PACKAGE_EXCEPTION: 'Ocorreu uma exceo em \\'{0}\\'',\n  ERR_WINDOW_ID_EXISTS: 'Janela com ID \\'{0}\\' J existe',\n  ERR_INVALID_LOCALE: 'Cdigo de idioma invlido \\'{0}\\'',\n  LBL_CONNECTION_LOST: 'Conexo perdida',\n  LBL_CONNECTION_LOST_MESSAGE: 'A conexo com OS.js foi perdida. Reconectando....',\n  LBL_CONNECTION_RESTORED: 'Conexo restaurada',\n  LBL_CONNECTION_RESTORED_MESSAGE: 'A conexo com o servidor OS.js foi restaurada.',\n  LBL_CONNECTION_FAILED: 'Falha na conexo',\n  LBL_CONNECTION_FAILED_MESSAGE: 'A conexo com OS.js no pode ser estabelecida. Alguns recursos podem no funcionar corretamente.',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: 'Desenvolvimento',\n  LBL_APP_CAT_SCIENCE: 'Cincia',\n  LBL_APP_CAT_GAMES: 'Jogos',\n  LBL_APP_CAT_GRAPHICS: 'Grfico',\n  LBL_APP_CAT_NETWORK: 'Rede',\n  LBL_APP_CAT_MULTIMEDIA: 'Multimedia',\n  LBL_APP_CAT_OFFICE: 'Escritrio',\n  LBL_APP_CAT_SYSTEM: 'Sistema',\n  LBL_APP_CAT_UTILITIES: 'Utilidades',\n  LBL_APP_CAT_OTHER: 'Outros',\n\n  // UI\n  LBL_LAUNCH_SELECT: 'Selecionar aplicativo',\n  LBL_LAUNCH_SELECT_MESSAGE: 'Selecionar aplicativo para \\'{0}\\'',\n  LBL_DESKTOP_SELECT_WALLPAPER: 'Selecionar papel de parede',\n  LBL_DESKTOP_SELECT_THEME: 'Selecionar tema',\n  LBL_SEARCH_TOOLTOP: 'Pesquisar no sistema de arquivos ({0})',\n  LBL_SEARCH_PLACEHOLDER: 'Pesquisar...',\n  LBL_SEARCH_WAIT: 'Buscando...',\n  LBL_SEARCH_RESULT: 'Mostrando {0} resultados',\n\n  // FS\n  LBL_FS_B: 'B',\n  LBL_FS_M: 'M',\n  LBL_FS_G: 'G',\n  LBL_FS_KIB: 'KiB',\n  LBL_FS_MIB: 'MiB',\n  LBL_FS_GIB: 'GiB',\n\n  // Generic\n  LBL_TOP: 'Topo',\n  LBL_LEFT: 'Esquerda',\n  LBL_RIGHT: 'Direita',\n  LBL_BOTTOM: 'Inferior',\n  LBL_MENU: 'Menu',\n  LBL_ERROR: 'Erro',\n  LBL_INFO: 'Informao',\n  LBL_MESSAGE: 'Mensagem',\n  LBL_WARNINIG: 'Ateno',\n  LBL_SUCCESS: 'Sucesso',\n  LBL_FAILURE: 'Falha',\n  LBL_WINDOW: 'Janela',\n  LBL_WINDOWS: 'Janelas',\n  LBL_NOTIFICATION: 'Notificao',\n  LBL_NOTIFICATIONS: 'Notificaes',\n  LBL_TRAY: 'Entrada',\n  LBL_NAME: 'Nome',\n  LBL_TYPE: 'Tipo',\n  LBL_SIZE: 'Tamanho',\n  LBL_FILE: 'Arquivo',\n  LBL_NEW: 'Novo',\n  LBL_OPEN: 'Abrir',\n  LBL_OPEN_WITH: 'Abrir com...',\n  LBL_SAVE: 'Salvar',\n  LBL_SAVEAS: 'Salvar como',\n  LBL_OK: 'OK',\n  LBL_ABORT: 'Abortar',\n  LBL_CANCEL: 'Cancelar',\n  LBL_CLOSE: 'Fechar',\n  LBL_QUIT: 'Sair',\n  LBL_YES: 'Sim',\n  LBL_NO: 'No',\n  LBL_GO: 'Ir',\n  LBL_MKDIR: 'Criar novo diretrio',\n  LBL_MKFILE: 'Criar novo arquivo',\n  LBL_COPY: 'Copiar',\n  LBL_PASTE: 'Colar',\n  LBL_CUT: 'Recortar',\n  LBL_MOVE: 'Mover',\n  LBL_RENAME: 'Renomear',\n  LBL_DELETE: 'Deletar',\n  LBL_DOWNLOAD: 'Download',\n  LBL_REFRESH: 'Atualizar',\n  LBL_RELOAD: 'Recarregar',\n  LBL_HOME: 'Home',\n  LBL_VIEW: 'Visualizao',\n  LBL_HELP: 'Ajuda',\n  LBL_ABOUT: 'Sobre',\n  LBL_APPLICATION: 'Aplicativo',\n  LBL_APPLICATIONS: 'Aplicativos',\n  LBL_KILL: 'Finalizar',\n  LBL_KILL_ALL: 'Finalizar tudo',\n  LBL_MINIMIZE: 'Minimizar',\n  LBL_MAXIMIZE: 'Maximizar',\n  LBL_RESTORE: 'Restaurar',\n  LBL_RAISE: 'Levantar',\n  LBL_SHADE: 'Sombra',\n  LBL_UNSHADE: 'Tirar sombra',\n  LBL_ONTOP: 'No topo',\n  LBL_RESIZE: 'Redimensionar',\n  LBL_BACK: 'Voltar',\n  LBL_FORWARD: 'Avanar',\n  LBL_UPLOAD: 'Enviar',\n  LBL_IMAGE: 'Imagem',\n  LBL_CREATE_SHORTCUT: 'Criar atalho',\n  LBL_REMOVE_SHORTCUT: 'Remover atalho',\n  LBL_EDIT: 'Editar'\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nexport const ru_RU = {\n  // Core\n  ERR_REQUEST_STANDALONE: '     .',\n  ERR_REQUEST_NOT_OK: '   : {0}',\n  ERR_VFS_MOUNT_NOT_FOUND: '  \\'{0}\\'  ',\n  ERR_VFS_MOUNT_NOT_FOUND_FOR: '     \\'{0}\\'',\n  ERR_VFS_MOUNT_NOT_MOUNTED: '  \\'{0}\\'  ',\n  ERR_VFS_MOUNT_ALREADY_MOUNTED: '  \\'{0}\\'  ',\n  ERR_VFS_PATH_FORMAT_INVALID: '  \\'{0}\\'    \\':/\\'',\n  ERR_PACKAGE_NOT_FOUND: '  \\'{0}\\'  ',\n  ERR_PACKAGE_LOAD: '   \\'{0}\\': {1}',\n  ERR_PACKAGE_NO_RUNTIME: '  \\'{0}\\'  ',\n  ERR_PACKAGE_NO_METADATA: '    \\'{0}\\'. Is it in the manifest?',\n  ERR_PACKAGE_EXCEPTION: '   \\'{0}\\'',\n  ERR_WINDOW_ID_EXISTS: '  ID \\'{0}\\'  ',\n  ERR_INVALID_LOCALE: '  \\'{0}\\'',\n  LBL_CONNECTION_LOST: ' ',\n  LBL_CONNECTION_LOST_MESSAGE: '  OS.js  . ....',\n  LBL_CONNECTION_RESTORED: ' ',\n  LBL_CONNECTION_RESTORED_MESSAGE: '   OS.js  .',\n  LBL_CONNECTION_FAILED: ' ',\n  LBL_CONNECTION_FAILED_MESSAGE: '  OS.js    .      .',\n\n  // Application categories\n  LBL_APP_CAT_DEVELOPMENT: '',\n  LBL_APP_CAT_SCIENCE: '',\n  LBL_APP_CAT_GAMES: '',\n  LBL_APP_CAT_GRAPHICS: '',\n  LBL_APP_CAT_NETWORK: '',\n  LBL_APP_CAT_MULTIMEDIA: '',\n  LBL_APP_CAT_OFFICE: '',\n  LBL_APP_CAT_SYSTEM: '',\n  LBL_APP_CAT_UTILITIES: '',\n  LBL_APP_CAT_OTHER: '',\n\n  // UI\n  LBL_LAUNCH_SELECT: ' ',\n  LBL_LAUNCH_SELECT_MESSAGE: '  \\'{0}\\'',\n  LBL_DESKTOP_SELECT_WALLPAPER: ' ',\n  LBL_DESKTOP_SELECT_THEME: ' ',\n  LBL_SEARCH_TOOLTOP: '   ({0})',\n  LBL_SEARCH_PLACEHOLDER: '  ...',\n  LBL_SEARCH_WAIT: '...',\n  LBL_SEARCH_RESULT: ' {0} ',\n\n  // FS\n  LBL_FS_B: '',\n  LBL_FS_M: '',\n  LBL_FS_G: '',\n  LBL_FS_KIB: '',\n  LBL_FS_MIB: '',\n  LBL_FS_GIB: '',\n\n  // Generic\n  LBL_TOP: '',\n  LBL_LEFT: '',\n  LBL_RIGHT: '',\n  LBL_BOTTOM: '',\n  LBL_MENU: '',\n  LBL_ERROR: '',\n  LBL_INFO: '',\n  LBL_MESSAGE: '',\n  LBL_WARNINIG: '',\n  LBL_SUCCESS: '',\n  LBL_FAILURE: '',\n  LBL_WINDOW: '',\n  LBL_WINDOWS: '',\n  LBL_NOTIFICATION: '',\n  LBL_NOTIFICATIONS: '',\n  LBL_TRAY: '',\n  LBL_NAME: '',\n  LBL_TYPE: '',\n  LBL_SIZE: '',\n  LBL_FILE: '',\n  LBL_NEW: '',\n  LBL_OPEN: '',\n  LBL_OPEN_WITH: ' ...',\n  LBL_SAVE: '',\n  LBL_SAVEAS: ' ',\n  LBL_OK: '',\n  LBL_ABORT: '',\n  LBL_CANCEL: '',\n  LBL_CLOSE: '',\n  LBL_QUIT: '',\n  LBL_YES: '',\n  LBL_NO: '',\n  LBL_GO: '',\n  LBL_MKDIR: ' ',\n  LBL_MKFILE: ' ',\n  LBL_COPY: '',\n  LBL_PASTE: '',\n  LBL_CUT: '',\n  LBL_MOVE: '',\n  LBL_RENAME: '',\n  LBL_DELETE: '',\n  LBL_DOWNLOAD: '',\n  LBL_REFRESH: '',\n  LBL_RELOAD: '',\n  LBL_HOME: '',\n  LBL_VIEW: '',\n  LBL_HELP: '',\n  LBL_ABOUT: ' ',\n  LBL_APPLICATION: '',\n  LBL_APPLICATIONS: '',\n  LBL_KILL: '',\n  LBL_KILL_ALL: ' ',\n  LBL_MINIMIZE: '',\n  LBL_MAXIMIZE: '',\n  LBL_RESTORE: '',\n  LBL_RAISE: 'Raise',\n  LBL_SHADE: 'Shade',\n  LBL_UNSHADE: 'Unshade',\n  LBL_ONTOP: ' ',\n  LBL_RESIZE: '',\n  LBL_BACK: '',\n  LBL_FORWARD: '',\n  LBL_UPLOAD: '',\n  LBL_IMAGE: '',\n  LBL_CREATE_SHORTCUT: ' ',\n  LBL_REMOVE_SHORTCUT: ' '\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {EventEmitter} from '@osjs/event-emitter';\nimport {basename, pathname} from './utils/vfs';\n\n/**\n * Basic Application Options\n *\n * @typedef {Object} BasicApplicationOptions\n * @property {string[]} [mimeTypes] What MIME types to support (all/fallback)\n * @property {string[]} [loadMimeTypes] What MIME types to support on load\n * @property {string[]} [saveMimeTypes] What MIME types to support on save\n * @property {string} [defaultFilename] Default filename of a new file\n */\n\n/**\n * Basic Application Helper\n *\n * A class for helping creating basic applications with open/load/create functionality.\n * Also sets the internal proc args for sessions.\n */\nexport class BasicApplication extends EventEmitter {\n\n  /**\n   * Basic Application Constructor\n   * @param {Core} core OS.js Core API\n   * @param {Application} proc The application process\n   * @param {Window} win The main application window\n   * @param {BasicApplicationOptions} [options={}] Basic application options\n   */\n  constructor(core, proc, win, options = {}) {\n    super('BasicApplication<' + proc.name + '>');\n\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * Application instance reference\n     * @type {Application}\n     * @readonly\n     */\n    this.proc = proc;\n\n    /**\n     * Window instance reference\n     * @type {Window}\n     * @readonly\n     */\n    this.win = win;\n\n    /**\n     * Basic Application Options\n     * @type {BasicApplicationOptions}\n     * @readonly\n     */\n    this.options = {\n      mimeTypes: proc.metadata.mimes || [],\n      loadMimeTypes: [],\n      saveMimeTypes: [],\n      defaultFilename: 'New File',\n      ...options\n    };\n  }\n\n  /**\n   * Destroys all Basic Application internals\n   */\n  destroy() {\n    this.off();\n    super.destroy();\n  }\n\n  /**\n   * Initializes the application\n   * @return {Promise<boolean>}\n   */\n  init() {\n    if (this.proc.args.file) {\n      this.open(this.proc.args.file);\n    } else {\n      this.create();\n    }\n\n    return Promise.resolve(true);\n  }\n\n  /**\n   * Gets options for a dialog\n   * @param {string} type Dialog type\n   * @return {object}\n   */\n  getDialogOptions(type, options = {}) {\n    const {\n      defaultFilename,\n      mimeTypes,\n      loadMimeTypes,\n      saveMimeTypes\n    } = this.options;\n\n    const currentFile = options.file ? options.file : this.proc.args.file;\n    const defaultPath = this.core.config('vfs.defaultPath');\n    const path = currentFile ? currentFile.path : null;\n\n    let mime = type === 'open' ? loadMimeTypes : saveMimeTypes;\n    if (!mime.length) {\n      mime = mimeTypes;\n    }\n\n    return [{\n      type,\n      mime,\n      filename: path ? basename(path) : defaultFilename,\n      path: path ? pathname(path) : defaultPath\n    }, {\n      parent: this.win,\n      attributes: {\n        modal: true\n      }\n    }];\n  }\n\n  /**\n   * Updates the window title to match open file\n   */\n  updateWindowTitle() {\n    if (this.win) {\n      const {translatableFlat} = this.core.make('osjs/locale');\n      const prefix = translatableFlat(this.proc.metadata.title);\n      const title = this._createTitle(prefix);\n\n      this.win.setTitle(title);\n    }\n  }\n\n  /**\n   * Creates a new dialog of a type\n   * @param {string} type Dialog type\n   * @param {Function} cb Callback\n   * @param {object} [options] Override options\n   */\n  createDialog(type, cb, options = {}) {\n    const [args, opts] = this.getDialogOptions(type, options);\n\n    if (this.core.has('osjs/dialog')) {\n      this.core.make('osjs/dialog', 'file', args, opts, (btn, item) => {\n        if (btn === 'ok') {\n          cb(item);\n        }\n      });\n    }\n  }\n\n  /**\n   * Opens given file\n   *\n   * Does not do any actual VFS operation\n   *\n   * @param {VFSFile} file A file\n   */\n  open(item) {\n    this._setFile(item, 'open-file');\n  }\n\n  /**\n   * Saves given file\n   *\n   * Does not do any actual VFS operation\n   *\n   * @param {VFSFile} file A file\n   */\n  save(item) {\n    this._setFile(item, 'save-file');\n  }\n\n  /**\n   * Create new file\n   *\n   * Does not do any actual VFS operation\n   */\n  create() {\n    this.proc.args.file = null;\n\n    this.emit('new-file');\n\n    this.updateWindowTitle();\n  }\n\n  /**\n   * Create new file\n   * @see BasicApplication#create\n   */\n  createNew() {\n    this.create();\n  }\n\n  /**\n   * Creates a new save dialog\n   * @param {object} [options] Dialog options\n   */\n  createSaveDialog(options = {}) {\n    this.createDialog('save', item => this.save(item), options);\n  }\n\n  /**\n   * Creates a new load dialog\n   * @param {object} [options] Dialog options\n   */\n  createOpenDialog(options = {}) {\n    this.createDialog('open', item => this.open(item), options);\n  }\n\n  /**\n   * Sets file from open/save action\n   *\n   * @private\n   * @param {VFSFile} item File\n   * @param {string} eventName Event to fire\n   */\n  _setFile(item, eventName) {\n    this.proc.args.file = {...item};\n    this.emit(eventName, item);\n    this.updateWindowTitle();\n  }\n\n  /**\n   * Creates the window title\n   *\n   * @private\n   * @param {string} prefix Title prefix\n   * @return {string}\n   */\n  _createTitle(prefix) {\n    const title = this.proc.args.file\n      ? basename(this.proc.args.file.path)\n      : this.options.defaultFilename;\n\n    return title\n      ? `${prefix} - ${title}`\n      : prefix;\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport Application from '../application';\nimport Window from '../window';\nimport WindowBehavior from '../window-behavior';\nimport Session from '../session';\nimport Packages from '../packages';\nimport Tray from '../tray';\nimport Websocket from '../websocket';\nimport Clipboard from '../clipboard';\nimport * as translations from '../locale';\nimport {format, translatable, translatableFlat, getLocale} from '../utils/locale';\nimport {style, script, playSound} from '../utils/dom';\nimport {resourceResolver} from '../utils/desktop';\nimport * as dnd from '../utils/dnd';\nimport {BasicApplication} from '../basic-application.js';\nimport {ServiceProvider} from '@osjs/common';\nimport {EventEmitter} from '@osjs/event-emitter';\nimport logger from '../logger';\nimport merge from 'deepmerge';\n\n/**\n * Core Provider Locale Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderLocaleContract\n * @property {Function} format\n * @property {Function} translate\n * @property {Function} translatable\n * @property {Function} translatableFlat\n * @property {Function} getLocale\n * @property {Function} setLocale\n */\n\n/**\n * Core Provider Window Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderWindowContract\n * @property {Function} create\n * @property {Function} list\n * @property {Function} last\n */\n\n/**\n * Core Provider DnD Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderDnDContract\n * @property {Function} draggable\n * @property {Function} droppable\n */\n\n/**\n * Core Provider Theme Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderDOMContract\n * @property {Function} script\n * @property {Function} style\n */\n\n/**\n * Core Provider Theme Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderThemeContract\n * @property {Function} resource\n * @property {Function} icon\n */\n\n/**\n * Core Provider Sound Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderSoundContract\n * @property {Function} resource\n * @property {Function} play\n */\n\n/**\n * Core Provider Session Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderSessionContract\n * @property {Function} save\n * @property {Function} load\n */\n\n/**\n * Core Provider Packages Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderPackagesContract\n * @property {Function} [launch]\n * @property {Function} [register]\n * @property {Function} [addPackages]\n * @property {Function} [getPackages]\n * @property {Function} [getCompatiblePackages]\n * @property {Function} [running]\n */\n\n/**\n * Core Provider Clipboard Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderClipboardContract\n * @property {Function} [clear]\n * @property {Function} [set]\n * @property {Function} [has]\n * @property {Function} [get]\n */\n\n/**\n * Core Provider Tray Contract\n * TODO: typedef\n * @typedef {Object} CoreProviderTrayContract\n * @property {Function} [create]\n * @property {Function} [remove]\n * @property {Function} [list]\n * @property {Function} [has]\n */\n\n/**\n * Core Provider Options\n * @typedef {Object} CoreProviderOptions\n * @property {Function} [windowBehavior] Custom Window Behavior\n * @property {Object} [locales] Override locales\n */\n\n/**\n * OS.js Core Service Provider\n */\nexport default class CoreServiceProvider extends ServiceProvider {\n\n  /**\n   * @param {Core} core OS.js Core\n   * @param {CoreProviderOptions} [options={}] Arguments\n   */\n  constructor(core, options = {}) {\n    super(core, options);\n\n    /**\n     * @type {Session}\n     * @readonly\n     */\n    this.session = new Session(core);\n\n    /**\n     * @type {Tray}\n     * @readonly\n     */\n    this.tray = new Tray(core);\n\n    /**\n     * @type {Packages}\n     * @readonly\n     */\n    this.pm = new Packages(core);\n\n    /**\n     * @type {Clipboard}\n     * @readonly\n     */\n    this.clipboard = new Clipboard();\n\n    window.OSjs = this.createGlobalApi();\n  }\n\n  /**\n   * Get a list of services this provider registers\n   * @return {string}\n   */\n  provides() {\n    return [\n      'osjs/application',\n      'osjs/basic-application',\n      'osjs/window',\n      'osjs/windows',\n      'osjs/event-handler',\n      'osjs/window-behaviour',\n      'osjs/dnd',\n      'osjs/dom',\n      'osjs/clipboard',\n      'osjs/tray',\n      'osjs/locale',\n      'osjs/packages',\n      'osjs/websocket',\n      'osjs/session',\n      'osjs/theme',\n      'osjs/sounds'\n    ];\n  }\n\n  /**\n   * Destroys provider\n   */\n  destroy() {\n    this.tray.destroy();\n    this.pm.destroy();\n    this.clipboard.destroy();\n    this.session.destroy();\n\n    super.destroy();\n  }\n\n  /**\n   * Initializes provider\n   * @return {Promise<undefined>}\n   */\n  init() {\n    this.registerContracts();\n\n    this.core.on('osjs/core:started', () => {\n      this.session.load();\n    });\n\n    return this.pm.init();\n  }\n\n  /**\n   * Starts provider\n   * @return {Promise<undefined>}\n   */\n  start() {\n    if (this.core.config('development')) {\n      this.core.on('osjs/dist:changed', filename => {\n        this._onDistChanged(filename);\n      });\n\n      this.core.on('osjs/packages:package:changed', name => {\n        this._onPackageChanged(name);\n      });\n    }\n\n    this.core.on('osjs/packages:metadata:changed', () => {\n      this.pm.init();\n    });\n  }\n\n  /**\n   * Registers contracts\n   */\n  registerContracts() {\n    this.core.instance('osjs/window', (options = {}) => new Window(this.core, options));\n    this.core.instance('osjs/application', (data = {}) => new Application(this.core, data));\n    this.core.instance('osjs/basic-application', (proc, win, options = {}) => new BasicApplication(this.core, proc, win, options));\n    this.core.instance('osjs/websocket', (name, uri, options = {}) => new Websocket(name, uri, options));\n    this.core.instance('osjs/event-emitter', name => new EventEmitter(name));\n\n    this.core.singleton('osjs/windows', () => this.createWindowContract());\n    this.core.singleton('osjs/locale', () => this.createLocaleContract());\n    this.core.singleton('osjs/dnd', () => this.createDnDContract());\n    this.core.singleton('osjs/dom', () => this.createDOMContract());\n    this.core.singleton('osjs/theme', () => this.createThemeContract());\n    this.core.singleton('osjs/sounds', () => this.createSoundsContract());\n    this.core.singleton('osjs/session', () => this.createSessionContract());\n    this.core.singleton('osjs/packages', () => this.createPackagesContract());\n    this.core.singleton('osjs/clipboard', () => this.createClipboardContract());\n\n    this.core.instance('osjs/tray', (options, handler) => {\n      if (typeof options !== 'undefined') {\n        // FIXME: Use contract instead\n        logger.warn('osjs/tray usage without .create() is deprecated');\n        return this.tray.create(options, handler);\n      }\n\n      return this.createTrayContract();\n    });\n\n    // FIXME: Remove this from public usage\n    this.core.singleton('osjs/window-behavior', () => typeof this.options.windowBehavior === 'function'\n      ? this.options.windowBehavior(this.core)\n      : new WindowBehavior(this.core));\n\n    // FIXME: deprecated\n    this.core.instance('osjs/event-handler', (...args) => {\n      logger.warn('osjs/event-handler is deprecated, use osjs/event-emitter');\n      return new EventEmitter(...args);\n    });\n  }\n\n  /**\n   * Expose some internals to global\n   */\n  createGlobalApi() {\n    const globalBlacklist = this.core.config('providers.globalBlacklist', []);\n    const globalWhitelist = this.core.config('providers.globalWhitelist', []);\n\n    const make = (name, ...args) => {\n      if (this.core.has(name)) {\n        const blacklisted = globalBlacklist.length > 0 && globalBlacklist.indexOf(name) !== -1;\n        const notWhitelisted = globalWhitelist.length > 0 && globalWhitelist.indexOf(name) === -1;\n\n        if (blacklisted || notWhitelisted) {\n          throw new Error(`The provider '${name}' cannot be used via global scope`);\n        }\n      }\n\n      return this.core.make(name, ...args);\n    };\n\n    return Object.freeze({\n      make,\n      register: (name, callback) => this.pm.register(name, callback),\n      url: (endpoint, options, metadata) => this.core.url(endpoint, options, metadata),\n      run: (name, args = {}, options = {}) => this.core.run(name, args, options),\n      open: (file, options = {}) => this.core.open(file, options),\n      request: (url, options, type) => this.core.request(url, options, type)\n    });\n  }\n\n  /**\n   * Event when dist changes from a build or deployment\n   * @private\n   * @param {string} filename The resource filename\n   */\n  _onDistChanged(filename) {\n    const url = this.core.url(filename).replace(/^\\//, '');\n    const found = this.core.$resourceRoot.querySelectorAll('link[rel=stylesheet]');\n    const map = Array.from(found).reduce((result, item) => {\n      const src = item.getAttribute('href').split('?')[0].replace(/^\\//, '');\n      return {\n        [src]: item,\n        ...result\n      };\n    }, {});\n\n    if (map[url]) {\n      logger.debug('Hot-reloading', url);\n\n      setTimeout(() => {\n        map[url].setAttribute('href', url);\n      }, 100);\n    }\n  }\n\n  /**\n   * Event when package dist changes from a build or deployment\n   * @private\n   * @param {string} name The package name\n   */\n  _onPackageChanged(name) {\n    // TODO: Reload themes as well\n    Application.getApplications()\n      .filter(proc => proc.metadata.name === name)\n      .forEach(proc => proc.relaunch());\n  }\n\n  /**\n   * Provides localization contract\n   * @return {CoreProviderLocaleContract}\n   */\n  createLocaleContract() {\n    const strs = merge(translations, this.options.locales || {});\n    const translate = translatable(this.core)(strs);\n\n    return {\n      format: format(this.core),\n      translate,\n      translatable: translatable(this.core),\n      translatableFlat: translatableFlat(this.core),\n      getLocale: (key = 'language') => {\n        const ref = getLocale(this.core, key);\n        return ref.userLocale || ref.defaultLocale;\n      },\n      setLocale: name => name in strs\n        ? this.core.make('osjs/settings')\n          .set('osjs/locale', 'language', name)\n          .save()\n          .then(() => this.core.emit('osjs/locale:change', name))\n        : Promise.reject(translate('ERR_INVALID_LOCALE', name))\n    };\n  }\n\n  /**\n   * Provides window contract\n   * @return {CoreProviderWindowContract}\n   */\n  createWindowContract() {\n    return {\n      create: (options = {}) => new Window(this.core, options),\n      list: () => Window.getWindows(),\n      last: () => Window.lastWindow()\n    };\n  }\n\n  /**\n   * Provides DnD contract\n   * @return {CoreProviderDnDContract}\n   */\n  createDnDContract() {\n    return dnd;\n  }\n\n  /**\n   * Provides DOM contract\n   * @return {CoreProviderDOMContract}\n   */\n  createDOMContract() {\n    return {\n      script,\n      style\n    };\n  }\n\n  /**\n   * Provides Theme contract\n   * @return {CoreProviderThemeContract}\n   */\n  createThemeContract() {\n    const {themeResource, icon} = resourceResolver(this.core);\n\n    return {\n      resource: themeResource,\n      icon: name => icon(name.replace(/(\\.png)?$/, '.png'))\n    };\n  }\n\n  /**\n   * Provides Sounds contract\n   * @return {CoreProviderSoundContract}\n   */\n  createSoundsContract() {\n    const {soundResource, soundsEnabled} = resourceResolver(this.core);\n\n    return {\n      resource: soundResource,\n      play: (src, options = {}) => {\n        if (soundsEnabled()) {\n          const absoluteSrc = src.match(/^(\\/|https?:)/)\n            ? src\n            : soundResource(src);\n\n          if (absoluteSrc) {\n            return playSound(absoluteSrc, options);\n          }\n        }\n\n        return false;\n      }\n    };\n  }\n\n  /**\n   * Provides Session contract\n   * @return {CoreProviderSessionContract}\n   */\n  createSessionContract() {\n    return {\n      save: () => this.session.save(),\n      load: (fresh = false) => this.session.load(fresh)\n    };\n  }\n\n  /**\n   * Provides Packages contract\n   * @return {CoreProviderPackagesContract}\n   */\n  createPackagesContract() {\n    return {\n      launch: (name, args = {}, options = {}) => this.pm.launch(name, args, options),\n      register: (name, callback) => this.pm.register(name, callback),\n      addPackages: list => this.pm.addPackages(list),\n      getPackages: filter => this.pm.getPackages(filter),\n      getCompatiblePackages: mimeType => this.pm.getCompatiblePackages(mimeType),\n      running: () => this.pm.running()\n    };\n  }\n\n  /**\n   * Provides Clipboard contract\n   * @return {CoreProviderClipboardContract}\n   */\n  createClipboardContract() {\n    return {\n      clear: () => this.clipboard.clear(),\n      set: (data, type) => this.clipboard.set(data, type),\n      has: type => this.clipboard.has(type),\n      get: (clear = false) => this.clipboard.get(clear)\n    };\n  }\n\n  /**\n   * Provides Tray contract\n   * @return {CoreProviderTrayContract}\n   */\n  createTrayContract() {\n    return {\n      create: (options, handler) => this.tray.create(options, handler),\n      remove: entry => this.tray.remove(entry),\n      list: () => this.tray.list(),\n      has: key => this.tray.has(key)\n    };\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {ServiceProvider} from '@osjs/common';\nimport Desktop from '../desktop';\n\n/**\n * Desktop Service Contract\n * TODO: typedef\n * @typedef {Object} DeskopProviderContract\n * @property {Function} setKeyboardContext\n * @property {Function} openContextMenu\n * @property {Function} addContextMenuEntries\n * @property {Function} applySettings\n * @property {Function} createDropContextMenu\n * @property {Function} getRect\n */\n\n/**\n * OS.js Desktop Service Provider\n */\nexport default class DesktopServiceProvider extends ServiceProvider {\n\n  /**\n   * @param {Core} core OS.js Core\n   */\n  constructor(core, options = {}) {\n    super(core, options || {});\n\n    /**\n     * @type {Desktop}\n     * @readonly\n     */\n    this.desktop = new Desktop(this.core, this.options);\n  }\n\n  /**\n   * Destroys instance\n   */\n  destroy() {\n    this.desktop = this.desktop.destroy();\n  }\n\n  /**\n   * Get a list of services this provider registers\n   * @return {string[]}\n   */\n  provides() {\n    return [\n      'osjs/desktop'\n    ];\n  }\n\n  /**\n   * Initializes desktop\n   * @return {Promise<undefined>}\n   */\n  init() {\n    this.desktop.init();\n\n    this.core.singleton('osjs/desktop', () => this.createDesktopContract());\n\n    this.core.on('osjs/core:started', () => {\n      this.desktop.applySettings();\n    });\n  }\n\n  /**\n   * Starts desktop\n   * @return {Promise<undefined>}\n   */\n  start() {\n    this.desktop.start();\n  }\n\n  /**\n   * @return {DeskopProviderContract}\n   */\n  createDesktopContract() {\n    return {\n      setKeyboardContext: ctx => this.desktop.setKeyboardContext(ctx),\n      openContextMenu: ev => this.desktop.onContextMenu(ev),\n      addContextMenuEntries: entries => this.desktop.addContextMenu(entries),\n      applySettings: settings => this.desktop.applySettings(settings),\n      createDropContextMenu: data => this.desktop.createDropContextMenu(data),\n      getRect: () => this.desktop.getRect()\n    };\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport Notifications from '../notifications';\nimport {ServiceProvider} from '@osjs/common';\n\n/**\n * OS.js Notification Service Provider\n */\nexport default class NotificationServiceProvider extends ServiceProvider {\n\n  /**\n   * @param {Core} core OS.js Core\n   */\n  constructor(core) {\n    super(core);\n\n    /**\n     * @type {Notifications}\n     * @readonly\n     */\n    this.notifications = new Notifications(core);\n  }\n\n  /**\n   * Destroys notifications\n   */\n  destroy() {\n    this.notifications.destroy();\n  }\n\n  /**\n   * Get a list of services this provider registers\n   * @return {string[]}\n   */\n  provides() {\n    return [\n      'osjs/notification'\n    ];\n  }\n\n  /**\n   * Initializes authentication\n   * @return {Promise<undefined>}\n   */\n  init() {\n    this.core.instance('osjs/notification', (options) => {\n      return this.notifications.create(options);\n    });\n\n    return this.notifications.init();\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {\n  transformReaddir,\n  transformArrayBuffer,\n  createFileIter\n} from './utils/vfs';\n\n/**\n * VFS Method Options\n *\n * TODO: typedef\n * @typedef {Object} VFSMethodOptions\n */\n\n/**\n * VFS Download Options\n *\n * @typedef {Object} VFSDownloadOptions\n * @property {boolean} [readfile] Set to false to force backend fetch\n */\n\n/**\n * VFS File Object\n *\n * @typedef {Object} VFSFile\n * @property {string} path\n * @property {string} [filename]\n * @property {boolean} [isDirectory]\n * @property {boolean} [isFile]\n * @property {string} [mime]\n * @property {object} [stat]\n */\n\n// Makes sure our input paths are object(s)\nconst pathToObject = path => ({\n  id: null,\n  ...typeof path === 'string' ? {path} : path\n});\n\n// Handles directory listing result(s)\nconst handleDirectoryList = (path, options) => result =>\n  Promise.resolve(result.map(stat => createFileIter(stat)))\n    .then(result => transformReaddir(pathToObject(path), result, {\n      showHiddenFiles: options.showHiddenFiles !== false,\n      filter: options.filter\n    }));\n\n/**\n * Read a directory\n *\n * @param {string|VFSFile} path The path to read\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<object[]>} A list of files\n */\nexport const readdir = (adapter, mount) => (path, options = {}) =>\n  adapter.readdir(pathToObject(path), options, mount)\n    .then(handleDirectoryList(path, options));\n\n/**\n * Reads a file\n *\n * Available types are 'arraybuffer', 'blob', 'uri' and 'string'\n *\n * @param {string|VFSFile} path The path to read\n * @param {string} [type=string] Return this content type\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<ArrayBuffer>}\n */\nexport const readfile = (adapter, mount) => (path, type = 'string', options = {}) =>\n  adapter.readfile(pathToObject(path), type, options, mount)\n    .then(response => transformArrayBuffer(response.body, response.mime, type));\n\n/**\n * Writes a file\n * @param {string|VFSFile} path The path to write\n * @param {ArrayBuffer|Blob|string} data The data\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<number>} File size\n */\nexport const writefile = (adapter, mount) => (path, data, options = {}) => {\n  const binary = (data instanceof ArrayBuffer || data instanceof Blob)\n    ? data\n    : new Blob([data], {type: 'application/octet-stream'});\n\n  return adapter.writefile(pathToObject(path), binary, options, mount);\n};\n\n/**\n * Copies a file or directory (move)\n * @param {string|VFSFile} from The source (from)\n * @param {string|VFSFile} to The destination (to)\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<boolean>}\n */\nexport const copy = (adapter, mount) => (from, to, options = {}) =>\n  adapter.copy(pathToObject(from), pathToObject(to), options, mount);\n\n/**\n * Renames a file or directory (move)\n * @param {string|VFSFile} from The source (from)\n * @param {string|VFSFile} to The destination (to)\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<boolean>}\n */\nexport const rename = (adapter, mount) => (from, to, options = {}) =>\n  adapter.rename(pathToObject(from), pathToObject(to), options, mount);\n\n/**\n * Alias of 'readme'\n * @param {string|VFSFile} from The source (from)\n * @param {string|VFSFile} to The destination (to)\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<boolean>}\n */\nexport const move = rename;\n\n/**\n * Creates a directory\n * @param {string|VFSFile} path The path to new directory\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<boolean>}\n */\nexport const mkdir = (adapter, mount) => (path, options = {}) =>\n  adapter.mkdir(pathToObject(path), options, mount);\n\n/**\n * Removes a file or directory\n * @param {string|VFSFile} path The path to remove\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<boolean>}\n */\nexport const unlink = (adapter, mount) => (path, options = {}) =>\n  adapter.unlink(pathToObject(path), options, mount);\n\n/**\n * Checks if path exists\n * @param {string|VFSFile} path The path to check\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<boolean>}\n */\nexport const exists = (adapter, mount) => (path, options = {}) =>\n  adapter.exists(pathToObject(path), options, mount);\n\n/**\n * Gets the stats of the file or directory\n * @param {string|VFSFile} path The path to check\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<object>}\n */\nexport const stat = (adapter, mount) => (path, options = {}) =>\n  adapter.stat(pathToObject(path), options, mount)\n    .then(stat => createFileIter(stat));\n\n/**\n * Gets an URL to a resource defined by file\n * @param {string|VFSFile} path The file\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<string>}\n */\nexport const url = (adapter, mount) => (path, options = {}) =>\n  adapter.url(pathToObject(path), options, mount);\n\n/**\n * Initiates a native browser download of the file\n * @param {string|VFSFile} path The file\n * @param {VFSDownloadOptions} [options] Options\n * @return {Promise<any>}\n */\nexport const download = (adapter, mount) => (path, options = {}) =>\n  typeof adapter.download === 'function' && options.readfile !== true\n    ? adapter.download(pathToObject(path), options, mount)\n    : readfile(adapter)(path, 'blob')\n      .then(body => {\n        const filename = pathToObject(path).path.split('/').splice(-1)[0];\n        const url = window.URL.createObjectURL(body);\n\n        const a = document.createElement('a');\n        a.style.display = 'none';\n        a.href = url;\n        a.download = filename;\n        document.body.appendChild(a);\n\n        a.click();\n\n        setTimeout(() => {\n          window.URL.revokeObjectURL(url);\n          a.remove();\n        }, 1);\n      });\n\n/**\n * Searches for files and folders\n * @param {string|VFSFile} root The root\n * @param {string} pattern Search pattern\n * @param {VFSMethodOptions} [options] Options\n * @return {Promise<object[]>} A list of files\n */\nexport const search = (adapter, mount) => (root, pattern, options = {}) => {\n  if (mount.attributes && mount.attributes.searchable === false) {\n    return Promise.resolve([]);\n  }\n\n  return adapter.search(pathToObject(root), pattern, options, mount)\n    .then(handleDirectoryList(root, options));\n};\n\n/**\n * Touches a file\n * @param {string|VFSFile} path File path\n * @return {Promise<boolean>}\n */\nexport const touch = (adapter, mount) => (path, options = {}) =>\n  adapter.touch(pathToObject(path), options, mount);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Null VFS adapter\n * @param {Core} core Core reference\n * @param {object} [options] Adapter options\n */\nconst nullAdapter = ({\n  readdir: (path, options) => Promise.resolve([]),\n  readfile: (path, type, options) => Promise.resolve({body: new ArrayBuffer(), mime: 'application/octet-stream'}),\n  writefile: (path, data, options) => Promise.resolve(-1),\n  copy: (from, to, options) => Promise.resolve(false),\n  rename: (from, to, options) => Promise.resolve(false),\n  mkdir: (path, options) => Promise.resolve(false),\n  unlink: (path, options) => Promise.resolve(false),\n  exists: (path, options) => Promise.resolve(false),\n  stat: (path, options) => Promise.resolve({}),\n  url: (path, options) => Promise.resolve(null),\n  mount: options => Promise.resolve(true),\n  unmount: options => Promise.resolve(true),\n  search: (root, pattern, options) => Promise.resolve([]),\n  touch: (path, options) => Promise.resolve(false)\n});\n\nexport default nullAdapter;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nconst getters = ['exists', 'stat', 'readdir', 'readfile'];\n\nconst requester = core => (fn, body, type) =>\n  core.request(`/vfs/${fn}`, {\n    body,\n    method: getters.indexOf(fn) !== -1 ? 'get' : 'post'\n  }, type)\n    .then(response => {\n      if (type === 'json') {\n        return {mime: 'application/json', body: response};\n      } else if (fn === 'writefile') {\n        return response.json();\n      }\n\n      const contentType = response.headers.get('content-type') || 'application/octet-stream';\n\n      return response.arrayBuffer().then(result => ({\n        mime: contentType,\n        body: result\n      }));\n    });\n\nconst methods = (core, request) => {\n  const passthrough = (name) => ({path}, options) =>\n    request(name, {path, options}, 'json')\n      .then(({body}) => body);\n\n  return {\n    readdir: ({path}, options) => request('readdir', {\n      path,\n      options: {}\n    }, 'json').then(({body}) => body),\n\n    readfile: ({path}, type, options) =>\n      request('readfile', {path, options}),\n\n    writefile: ({path}, data, options) => {\n      const formData = new FormData();\n      formData.append('upload', data);\n      formData.append('path', path);\n      formData.append('options', options);\n\n      return request('writefile', formData);\n    },\n\n    copy: (from, to, options) =>\n      request('copy', {from: from.path, to: to.path, options}, 'json').then(({body}) => body),\n\n    rename: (from, to, options) =>\n      request('rename', {from: from.path, to: to.path, options}, 'json').then(({body}) => body),\n\n    mkdir: passthrough('mkdir'),\n    unlink: passthrough('unlink'),\n    exists: passthrough('exists'),\n    stat: passthrough('stat'),\n\n    url: ({path}, options) => Promise.resolve(\n      core.url(`/vfs/readfile?path=${encodeURIComponent(path)}`)\n    ),\n\n    search: ({path}, pattern, options) =>\n      request('search', {root: path, pattern, options}, 'json')\n        .then(({body}) => body),\n\n    touch: ({path}, options) =>\n      request('touch', {path, options}, 'json').then(({body}) => body),\n\n    download: ({path}, options = {}) => {\n      const json = encodeURIComponent(JSON.stringify({download: true}));\n\n      return Promise.resolve(`/vfs/readfile?options=${json}&path=` + encodeURIComponent(path))\n        .then(url => {\n          return (options.target || window).open(url);\n        });\n    }\n  };\n};\n\n/**\n * System VFS adapter\n * @param {Core} core Core reference\n * @param {object} [options] Adapter options\n */\nconst adapter = (core) => {\n  const request = requester(core);\n\n  return methods(core, request);\n};\n\nexport default adapter;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Application VFS adapter\n * @param {Core} core Core reference\n * @param {object} [options] Adapter options\n */\nconst adapter = (core) => {\n  const pkgs = core.make('osjs/packages');\n\n  return {\n    readdir: ({path}, options) => {\n      return Promise.resolve(pkgs.getPackages())\n        .then(pkgs => pkgs.map(pkg => ({\n          isDirectory: false,\n          isFile: true,\n          filename: pkg.name,\n          mime: 'osjs/application',\n          path: `${path.replace(/(\\/+)?$/, '/')}${pkg.name}`,\n          size: 0,\n          stat: {},\n          icon: pkg.icon ? core.url(pkg.icon, {}, pkg) : null\n        })));\n    }\n  };\n};\n\nexport default adapter;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport * as VFS from './vfs';\nimport {EventEmitter} from '@osjs/event-emitter';\nimport {parseMontpointPrefix, filterMountByGroups, createWatchEvents} from './utils/vfs';\nimport defaultAdapter from './adapters/vfs/null';\nimport systemAdapter from './adapters/vfs/system';\nimport appsAdapter from './adapters/vfs/apps';\nimport logger from './logger';\nimport merge from 'deepmerge';\n\n/**\n * VFS Mountpoint attributes\n *\n * @typedef {Object} FilesystemMountpointAttributes\n * @property {string} [visibility='global'] Visibility in UI\n * @property {boolean} [local=true] Local filesystem ?\n * @property {boolean} [searchable=true] If can be searched\n * @property {boolean} [readOnly=false] Readonly\n */\n\n/**\n * VFS Mountpoint\n *\n * @typedef {Object} FilesystemMountpoint\n * @property {string} name Name\n * @property {string} label Label\n * @property {string} adapter Adater name\n * @property {string} [root] System adapter root\n * @property {boolean} [enabled=true] Enabled state\n * @property {FilesystemMountpointAttributes} [attributes] Attributes\n */\n\n/**\n * Filesystem Adapter Methods\n * TODO: typedef\n * @typedef {Object} FilesystemAdapterMethods\n * @property {Function} readdir\n * @property {Function} readfile\n * @property {Function} writefile\n * @property {Function} copy\n * @property {Function} move\n * @property {Function} rename\n * @property {Function} mkdir\n * @property {Function} unlink\n * @property {Function} exists\n * @property {Function} stat\n * @property {Function} url\n * @property {Function} download\n * @property {Function} search\n * @property {Function} touch\n */\n\n/**\n * @callback FilesystemAdapterWrapper\n * @return {FilesystemAdapterMethods}\n */\n\n/**\n * Filesystem Options\n *\n * @typedef {Object} FilesystemOptions\n * @property {{name: FilesystemAdapterWrapper}} [adapters] Adapter registry\n * @property {FilesystemMountpoint[]} [mounts] Mountpoints\n */\n\n/**\n * Filesystem Class that manages filesystems and adapters\n */\nexport default class Filesystem extends EventEmitter {\n\n  /**\n   * Create filesystem manager\n   *\n   * @param {Core} core Core reference\n   * @param {FilesystemOptions} [options] Options\n   */\n  constructor(core, options = {}) {\n    options = {\n      adapters: {},\n      mounts: [],\n      ...options\n    };\n\n    super('Filesystem');\n\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n\n    /**\n     * Adapter registry\n     * @type {{name: FilesystemAdapterWrapper}}\n     * @readonly\n     */\n    this.adapters = {\n      system: systemAdapter,\n      apps: appsAdapter,\n      ...this.core.config('vfs.adapters', {}),\n      ...options.adapters\n    };\n\n    /**\n     * Mountpoints\n     * @type {FilesystemMountpoint[]}\n     */\n    this.mounts = [];\n\n    /**\n     * Options\n     * @type {FilesystemOptions}\n     */\n    this.options = {};\n\n    /**\n     * A wrapper for VFS method requests\n     * @type {{key: Function}}\n     * @readonly\n     */\n    this.proxy = Object.keys(VFS).reduce((result, method) => {\n      return {\n        [method]: (...args) => this._request(method, ...args),\n        ...result\n      };\n    }, {});\n  }\n\n  /**\n   * Mounts all configured mountpoints\n   * @param {boolean} [stopOnError=true] Stop on first error\n   * @return {Promise<boolean[]>}\n   */\n  mountAll(stopOnError = true) {\n    this.mounts = this._getConfiguredMountpoints();\n\n    const fn = m => stopOnError\n      ? this._mountpointAction(m)\n      : this._mountpointAction(m).catch(err => logger.warn('Error while mounting', m, err));\n\n    return Promise.all(this.mounts.map(fn));\n  }\n\n  /**\n   * Adds a new mountpoint\n   * @param {FilesystemMountpoint} props Mountpoint props\n   * @param {boolean} [automount=true] Automount after creation\n   * @return {Promise<boolean>}\n   */\n  addMountpoint(props, automount = true) {\n    const mount = this.createMountpoint(props);\n\n    this.mounts.push(mount);\n\n    if (automount) {\n      return this.mount(mount.name);\n    }\n\n    return Promise.resolve(true);\n  }\n\n  /**\n   * Mount given mountpoint\n   * @param {string|FilesystemMountpoint} m Mountpoint name or object\n   * @throws {Error} On invalid name or if already mounted\n   * @return {Promise<boolean>}\n   */\n  mount(m) {\n    if (typeof m === 'string') {\n      return this._mountAction(m, false);\n    }\n\n    return this.addMountpoint(m);\n  }\n\n  /**\n   * Unmount given filesystem\n   * @param {string} name Filesystem name\n   * @throws {Error} On invalid name or if already unmounted\n   * @return {Promise<boolean>}\n   */\n  unmount(name) {\n    return this._mountAction(name, true);\n  }\n\n  /**\n   * Internal wrapper for mounting/unmounting\n   *\n   * @private\n   * @param {FilesystemMountpoint} mountpoint The mountpoint\n   * @param {boolean} [unmount=false] If action is unmounting\n   * @return {Promise<boolean>}\n   */\n  _mountpointAction(mountpoint, unmount = false) {\n    const eventName = unmount ? 'unmounted' : 'mounted';\n    const coreEventName = unmount ? 'unmount' : 'mount';\n\n    return mountpoint._adapter[coreEventName]({}, mountpoint)\n      .then(result => {\n        if (result) {\n          mountpoint.mounted = !unmount;\n\n          this.emit(eventName, mountpoint);\n          this.core.emit('osjs/fs:' + coreEventName);\n        }\n\n        return result;\n      });\n  }\n\n  /**\n   * Internal wrapper for mounting/unmounting by name\n   *\n   * @private\n   * @param {string} name Mountpoint name\n   * @param {boolean} [unmount=false] If action is unmounting\n   * @return {Promise<boolean>}\n   */\n  _mountAction(name, unmount) {\n    return Promise.resolve(this.mounts.find(m => m.name === name))\n      .then(found => {\n        const _ = this.core.make('osjs/locale').translate;\n\n        // FIXME: Add already mounting state\n        if (!found) {\n          throw new Error(_('ERR_VFS_MOUNT_NOT_FOUND', name));\n        } else if (unmount && !found.mounted) {\n          throw new Error(_('ERR_VFS_MOUNT_NOT_MOUNTED', name));\n        } else if (!unmount && found.mounted) {\n          throw new Error(_('ERR_VFS_MOUNT_ALREADY_MOUNTED', name));\n        }\n\n        return this._mountpointAction(found, unmount);\n      });\n  }\n\n  /**\n   * Gets the proxy for VFS methods\n   * FIXME: Not correct type, but works for documentation atm\n   * @return {FilesystemAdapterMethods} A map of VFS functions\n   */\n  request() {\n    return this.proxy;\n  }\n\n  /**\n   * Perform a VFS method request\n   *\n   * @private\n   * @param {string} method VFS method name\n   * @param {*} ...args Arguments\n   * @return {*}\n   */\n  _request(method, ...args) {\n    const ev = `osjs/vfs:${method}`;\n\n    const done = (error) => {\n      this.core.emit(`${ev}:done`, ...args);\n\n      if (!error && this.core.config('vfs.watch')) {\n        const eva = createWatchEvents(method, args);\n        eva.forEach(([e, a]) => this.core.emit(e, a));\n      }\n    };\n\n    this.core.emit(ev, ...args);\n\n    return this._requestAction(method, ...args)\n      .then(result => {\n        done();\n        return result;\n      })\n      .catch(error => {\n        done(error);\n        throw error;\n      });\n  }\n\n  /**\n   * Request action wrapper\n   * @private\n   * @param {string} method\n   * @param {*} ...args Arguments\n   * @return {Promise<*>}\n   */\n  _requestAction(method, ...args) {\n    if (['rename', 'move', 'copy'].indexOf(method) !== -1) {\n      const [src, dest] = args;\n      const srcMount = this.getMountpointFromPath(src);\n      const destMount = this.getMountpointFromPath(dest);\n      const sameAdapter = srcMount.adapter === destMount.adapter;\n\n      if (!sameAdapter) {\n        return VFS.readfile(srcMount._adapter, srcMount)(src)\n          .then(ab => VFS.writefile(destMount._adapter, destMount)(dest, ab))\n          .then(result => {\n            return method === 'rename'\n              ? VFS.unlink(srcMount._adapter, srcMount)(src).then(() => result)\n              : result;\n          });\n      }\n    }\n\n    const [file] = args;\n    const mount = this.getMountpointFromPath(file);\n\n    return VFS[method](mount._adapter, mount)(...args);\n  }\n\n  /**\n   * Creates a new mountpoint based on given properties\n   * @param {FilesystemMountpoint} props Properties\n   * @return {FilesystemMountpoint}\n   */\n  createMountpoint(props) {\n    const name = props.adapter || this.core.config('vfs.defaultAdapter');\n    const adapter = {...defaultAdapter, ...this.adapters[name](this.core)};\n\n    const result = merge({\n      enabled: true,\n      mounted: false,\n      adapter: name,\n      attributes: {\n        visibility: 'global',\n        local: true,\n        searchable: true,\n        readOnly: false\n      }\n    }, props);\n\n    return {\n      _adapter: adapter,\n      label: name,\n      root: `${result.name || name}:/`,\n      ...result\n    };\n  }\n\n  /**\n   * Gets mountpoint from given path\n   * @param {string|VFSFile} file The file\n   * @return {FilesystemMountpoint|null}\n   */\n  getMountpointFromPath(file) {\n    const path = typeof file === 'string' ? file : file.path;\n    const prefix = parseMontpointPrefix(path);\n    const _ = this.core.make('osjs/locale').translate;\n\n    if (!prefix) {\n      throw new Error(_('ERR_VFS_PATH_FORMAT_INVALID', path));\n    }\n\n    const found = this.mounts.find(m => m.name === prefix);\n\n    if (!found) {\n      throw new Error(_('ERR_VFS_MOUNT_NOT_FOUND_FOR', `${prefix}:`));\n    }\n\n    return found;\n  }\n\n  /**\n   * Gets all mountpoints\n   * @return {FilesystemMountpoint[]}\n   */\n  getMounts(all = false) {\n    const user = this.core.getUser();\n    const theme = this.core.make('osjs/theme');\n    const icon = str => str\n      ? (typeof str === 'string' ? str : theme.icon(str.name))\n      : theme.icon('drive-harddisk');\n\n    return this.mounts\n      .filter(m => all || m.mounted)\n      .filter(m => m.enabled !== false)\n      .filter(m => {\n        const mg = m.attributes ? m.attributes.groups : [];\n        const ms = m.attributes ? m.attributes.strictGroups !== false : true;\n        return filterMountByGroups(user.groups)(mg, ms);\n      })\n      .map(m => ({\n        attributes: {...m.attributes},\n        icon: icon(m.icon),\n        name: m.name,\n        label: m.label,\n        root: m.root\n      }));\n  }\n\n  /**\n   * Gets configured mountpoints\n   * @return {FilesystemMountpoint[]}\n   */\n  _getConfiguredMountpoints() {\n    const list = [\n      ...this.core.config('vfs.mountpoints', []),\n      ...(this.options.mounts || [])\n    ];\n\n    return list\n      .map(mount => {\n        try {\n          return this.createMountpoint(mount);\n        } catch (e) {\n          logger.warn('Error while creating mountpoint', e);\n        }\n\n        return null;\n      })\n      .filter((mount, pos, arr) => {\n        const index = arr.findIndex(item => item.label === mount.label || item.root === mount.label);\n        if (index === pos) {\n          return true;\n        }\n\n        logger.warn('Removed duplicate mountpoint', mount);\n        return false;\n      })\n      .filter(mount => mount !== null);\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {ServiceProvider} from '@osjs/common';\nimport Filesystem from '../filesystem';\nimport * as utils from '../utils/vfs';\n\n/**\n * Filesytem Service Contract\n * TODO: typedef\n * @typedef {Object} VFSServiceFilesystemContract\n * @property {Function} basename\n * @property {Function} pathname\n * @property {Function} pathJoin\n * @property {Function} icon\n * @property {Function} mountpoints\n * @property {Function} mount\n * @property {Function} unmount\n * @property {Function} addMountpoint\n */\n\n/**\n * VFS Service Contract\n * TODO: typedef\n * @typedef {Object} VFSServiceContract\n * @property {Function} readdir\n * @property {Function} readfile\n * @property {Function} writefile\n * @property {Function} copy\n * @property {Function} move\n * @property {Function} rename\n * @property {Function} mkdir\n * @property {Function} unlink\n * @property {Function} exists\n * @property {Function} stat\n * @property {Function} url\n * @property {Function} download\n * @property {Function} search\n * @property {Function} touch\n */\n\n/**\n * VFS Service Options\n * @typedef {Object} VFSServiceOptions\n * @property {{name: FilesystemAdapter}} [adapters={}]\n * @property {FilesystemMountpoint[]} [mountpoints=[]]\n */\n\n/**\n * OS.js Virtual Filesystem Service Provider\n */\nexport default class VFSServiceProvider extends ServiceProvider {\n\n  /**\n   * @param {Core} core OS.js Core\n   * @param {VFSServiceOptions} [options={}]\n   */\n  constructor(core, options = {}) {\n    super(core);\n\n    /**\n     * @type {Filesystem}\n     * @readonly\n     */\n    this.fs = new Filesystem(core, {\n      adapters: options.adapters || {},\n      mounts: options.mounts || []\n    });\n  }\n\n  /**\n   * Get a list of services this provider registers\n   * @return {string[]}\n   */\n  provides() {\n    return [\n      'osjs/vfs',\n      'osjs/fs'\n    ];\n  }\n\n  /**\n   * Initializes VFS providers\n   * @return {Promise<undefined>}\n   */\n  init() {\n    this.core.singleton('osjs/vfs', () => this.createVFSContract());\n    this.core.singleton('osjs/fs', () => this.createFilesystemContract());\n\n    return this.fs.mountAll(false);\n  }\n\n  /**\n   * @return {VFSServiceContract}\n   */\n  createVFSContract() {\n    return this.fs.request();\n  }\n\n  /**\n   * @return {VFSServiceFilesystemContract}\n   */\n  createFilesystemContract() {\n    const iconMap = this.core.config('vfs.icons', {});\n    const icon = utils.getFileIcon(iconMap);\n\n    return {\n      basename: p => utils.basename(p),\n      pathname: p => utils.pathname(p),\n      pathJoin: (...args) => utils.pathJoin(...args),\n      icon: icon,\n      mountpoints: (all = false) => this.fs.getMounts(all),\n      addMountpoint: (props, automount = true) => this.fs.addMountpoint(props, automount),\n      mount: m => this.fs.mount(m),\n      unmount: name => this.fs.unmount(name)\n    };\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {ServiceProvider} from '@osjs/common';\nimport Auth from '../auth';\n\n/**\n * Auth Service Contract\n * TODO: typedef\n * @typedef {Object} AuthProviderContract\n * @property {Function} show\n * @property {Function} login\n * @property {Function} logout\n * @property {Function} user\n */\n\n/**\n * Auth Service Options\n * @typedef {Object} AuthServiceOptions\n */\n\n/**\n * OS.js Auth Service Provider\n *\n * Creates the login prompt and handles authentication flow\n */\nexport default class AuthServiceProvider extends ServiceProvider {\n\n  /**\n   * @param {Core} core OS.js Core\n   * @param {AuthServiceOptions} [options={}]\n   */\n  constructor(core, options = {}) {\n    super(core);\n\n    /**\n     * @type {Auth}\n     * @readonly\n     */\n    this.auth = new Auth(core, options);\n  }\n\n  /**\n   * Initializes authentication\n   * @return {Promise<undefined>}\n   */\n  init() {\n    this.core.singleton('osjs/auth', () => this.createAuthContract());\n\n    return this.auth.init();\n  }\n\n  /**\n   * Destroys authentication\n   */\n  destroy() {\n    this.auth.destroy();\n\n    return super.destroy();\n  }\n\n  /**\n   * Get a list of services this provider registers\n   * @return {string[]}\n   */\n  provides() {\n    return [\n      'osjs/auth'\n    ];\n  }\n\n  /**\n   * @return {AuthProviderContract}\n   */\n  createAuthContract() {\n    return {\n      show: (cb) => this.auth.show(cb),\n      login: (values) => this.auth.login(values),\n      logout: (reload) => this.auth.logout(reload),\n      user: () => this.core.getUser()\n    };\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport logger from '../../logger';\n\n/**\n * LocalStorage Settings adapter\n * @param {Core} core Core reference\n * @param {object} [options] Adapter options\n */\nconst localStorageSettings = core => ({\n  clear: ns => {\n    if (ns) {\n      localStorage.removeItem(ns);\n    } else {\n      localStorage.clear();\n    }\n\n    return Promise.resolve(true);\n  },\n\n  save: settings => {\n    Object.keys(settings).forEach((k) => {\n      localStorage.setItem(k, JSON.stringify(settings[k]));\n    });\n\n    return Promise.resolve(true);\n  },\n\n  load: () => Promise.resolve(Object.keys(localStorage).reduce((o, v) => {\n    let value = localStorage.getItem(v);\n    try {\n      value = JSON.parse(value);\n    } catch (e) {\n      logger.warn('localStorageAdapter parse error', e);\n    }\n\n    return Object.assign(o, {[v]: value});\n  }, {}))\n});\n\n\nexport default localStorageSettings;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport merge from 'deepmerge';\nimport simplejsonconf from 'simplejsonconf';\nimport localStorageSettings from './adapters/settings/localstorage';\nimport serverSettings from './adapters/settings/server';\nimport logger from './logger';\n\nconst defaultAdapters = {\n  server: serverSettings,\n  localStorage: localStorageSettings\n};\n\nconst createAdapter = (core, options) => {\n  const adapter = core.config('standalone')\n    ? localStorageSettings\n    : typeof options.adapter === 'function'\n      ? options.adapter\n      : defaultAdapters[options.adapter || 'localStorage'];\n\n  return {\n    load: () => Promise.reject(new Error('Not implemented')),\n    save: () => Promise.reject(new Error('Not implemented')),\n    init: () => Promise.resolve(true),\n    clear: () => Promise.resolve(true),\n    destroy: () => {},\n    ...adapter(core, options.config)\n  };\n};\n\n/**\n * TODO: typedef\n * @typedef {Object} SettingsAdapterConfiguration\n */\n\n/**\n * TODO: typedef\n * @typedef {Object} SettingsAdapter\n */\n\n/**\n * @callback SettingsAdapterCallback\n * @param {Core} core\n * @return {SettingsAdapterCallback}\n */\n\n/**\n * Settings Options\n *\n * @typedef {Object} SettingsOptions\n * @property {SettingsAdapterCallback|SettingsAdapter} [adapter] Adapter to use\n * @property {SettingsAdapterConfiguration} [config] Adapter configuration\n */\n\n/**\n * OS.js Settings Manager\n */\nexport default class Settings {\n\n  // TODO: Destroy method\n\n  /**\n   * Create application\n   *\n   * @param {Core} core Core reference\n   * @param {SettingsOptions} options Options\n   */\n  constructor(core, options) {\n\n    /**\n     * The settings adapter\n     * @type {SettingsAdapter}\n     * @readonly\n     */\n    this.adapter = createAdapter(core, options);\n\n    /**\n     * Internal timeout reference used for debouncing\n     * @type {object}\n     */\n    this.debounce = null;\n\n    /**\n     * The settings tree\n     * @type {{name: *}}\n     */\n    this.settings = {};\n\n    /**\n     * Core instance reference\n     * @type {Core}\n     * @readonly\n     */\n    this.core = core;\n  }\n\n  /**\n   * Initializes settings adapter\n   */\n  init() {\n    return this.adapter.init();\n  }\n\n  /**\n   * Saves settings\n   * @return {Promise<boolean>}\n   */\n  save() {\n    return new Promise((resolve, reject) => {\n      if (this.debounce) {\n        const [promise, timer] = this.debounce;\n        promise.resolve(false);\n        this.debounce = clearTimeout(timer);\n      }\n\n      this.debounce = [\n        {resolve, reject},\n        setTimeout(() => {\n          this.adapter.save(this.settings)\n            .then((...args) => {\n              this.core.emit('osjs/settings:save');\n\n              resolve(...args);\n            }).catch(reject);\n        }, 100)\n      ];\n    });\n  }\n\n  /**\n   * Loads settings\n   * @return {Promise<boolean>}\n   */\n  load() {\n    const defaults = this.core.config('settings.defaults', {});\n\n    return this.adapter.load()\n      .then(settings => {\n        this.settings = merge(defaults, settings, {\n          arrayMerge: (dest, source) => source\n        });\n\n        this.core.emit('osjs/settings:load');\n\n        return true;\n      }).catch(e => {\n        logger.warn('Failed to set settings', e);\n        this.settings = defaults;\n\n        return false;\n      });\n  }\n\n  /**\n   * Gets a settings entry by key (cached)\n   *\n   * @param {string} [ns] The namespace\n   * @param {string} [key] The key to get the value from\n   * @param {*} [defaultValue] If result is undefined, return this instead\n   * @return {*}\n   */\n  get(ns, key, defaultValue) {\n    if (typeof ns === 'undefined') {\n      return {...this.settings};\n    } else if (typeof this.settings[ns] === 'undefined') {\n      return key ? defaultValue : defaultValue || {};\n    }\n\n    const tree = simplejsonconf(this.settings[ns]);\n\n    return key\n      ? tree.get(key, defaultValue)\n      : tree.get() || defaultValue;\n  }\n\n  /**\n   * Sets a settings entry by root key (but does not save).\n   *\n   * @param {string} ns The namespace\n   * @param {string} [key] The key to set\n   * @param {*} [value] The value to set\n   * @return {Settings} This\n   */\n  set(ns, key, value) {\n    const lock = this.core.config('settings.lock', []);\n    if (lock.indexOf(ns) !== -1) {\n      return this;\n    }\n\n    if (typeof this.settings[ns] === 'undefined') {\n      this.settings[ns] = {};\n    }\n\n    if (key) {\n      try {\n        const sjc = simplejsonconf(this.settings[ns]);\n        sjc.set(key, value);\n        this.settings[ns] = sjc.get();\n      } catch (e) {\n        logger.warn('Error while setting settings for', key, e);\n      }\n    } else {\n      this.settings[ns] = {...value};\n    }\n\n    return this;\n  }\n\n  /**\n   * Clears a namespace by root key\n   * @param {string} ns The namespace\n   * @return {Promise<boolean>}\n   */\n  clear(ns) {\n    return this.adapter.clear(ns)\n      .then(result => {\n        if (result && this.settings[ns]) {\n          delete this.settings[ns];\n        }\n\n        return result;\n      });\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\n/**\n * Server Settings adapter\n * @param {Core} core Core reference\n * @param {object} [options] Adapter options\n */\nconst serverSettings = core => ({\n  save: settings => core.request(core.url('/settings'), {\n    method: 'post',\n    body: settings\n  }, 'json'),\n\n  load: () => core.request(core.url('/settings'), {\n    method: 'get'\n  }, 'json')\n});\n\nexport default serverSettings;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @license Simplified BSD License\n */\n\nimport {ServiceProvider} from '@osjs/common';\nimport Settings from '../settings';\n\n/**\n * Settings Service Contract\n * TODO: typedef\n * @typedef {Object} SettingsProviderContract\n * @property {Function} save\n * @property {Function} load\n * @property {Function} clear\n * @property {Function} set\n * @property {Function} get\n */\n\n/**\n * TODO: typedef\n * @typedef {Object} SettingsServiceOptions\n * @property {Object} [config]\n */\n\n/**\n * OS.js Settings Service Provider\n */\nexport default class SettingsServiceProvider extends ServiceProvider {\n\n  /**\n   * @param {Core} core OS.js Core\n   * @param {SettingsServiceOptions} [options={}]\n   */\n  constructor(core, options = {}) {\n    super(core);\n\n    /**\n     * @type {Settings}\n     * @readonly\n     */\n    this.settings = new Settings(core, {\n      config: {},\n      ...options\n    });\n  }\n\n  /**\n   * Get a list of services this provider registers\n   * @return {string[]}\n   */\n  provides() {\n    return [\n      'osjs/settings'\n    ];\n  }\n\n  /**\n   * Initializes settings\n   * @return {Promise<undefined>}\n   */\n  init() {\n    this.core.singleton('osjs/settings', () => this.createSettingsContract());\n\n    return this.settings.init();\n  }\n\n  /**\n   * @return {SettingsProviderContract}\n   */\n  createSettingsContract() {\n    return {\n      save: () => this.settings.save(),\n      load: () => this.settings.load(),\n      clear: (ns) => this.settings.clear(ns),\n      get: (ns, key, defaultValue) => this.settings.get(ns, key, defaultValue),\n      set: (ns, key, value) => this.settings.set(ns, key, value)\n    };\n  }\n}\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"osjsDialogs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"osjsDialogs\"] = factory();\n\telse\n\t\troot[\"osjsDialogs\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","var isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tObject.keys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tObject.keys(source).forEach(function(key) {\n\t\tif (!options.isMergeableObject(source[key]) || !target[key]) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = deepmerge(target[key], source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nexport default deepmerge_1;\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * Elemet Box definition\n * @property {string} [class] Container class name\n * @property {number} [grow] Flexbox grow value\n * @property {number} [shrink] Flexbox shrink value\n * @property {number|string} [basis] Flexbox basis value\n * @property {string} [align] Flexbox alignItems value\n * @property {string} [justify] Flexbox justifyContent value\n * @property {number|string} [padding] Margin\n * @property {number|string} [margin] Margin\n * @property {string} [key] Hyperapp element key\n * @property {Function} [oncreate] Hyperapp oncreate function\n * @property {Function} [onupdate] Hyperapp onupdate function\n * @property {Function} [ondestroy] Hyperapp ondestroy function\n * @typedef BoxProperties\n */\n\nconst unitValue = (value, unset) => typeof value === 'number'\n  ? `${value}px`\n  : (value === false ? unset : value);\n\nconst boxPropNames = {\n  grow: value => ({flexGrow: value}),\n  shrink: value => ({flexShrink: value}),\n  basis: value => ({flexBasis: unitValue(value, 'auto')}),\n  align: value => ({alignItems: value}),\n  justify: value => ({justifyContent: value}),\n  padding: value => ({margin: unitValue(value, '0')}),\n  margin: value => ({margin: unitValue(value, '0')})\n};\n\n/**\n * A generic OS.js GUI container\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Element = (props, children = []) => {\n  const givenClassNames = props.class instanceof Array\n    ? props.class\n    : [props.class];\n\n  const classNames = [\n    'osjs-gui',\n    ...givenClassNames\n  ];\n\n  if (props.orientation) {\n    classNames.push('osjs-gui-' + props.orientation);\n  }\n\n  const defaultStyle = typeof props.style === 'string'\n    ? {}\n    : Object.assign({}, props.style || {});\n\n  const style = Object.keys(props).reduce((result, prop) => {\n    const value = boxPropNames[prop]\n      ? boxPropNames[prop](props[prop])\n      : undefined;\n\n    return Object.assign({}, result, value);\n  }, defaultStyle);\n\n  return h('div', {\n    oncreate: props.oncreate,\n    ondestroy: props.ondestroy,\n    class: classNames.filter(s => !!s).join(' '),\n    style\n  }, children);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='horizontal'] Box orientation\n * @param {h[]} children Children\n */\nexport const Box = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'horizontal'\n  }, props, {\n    class: ['osjs-gui-box', props.class],\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox container\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='vertical'] Box orientation\n * @param {h[]} children Children\n */\nexport const BoxContainer = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-container', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A styled flexbox container\n * @param {BoxProperties} props Properties\n * @param {h[]} children Children\n */\nexport const BoxStyled = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-styled', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * An icon\n * @param {Object} props Properties\n * @param {string} props.src Icon src\n * @param {string} [props.name] Icon name\n * @param {h[]} children Children\n */\nexport const Icon = (props, children) => {\n  const i = props && typeof props === 'object'\n    ? props.src\n    : props;\n\n  const n = props && typeof props === 'object'\n    ? props.name\n    : undefined;\n\n  return h('i', {\n    'data-icon': n,\n    class: 'osjs-icon',\n    style: {\n      backgroundImage: typeof props === 'string' ? `url(${i})` : undefined\n    }\n  });\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n/**\n * Filter an object based on keys\n * @param {Object} props Props\n * @param {String[]} filterKeys List of keys to filter\n * @return {Object}\n */\nexport const filteredProps = (props, filterKeys) => {\n  const keys = Object.keys(props);\n  const filter = k => filterKeys.indexOf(k) === -1;\n\n  return keys\n    .filter(filter)\n    .reduce((result, k) => Object.assign({\n      [k]: props[k]\n    }, result), {});\n};\n\n/**\n * Creates a double-tap event handler\n * @param {number} [timeout=250] Timeout\n * @return {Function} Handler with => (ev, cb)\n */\nexport const doubleTap = (timeout = 250) => {\n  let tapped = false;\n  let timer;\n\n  return (ev, cb) => {\n    timer = clearTimeout(timer);\n    timer = setTimeout(() => (tapped = false), timeout);\n\n    if (tapped) {\n      ev.preventDefault();\n      return cb(ev);\n    }\n\n    tapped = true;\n\n    return false;\n  };\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\nimport {h} from 'hyperapp';\nimport {filteredProps} from './utils';\nimport {Element} from './components/Element';\n\n/**\n * Creates a new field Element wrapper\n * @param {String} name Field name\n * @param {Object} props Field props\n * @param {Function} cb Callback to create inner element => (props)\n * @param {Function} cb Callback to get value => (event)\n */\nexport const createField = (name, props, defaultProps, cb, cbInput) => {\n  const oninput = props.oninput || function() {};\n  const onchange = props.onchange || function() {};\n  const onkeydown = props.onkeydown || function() {};\n\n  const getValue = cbInput || (ev => [ev.target.value]);\n  const fieldProps = Object.assign(\n    {\n      oninput: ev => oninput(ev, ...getValue(ev)),\n      onchange: ev => onchange(ev, ...getValue(ev)),\n      onkeydown: ev => {\n        if (ev.keyCode === 13 && props.onenter) {\n          props.onenter(ev, ...getValue(ev));\n        }\n        onkeydown(ev);\n      }\n    },\n    defaultProps,\n    filteredProps(props, ['choices', 'label', 'box', 'oninput', 'onchange'])\n  );\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: 'osjs-gui-field osjs-gui-' + name\n  }), cb(fieldProps));\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\nimport {createField} from '../element';\n\n/**\n * A button\n * @param {Object} props Properties\n * @param {string} [props.icon] Icon source\n * @param {string} [props.label] Use this as label instead of children\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Button = (props = {}, children = []) =>\n  createField('button', props, {\n  }, (fieldProps) => {\n    const inner = [];\n    if (props.icon) {\n      inner.push(h(Icon, props.icon));\n    }\n\n    if (typeof props.label === 'string') {\n      inner.push(h('span', {class: 'osjs-label'}, props.label));\n    }\n\n    return h('button', fieldProps, [\n      ...inner,\n      ...children\n    ]);\n  });\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A progress bar\n * @param {Object} props Properties\n * @param {number} [props.value] The value (percentage)\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Progressbar = (props, children = []) => {\n  let value = typeof props.value === 'number'\n    ? Math.max(0, Math.abs(props.value)) % 100\n    : 0;\n\n  const c = h('div', {class: 'osjs-gui-progressbar-wrapper'}, [\n    h('div', {\n      className: 'osjs-gui-progressbar-value',\n      style: {\n        width: String(value) + '%'\n      }\n    }),\n    h('div', {\n      className: 'osjs-gui-progressbar-label',\n    }, [\n      h('span', {}, [\n        String(value) + '%'\n      ])\n    ])\n  ]);\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-progressbar', props.class]\n  }), [\n    c,\n    ...children\n  ]);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\n\nconst ul = (props, children = [], level = 0) => {\n\n  const label = child => {\n    const children = [];\n\n    if (child.type === 'checkbox' || typeof child.checked === 'boolean') {\n      children.push(h('span', {\n        class: 'osjs-gui-menu-checkbox ' + (child.checked ? 'active' : '')\n      }));\n    } else if (child.icon) {\n      children.push(h(Icon, child.icon));\n    }\n\n    children.push(h('span', {}, child.label));\n\n    return children;\n  };\n\n  const inner = (props, child) => {\n    if (typeof child.element === 'function') {\n      return child.element();\n    }\n\n    const className = child.type === 'separator'\n      ? 'osjs-gui-menu-separator'\n      : 'osjs-gui-menu-label ' + (child.disabled ? 'osjs__disabled' : '');\n\n    const children = [\n      h('span', {class: className}, label(child))\n    ];\n\n    if (child.items) {\n      children.push(ul(props, child.items, level + 1));\n    }\n\n    return children;\n  };\n\n  return h('ul', {\n    class: ''\n  }, children.map(\n    child => h('li', {\n      class: 'osjs-gui-menu-entry'\n    }, [\n      h('div', {\n        class: 'osjs-gui-menu-container',\n        'data-has-image': child.icon ? true : undefined,\n        'data-has-children': child.items ? true : undefined,\n        onmouseover: child.items ? props.onshow : undefined,\n        ontouchend: child.items ? props.onshow : undefined,\n        onclick: (ev) => {\n          if (child.items) {\n            return;\n          }\n\n          if (child.onclick) {\n            child.onclick(child, ev);\n          }\n\n          if (props.onclick) {\n            props.onclick(child, ev, child);\n          }\n        }\n      }, inner(props, child))\n    ])\n  ));\n};\n\n/**\n * Menu tree\n * @property {String} label Label\n * @property {String} [icon] Icon source\n * @property {Boolean} [disabled] Disabled state\n * @property {Boolean} [closeable] Disable close on click\n * @property {Function} [element] A callback that returns a virtual DOM element (ex. Hyperapp)\n * @property {Function} onclick Click callback\n * @property {MenuItems} [items] Child items\n * @typedef MenuItems\n */\n\n/**\n * A menu\n * @param {Object} props Properties\n * @param {Boolean} [props.visible=true] Visible property\n * @param {Object} [posprops.ition] Position\n * @param {MenuItems} [props.menu] Menu items\n */\nexport const Menu = (props) => h('div', {\n  id: 'osjs-context-menu',\n  className: 'osjs-gui osjs-gui-menu',\n  oncreate: props.oncreate,\n  onupdate: props.onupdate,\n  style: {\n    display: props.visible !== false ? 'block' : 'none',\n    top: props.position ? String(props.position.top) + 'px' : 0,\n    left: props.position ? String(props.position.left) + 'px' : 0\n  }\n}, ul(props, props.menu));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A toolbar\n * @desc Contains entries with spacing\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='vertical'] Box orientation\n * @param {h[]} children Children\n */\nexport const Toolbar = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'vertical'\n  }, props, {\n    class: ['osjs-gui-toolbar', props.class]\n  }), children);\n","import {h, app} from 'hyperapp'\n\nexport default \nfunction nestable (state, actions, view, tagname) {\n    actions._$r = function () {return {}}\n    return function (props, children) {\n        return h(tagname || 'x-', {\n            key: props.key,\n            id: props.id,\n            class: props.class,\n            oncreate: function (el) {\n                var wired = app(\n                    state,\n                    actions,\n                    function (s, a) {\n                        var v = view(s, a)\n                        if (typeof v === 'function') v = v(el._$p, el._$c)\n                        return v\n                    },\n                    el\n                )\n                el._$p = props\n                el._$c = children\n                el._$r = wired._$r\n                el._$u = wired.uninit\n                wired.init && wired.init(props)\n                props.oncreate && props.oncreate(el)\n            },\n            onupdate: function (el) {\n                el._$p = props\n                el._$c = children\n                el._$r()\n                props.onupdate && props.onupdate(el)\n            },\n            ondestroy: function (el) {\n                el._$u && el._$u()\n            },\n            onremove: function (el, done) {\n               if (!props.onremove) return done()\n\n               props.onremove(el, done)\n            }\n        })\n    }    \n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\nimport {Element} from './Element';\n\nconst onmousedown = (ev, actions, orientation) => {\n  const {target, clientX, clientY} = ev;\n  const pane = target.previousSibling;\n  const {offsetWidth, offsetHeight} = pane;\n  const index = Array.from(target.parentNode.children).indexOf(pane);\n  const maxWidth = pane.parentNode.offsetWidth * 0.8;\n  const maxHeight = pane.parentNode.offsetHeight * 0.8;\n\n  if (index < 0) {\n    return;\n  }\n\n  const mousemove = ev => {\n    ev.preventDefault();\n\n    let size = orientation === 'vertical' ? offsetWidth : offsetHeight;\n\n    if (orientation === 'vertical') {\n      const diffX = ev.clientX - clientX;\n      size = Math.min(maxWidth, size + diffX);\n    } else {\n      const diffY = ev.clientY - clientY;\n      size = Math.min(maxHeight, size + diffY);\n    }\n\n    actions.setSize({index, size});\n  };\n\n  const mouseup = ev => {\n    ev.preventDefault();\n    document.removeEventListener('mousemove', mousemove);\n    document.removeEventListener('mouseup', mouseup);\n  };\n\n  ev.preventDefault();\n  document.addEventListener('mousemove', mousemove);\n  document.addEventListener('mouseup', mouseup);\n};\n\nconst panes = (state, actions, children, orientation) => {\n  const spacers = Array(Math.ceil(children.length / 2))\n    .fill(null)\n    .map(() => h('div', {\n      class: 'osjs-gui-panes-spacer',\n      onmousedown: ev => onmousedown(ev, actions, orientation)\n    }));\n\n  const child = (c, i) => {\n    const w = state.sizes[i] ? String(state.sizes[i]) + 'px' : undefined;\n\n    return h('div', {\n      class: 'osjs-gui-panes-pane',\n      style: {\n        flex: w ? `0 0 ${w}` : w\n      }\n    }, c);\n  };\n\n  return children\n    .map(child)\n    .map((v, i) => [v, spacers[i]])\n    .reduce((a, b) => a.concat(b))\n    .filter(v => typeof v !== 'undefined');\n};\n\nconst view = (state, actions) => (props, children) => {\n  const orientation = props.orientation || 'vertical';\n\n  return h(Element, {\n    orientation,\n    class: 'osjs-gui-panes-inner'\n  }, panes(state, actions, children, orientation));\n};\n\nconst inner = nestable({\n  sizes: []\n}, {\n  init: props => ({sizes: props.sizes || [150]}),\n  setSize: ({index, size}) => state => {\n    const sizes = [].concat(state.sizes);\n    sizes[index] = size;\n    return {sizes};\n  }\n}, view, 'div');\n\n/**\n * Resizable panes\n * @param {Object} props Properties\n * @param {string} [props.orientation='vertical'] Pane orientation\n * @param {number[]} [props.sizes] Pane sizes\n * @param {h[]} children Children\n */\nexport const Panes = (props, children) => h(inner, {\n  class: 'osjs-gui-panes'\n}, children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps, doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nconst createView = props => {\n\n  const cols = (paneIndex) => (row, rowIndex) => {\n    const col = row.columns[paneIndex] || {};\n    const selected = props.selectedIndex === rowIndex;\n    const colIcon = col.icon ? h(Icon, col.icon) : null;\n    const children = [h('span', {}, [typeof col === 'object' ? col.label : col])];\n\n    if (colIcon) {\n      children.unshift(colIcon);\n    }\n\n    return h('div', {\n      key: row.key,\n      'data-has-icon': col.icon ? true : undefined,\n      class: 'osjs-gui-list-view-cell' + (selected ? ' osjs__active' : ''),\n      ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: row.data, index: rowIndex, ev})),\n      ondblclick: (ev) => props.onactivate({data: row.data, index: rowIndex, ev}),\n      onclick: (ev) => props.onselect({data: row.data, index: rowIndex, ev}),\n      oncontextmenu: (ev) => props.oncontextmenu({data: row.data, index: rowIndex, ev}),\n      oncreate: (el) => props.oncreate({data: row.data, index: rowIndex, el})\n    }, children);\n  };\n\n  const pane = (index, col) => h('div', {\n    class: 'osjs-gui-list-view-pane',\n    style: col.style || {}\n  }, [\n    h('div', {\n      class: 'osjs-gui-list-view-header',\n      style: {\n        display: props.hideColumns ? 'none' : undefined\n      }\n    }, h('span', {}, typeof col === 'object' ? col.label : col)),\n    h('div', {\n      class: 'rows',\n      'data-zebra': String(props.zebra)\n    }, props.rows.map(cols(index)))\n  ]);\n\n  return h('div', {\n    class: 'osjs-gui-list-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.columns.map((c, i) => pane(i, c)));\n};\n\nexport const ListView = props => h(Element, Object.assign({\n  class: 'osjs-gui-list-view'\n}, props.box || {}), createView(filteredProps(props, ['box'])));\n\nexport const listView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      zebra: true,\n      columns: [],\n      rows: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => ListView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setRows: rows => ({rows}),\n    setColumns: columns => ({columns}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex})\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\n\nconst headers = ({labels, onchange, oncontextmenu}, state, actions) => (labels || [])\n  .map((label, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : '',\n    oncontextmenu: ev => {\n      (oncontextmenu || function() {})(ev, index, label);\n    },\n    onclick: ev => {\n      actions.setSelectedIndex(index);\n      (onchange || function() {})(ev, index, label);\n    }\n  }, h('span', {}, label)));\n\nconst panes = (state, children) => children\n  .map((child, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : ''\n  }, child));\n\nconst view = nestable({\n  selectedIndex: 0\n}, {\n  init: props => ({\n    selectedIndex: props.selectedIndex || 0\n  }),\n  setSelectedIndex: selectedIndex => state => ({selectedIndex})\n}, (state, actions) => (props, children) => h('div', {\n  class: 'osjs-gui-tabs-wrapper'\n}, [\n  h('div', {class: 'osjs-gui-tabs-header'}, headers(props, state, actions)),\n  h('div', {class: 'osjs-gui-tabs-panes'}, panes(state, children))\n]), 'div');\n\n/**\n * A tab container\n * @param {Object} props Properties\n * @param {String[]} props.labels Labels\n * @param {h[]} children Tabs\n */\nexport const Tabs = (props, children) => h(view, Object.assign({\n  class: 'osjs-gui osjs-gui-tabs ' + (props.class || '')\n}, props), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nexport const IconViewEntry = (entry, index, props) => () => {\n  const icon = entry.icon || {name: 'application-x-executable'};\n  const selected = props.selectedIndex === index;\n\n  return h('div', {\n    class: 'osjs-gui-icon-view-entry' + (selected ? ' osjs__active' : ''),\n    ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: entry.data, index, ev})),\n    ondblclick: (ev) => props.onactivate({data: entry.data, index, ev}),\n    onclick: (ev) => props.onselect({data: entry.data, index, ev}),\n    oncontextmenu: (ev) => props.oncontextmenu({data: entry.data, index, ev}),\n    oncreate: (el) => props.oncreate({data: entry.data, index, el})\n  }, [\n    h('div', {class: 'osjs__container'}, [\n      h('div', {class: 'osjs__image'}, [\n        h(Icon, icon)\n      ]),\n      h('div', {class: 'osjs__label'}, [\n        h('span', {}, entry.label)\n      ])\n    ])\n  ]);\n};\n\nexport const IconView = (props) => {\n  const inner = h('div', {\n    class: 'osjs-gui-icon-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.entries.map((entry, index) => {\n    return h(IconViewEntry(entry, index, props));\n  }));\n\n  return h(Element, Object.assign({\n    class: 'osjs-gui-icon-view'\n  }, props.box || {}), inner);\n};\n\nexport const iconView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      entries: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => IconView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setEntries: entries => () => ({entries}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex}),\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {string} [props.type=text] Type\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const TextField = (props = {}, children = []) =>\n  createField('text-field', props, {\n    autocomplete: 'off',\n    autocorrect: 'off',\n    autocapitalize: 'off',\n    spellcheck: 'false',\n    type: 'text'\n  }, (fieldProps) => h('input', fieldProps));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {number} [props.rows=4] Number of rows\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const TextareaField = (props = {}, children = []) =>\n  createField('textarea-field', props, {\n    rows: 4\n  }, (fieldProps) => h('textarea', fieldProps, children));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const SelectField = (props = {}, children = []) => {\n\n  const getChoices = choices => choices instanceof Array\n    ? choices.map(value => typeof value === 'object' ? value : {value, label: value})\n    : Object.keys(props.choices || {})\n      .map(value => ({value, label: props.choices[value]}));\n\n  const choices = getChoices(props.choices)\n    .map(({value, label}) => {\n      return h('option', {\n        value,\n        selected: props.value === value\n      }, label);\n    });\n\n  const getValue = ev => [ev.target.value, ev.target.textContent];\n  const createSelect = fieldProps => h('div', {}, h('select', fieldProps, [\n    ...choices,\n    ...children\n  ]));\n\n  return createField('select-field', props, {\n    selectedIndex: undefined\n  }, createSelect, getValue);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/*\n * Parses option value\n */\nconst parseValue = value => {\n  try {\n    return JSON.parse(value);\n  } catch (e) {\n    return value;\n  }\n};\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.checked] Value\n * @param {string} [props.type=checkbox] Type\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const ToggleField = (props = {}, children = []) =>\n  createField('toggle-field', props, {\n    type: 'checkbox',\n    checked: false\n  }, (fieldProps) => h('label', {\n\n  }, [\n    h('input', fieldProps),\n    h('span', {\n      class: 'osjs-toggle-input'\n    }),\n    h('span', {\n      class: 'osjs-toggle-label'\n    }, [\n      props.label || '',\n      ...children\n    ])\n  ]), ev => [props.type === 'radio'\n    ? parseValue(ev.target.value)\n    : !!ev.target.checked]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A range field\n * @param {Object} props Properties\n * @param {string} [props.min] Minimum value\n * @param {string} [props.max] Maximum value\n * @param {string} [props.value] Value\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const RangeField = (props = {}, children = []) =>\n  createField('range-field', props, {\n    type: 'range'\n  }, (fieldProps) => h('input', fieldProps));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\nimport nestable from 'hyperapp-nestable';\n\nconst view = (state, actions) => (props, children) => {\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-expander-wrapper']\n  }), [\n    h('div', {\n      class: 'osjs-gui-expander-header',\n      onclick: ev => actions.ontoggle({\n        ev,\n        active: !state.active,\n        ontoggle: props.ontoggle\n      })\n    }, [\n      h('div', {\n        class: 'osjs-gui-expander-header-icon',\n        'data-active': String(state.active)\n      }),\n      h('div', {\n        class: 'osjs-gui-expander-header-label'\n      }, props.label)\n    ]),\n    h('div', {\n      class: 'osjs-gui-expander-content',\n      style: {\n        display: state.active === false ? 'none' : undefined\n      }\n    }, children)\n  ]);\n};\n\nconst inner = nestable({\n  active: true\n}, {\n  init: props => ({\n    ative: props.active !== false\n  }),\n  ontoggle: ({ev, active, ontoggle}) => {\n    const cb = ontoggle || function() {};\n    cb(ev, active);\n    return {active};\n  }\n}, view, 'div');\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {boolean} [props.active] Active state\n * @param {Function} [props.ontoggle] Toggle callback => (ev, active)\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Expander = (props, children) =>\n  h(inner, Object.assign({}, props, {\n    class: 'osjs-gui osjs-gui-expander'\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A label element\n * @param {Object} props Properties\n * @param {string} [props.text] Label Text\n * @param {string} [props.placement] Placement\n * @param {string} [props.for] The \"for\" attribute\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Label = (props = {}, children = []) => {\n  const placement = props.placement || 'top';\n  const text = props.text || '';\n\n  const elementProps = Object.assign({\n    class: ['osjs-gui-field-label', 'osjs-gui-field-label-on-' + placement]\n  }, props.box || {});\n\n  return h(Element, elementProps, [\n    h('label', {for: props.for}, text),\n    children\n  ]);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {Menu} from './components/Menu';\n\n/*\n * Makes sure sub-menus stays within viewport\n */\nconst clampSubMenu = (root, ev) => {\n  let ul = ev.target.querySelector('ul');\n  if (!ul) {\n    return;\n  }\n\n  // FIXME: Safari reports wrong item\n  if (ul.classList.contains('osjs-gui-menu-container')) {\n    ul = ul.parentNode.parentNode;\n  }\n\n  if (!ul || !ul.offsetParent) {\n    return;\n  }\n\n  ul.classList.remove('clamp-right');\n\n  const rect = ul.getBoundingClientRect();\n  if (rect.right > root.offsetWidth) {\n    ul.classList.add('clamp-right');\n  }\n};\n\n/*\n * Makes sure menu stays within viewport\n */\nconst clampMenu = (root, el, currentPosition) => {\n  const result = {};\n  const bottom = currentPosition.top + el.offsetHeight;\n  const right = currentPosition.left + el.offsetWidth;\n  const offY = root.offsetHeight - currentPosition.top;\n  const offX = root.offsetWidth - currentPosition.left;\n  const overflowRight = right > root.offsetWidth;\n  const overflowBottom = bottom > root.offsetHeight;\n\n  if (overflowBottom) {\n    if (root.offsetHeight > el.offsetHeight) {\n      result.top = root.offsetHeight - el.offsetHeight - offY;\n    }\n  }\n\n  if (overflowRight) {\n    result.left = root.offsetWidth - el.offsetWidth - offX;\n  }\n\n  return (overflowBottom || overflowRight) ? result : null;\n};\n\n/*\n * Context Menu view\n */\nconst view = callback => (props, actions) => h(Menu, {\n  position: props.position,\n  visible: props.visible,\n  menu: props.menu,\n  onclick: callback,\n  onshow: actions.onshow\n});\n\nconst timeout = fn => {\n  fn();\n  return setTimeout(fn, 100);\n};\n\n/**\n * ContextMenu Class\n *\n * @desc Handles a Menu/ContextMenu globally for OS.js\n */\nexport class ContextMenu {\n\n  constructor(core) {\n    this.core = core;\n    this.callback = () => {};\n    this.actions = null;\n    this.$element = document.createElement('div');\n  }\n\n  destroy() {\n    this.callback = null;\n    this.actions = null;\n  }\n\n  /**\n   * Initializes the Menu Hyperapp\n   */\n  init() {\n    let clampTimeout;\n\n    this.$element.className = 'osjs-system-context-menu';\n    this.core.$root.appendChild(this.$element);\n\n    let isActive = false;\n\n    this.actions = app({\n      visible: false,\n      menu: [],\n      position: {\n        top: 0,\n        left: 0\n      }\n    }, {\n      clamp: (el) => props => {\n        el = el || document.querySelector('#osjs-context-menu');\n        clearTimeout(clampTimeout);\n\n        if (el) {\n          const root = this.core.$root;\n          const newPosition = clampMenu(root, el, props.position);\n          if (newPosition) {\n            return {position: newPosition};\n          }\n        }\n\n        return {};\n      },\n      onshow: (ev) => props => {\n        clampTimeout = timeout(() => clampSubMenu(this.core.$root, ev));\n      },\n      show: (options) => (props, actions) => {\n        let {menu, position, toggle} = options;\n        if (toggle && isActive) {\n          return actions.hide();\n        } else if (position instanceof Event) {\n          position = {left: position.clientX, top: position.clientY};\n        } else if (position instanceof Element) {\n          const box = position.getBoundingClientRect();\n          position = {\n            left: box.left,\n            top: box.top + box.height\n          };\n        }\n\n        this.callback = (child, ev, iter) => {\n          if (options.callback) {\n            options.callback(child, ev);\n          }\n\n          if (iter.closeable !== false) {\n            actions.hide();\n          }\n        };\n\n        isActive = true;\n        this.onclose = options.onclose;\n\n        timeout(() => actions.clamp());\n\n        return {\n          visible: true,\n          menu: menu || [],\n          position: position || {top: 0, left: 0}\n        };\n      },\n      hide: () => props => {\n        if (isActive) {\n          setTimeout(() => (isActive = false), 0);\n        }\n        if (this.onclose) {\n          this.onclose();\n        }\n        this.onclose = null;\n        this.callback = null;\n\n        return {visible: false};\n      }\n    }, view((...args) => {\n      if (!this.core.destroyed) {\n        if (this.callback) {\n          this.callback(...args);\n        }\n      }\n    }), this.$element);\n  }\n\n  /**\n   * Show the menu\n   */\n  show(...args) {\n    return this.actions ? this.actions.show(...args) : null;\n  }\n\n  /**\n   * Hide the menu\n   */\n  hide(...args) {\n    return this.actions ? this.actions.hide(...args) : null;\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {ContextMenu} from './contextmenu.js';\n\n/*\n * Check if a target allows for context menu\n */\nconst validContextMenuTarget = ev => {\n  const target = ev.target;\n  let isValid = target.tagName === 'TEXTAREA';\n  if (!isValid && target.tagName === 'INPUT') {\n    isValid = ['text', 'password', 'number', 'email'].indexOf(target.type) !== -1;\n  }\n\n  return isValid;\n};\n\n/**\n * OS.js GUI Service Provider\n *\n * @desc Provides wrapper services around GUI features\n */\nexport class GUIServiceProvider {\n\n  constructor(core) {\n    this.core = core;\n    this.contextmenu = new ContextMenu(core);\n  }\n\n  destroy() {\n    const menu = document.getElementById('osjs-context-menu');\n    if (menu) {\n      menu.remove();\n    }\n\n    this.contextmenu.destroy();\n  }\n\n  async init() {\n    const contextmenuApi = {\n      show: (...args) => this.contextmenu.show(...args),\n      hide: (...args) => this.contextmenu.hide(...args)\n    };\n\n    this.core.instance('osjs/contextmenu', (...args) => {\n      if (args.length) {\n        return contextmenuApi.show(...args);\n      }\n\n      return contextmenuApi;\n    });\n\n    this.core.$root.addEventListener('contextmenu', (ev) => {\n      if (validContextMenuTarget(ev)) {\n        return;\n      }\n\n      ev.stopPropagation();\n      ev.preventDefault();\n    });\n  }\n\n  start() {\n    const callback = ev => {\n      const menu = document.getElementById('osjs-context-menu');\n      const hit = menu && menu.contains(ev.target);\n\n      if (!hit && this.contextmenu) {\n        this.contextmenu.hide();\n      }\n    };\n\n    this.core.$root.addEventListener('click', callback, true);\n    this.core.once('destroy', () => {\n      this.core.$root.removeEventListener('click', callback, true);\n    });\n\n    this.contextmenu.init();\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport merge from 'deepmerge';\nimport plain from 'is-plain-object';\nimport {Box, Button, Toolbar} from '@osjs/gui';\n\nlet dialogCount = 0;\n\n/*\n * Default button attributes\n */\nconst defaultButtons = (_) => ({\n  ok: {label: _('LBL_OK'), positive: true},\n  close: {label: _('LBL_CLOSE')},\n  cancel: {label: _('LBL_CANCEL')},\n  yes: {label: _('LBL_YES'), positive: true},\n  no: {label: _('LBL_NO')}\n});\n\n/*\n * Creates a button from name\n */\nconst defaultButton = (n, _) => {\n  const defs = defaultButtons(_);\n  if (defs[n]) {\n    return Object.assign({}, {\n      name: n\n    }, defs[n]);\n  }\n\n  return {label: n, name: n};\n};\n\n/*\n * Creates options\n */\nconst createOptions = (options, args) =>\n  merge({\n    id: null,\n    className: 'unknown',\n    defaultValue: null,\n    buttons: [],\n    sound: null,\n    window: {\n      id: options.id || 'Dialog_' + String(dialogCount),\n      title: 'Dialog',\n      attributes: {\n        gravity: 'center',\n        resizable: false,\n        maximizable: false,\n        minimizable: false,\n        sessionable: false,\n        classNames: [\n          'osjs-dialog',\n          `osjs-${options.className || 'unknown'}-dialog`\n        ],\n        minDimension: {\n          width: 300,\n          height: 100\n        },\n      }\n    }\n  }, options, {\n    isMergeableObject: plain\n  });\n\n/**\n * OS.js default Dialog implementation\n *\n * Creates a Window with predefined content and actions(s)\n */\nexport default class Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {Object} options Dialog options (including Window)\n   * @param {Object} [options.defaultValue] Default callback value\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, options, callback) {\n    this.core = core;\n    this.args = args;\n    this.callback = callback || function() {};\n    this.options = createOptions(options, args);\n    this.win = null;\n    this.value = undefined;\n    this.calledBack = false;\n\n    const _ = core.make('osjs/locale').translate;\n\n    this.buttons = this.options.buttons.map(n =>\n      typeof n === 'string'\n        ? defaultButton(n, _)\n        : {\n          label: n.label || 'button',\n          name: n.name || 'unknown'\n        });\n\n    dialogCount++;\n  }\n\n  /**\n   * Destroys the dialog\n   */\n  destroy() {\n    this.win.destroy();\n    this.win = null;\n    this.callback = null;\n  }\n\n  /**\n   * Renders the dialog\n   * @param {Function} cb Callback from window\n   */\n  render(options, cb) {\n    const opts = merge(this.options.window || {}, options, {\n      isMergeableObject: plain\n    });\n\n    this.win = this.core.make('osjs/window', opts);\n\n    this.win.on('keydown', (ev, win) => {\n      if (ev.keyCode === 27) {\n        this.emitCallback(this.getNegativeButton(), null, true);\n      }\n    });\n\n    this.win.on('dialog:button', (name, ev) => {\n      this.emitCallback(name, ev, true);\n    });\n\n    this.win.on('destroy', () => {\n      this.emitCallback('destroy');\n    });\n\n    this.win.on('render', () => {\n      // this.win.resizeFit();\n      this.win.focus();\n\n      const focusButton = this.getNegativeButton();\n      const btn = focusButton ? this.win.$content.querySelector(`button[name=${focusButton}]`) : null;\n      if (btn) {\n        btn.focus();\n      }\n\n      this.playSound();\n    });\n\n    this.win.init();\n    this.win.render(cb);\n    this.win.focus();\n\n    return this;\n  }\n\n  /**\n   * Creates the default view\n   * @param {Object[]} children Child nodes\n   * @param {Object} [state] Pass on application state (mainly used for buttons)\n   * @return {Object} Virtual dom node\n   */\n  createView(children, state = {}) {\n    return h(Box, {grow: 1, shrink: 1}, [\n      ...children,\n      h(Toolbar, {class: 'osjs-dialog-buttons'}, [\n        ...this.createButtons(state.buttons || {})\n      ])\n    ]);\n  }\n\n  /**\n   * Gets the button (virtual) DOM elements\n   * @param {Object} [states] Button states\n   * @return {Object[]} Virtual dom node children list\n   */\n  createButtons(states = {}) {\n    const onclick = (n, ev) => {\n      this.win.emit('dialog:button', n, ev);\n    };\n\n    return this.buttons.map(b => h(Button, Object.assign({}, {\n      disabled: states[b.name] === false,\n      onclick: ev => onclick(b.name, ev)\n    }, b)));\n  }\n\n  /**\n   * Emits the callback\n   * @param {String} name Button or action name\n   * @param {Event} [ev] Browser event reference\n   * @param {Boolean} [close=false] Close dialog\n   */\n  emitCallback(name, ev, close = false) {\n    if (this.calledBack) {\n      return;\n    }\n    this.calledBack = true;\n\n    console.debug('Callback in dialog', name, ev, close);\n\n    this.callback(name, this.getValue(), ev);\n\n    if (close) {\n      this.destroy();\n    }\n  }\n\n  /**\n   */\n  playSound() {\n    if (this.core.has('osjs/sounds')) {\n      const snd = this.options.sound;\n      if (snd) {\n        this.core.make('osjs/sounds').play(snd);\n\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Gets the first positive button\n   * @return {String|undefined}\n   */\n  getPositiveButton() {\n    const found = this.buttons.find(b => b.positive === true);\n    return found ? found.name : null;\n  }\n\n  /**\n   * Gets the first negative button\n   * @return {String|undefined}\n   */\n  getNegativeButton() {\n    const found = this.buttons.find(b => !b.positive);\n    return found ? found.name : null;\n  }\n\n  /**\n   * Gets the dialog result value\n   * @return {*}\n   */\n  getValue() {\n    return typeof this.value === 'undefined'\n      ? this.options.defaultValue\n      : this.value;\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {Box, TextareaField} from '@osjs/gui';\nimport Dialog from '../dialog';\n\n/**\n * Default OS.js Alert Dialog\n */\nexport default class AlertDialog extends Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {String} [args.title='Alert'] Dialog title\n   * @param {String} [args.message=''] Dialog message\n   * @param {String} [args.type='info'] Alert type (info/warning/error)\n   * @param {String} [args.sound='bell'] Sound\n   * @param {Error|*} [args.error] When 'alert' type is set this error stack or message will appear in a textbox\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, callback) {\n    args = Object.assign({}, {\n      title: 'Alert',\n      type: 'info',\n      message: ''\n    }, args);\n\n    if (typeof args.sound === 'undefined') {\n      args.sound = args.type === 'error' ? 'bell' : 'message';\n    }\n\n    super(core, args, {\n      className: 'alert',\n      sound: args.sound,\n      window: {\n        title: args.title,\n        attributes: {\n          ontop: args.type === 'error',\n          minDimension: {\n            width: 400,\n            height: 220\n          }\n        }\n      },\n      buttons: ['close']\n    }, callback);\n  }\n\n  render(options) {\n    super.render(options, ($content) => {\n      const children = [\n        h('div', {class: 'osjs-dialog-message'}, String(this.args.message))\n      ];\n\n      if (this.args.type === 'error') {\n        const {error} = this.args;\n        const msg = error instanceof Error\n          ? (error.stack ? error.stack : error)\n          : String(error);\n\n        children.push(h(TextareaField, {value: msg, readonly: true, placeholder: this.args.message}));\n      }\n\n      app({}, {}, (state, actions) => this.createView([\n        h(Box, {grow: 1}, children)\n      ]), $content);\n    });\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport Dialog from '../dialog';\nimport {Box} from '@osjs/gui';\n\n/**\n * Default OS.js Confirm Dialog\n */\nexport default class ConfirmDialog extends Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {String} [args.title] Dialog title\n   * @param {String} [args.message] Dialog message\n   * @param {Boolean} [args.yesno=true] Yes/No or Ok/Cancel\n   * @param {String[]} [args.buttons] Custom buttons\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, callback) {\n    const yesno = typeof args.yesno === 'undefined' || args.yesno === true;\n\n    const buttons = args.buttons instanceof Array\n      ? args.buttons\n      : yesno ? ['yes', 'no'] : ['ok', 'cancel'];\n\n    super(core, args, {\n      className: 'confirm',\n      window: {\n        title: args.title || 'Confirm',\n        attributes: {\n          minDimension: {\n            height: 140\n          }\n        }\n      },\n      buttons\n    }, callback);\n  }\n\n  render(options) {\n    super.render(options, ($content) => {\n      app({}, {}, (state, actions) => this.createView([\n        h(Box, {grow: 1}, [\n          h('div', {class: 'osjs-dialog-message'}, String(this.args.message))\n        ])\n      ]), $content);\n    });\n  }\n\n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport Dialog from '../dialog';\nimport {Box, TextField} from '@osjs/gui';\n\n/**\n * Default OS.js Prompt Dialog\n */\nexport default class PromptDialog extends Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {String} [args.title] Dialog title\n   * @param {String} [args.message] Dialog message\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, callback) {\n    super(core, Object.assign({}, {\n      value: '',\n      placeholder: '',\n    }, args), {\n      className: 'prompt',\n      buttons: ['ok', 'cancel'],\n      window: {\n        title: args.title || 'Prompt',\n        attributes: {\n          minDimension: {\n            width: 500,\n            height: 200\n          }\n        }\n      }\n    }, callback);\n\n    this.value = this.args.value;\n  }\n\n  render(options) {\n    super.render(options, ($content) => {\n      app({\n        value: this.args.value\n      }, {\n        setValue: value => state => {\n          this.value = value;\n          return {value};\n        }\n      }, (state, actions) => this.createView([\n        h(Box, {grow: 1, padding: false}, [\n          h(Box, {class: 'osjs-dialog-message'}, String(this.args.message)),\n          h(TextField, {\n            value: state.value,\n            placeholder: this.args.placeholder,\n            onenter: (ev, value) => {\n              actions.setValue(value);\n\n              this.emitCallback(this.getPositiveButton(), ev, true);\n            },\n            oninput: (ev, value) => actions.setValue(value)\n          })\n        ])\n      ]), $content);\n    });\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport Dialog from '../dialog';\nimport {Box, Progressbar} from '@osjs/gui';\n\n/**\n * Default OS.js Progress Dialog\n */\nexport default class ProgressDialog extends Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {String} [args.title] Dialog title\n   * @param {String} [args.message] Dialog message\n   * @param {String} [args.status] Dialog status message\n   * @param {String} [args.progress] Initial progress value\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, callback) {\n    super(core, args, {\n      className: 'progress',\n      buttons: ['cancel'],\n      window: {\n        title: args.title || 'Progress',\n        attributes: {\n          minDimension: {\n            width: 500,\n            height: 200\n          }\n        }\n      }\n    }, callback);\n\n    this.value = this.args.progress || 0;\n    this.status = this.args.status || '';\n    this.app = null;\n  }\n\n  render(options) {\n    super.render(options, ($content) => {\n      this.app = app({\n        progress: this.value,\n        status: this.status\n      }, {\n        setProgress: progress => state => ({progress}),\n        setStatus: status => state => ({status})\n      }, (state, actions) => this.createView([\n        h(Box, {grow: 1, shrink: 1}, [\n          h('div', {class: 'osjs-dialog-message'}, String(this.args.message)),\n          h('div', {class: 'osjs-dialog-status'}, String(state.status)),\n          h(Progressbar, {value: state.progress})\n        ])\n      ]), $content);\n    });\n  }\n\n  /**\n   * Set the progress value\n   * @param {Number} value A value between 0 and 100\n   */\n  setProgress(value) {\n    this.app.setProgress(value);\n  }\n\n  /**\n   * Set the status text\n   * @param {String} status Status text\n   */\n  setStatus(status) {\n    this.app.setStatus(status);\n  }\n\n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport Dialog from '../dialog';\nimport {\n  Box,\n  BoxContainer,\n  TextField,\n  RangeField\n} from '@osjs/gui';\n\n/*\n * Creates a palette canvas\n */\nconst createPalette = (width, height) => {\n  let gradient;\n\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n\n  const ctx = canvas.getContext('2d');\n\n  gradient = ctx.createLinearGradient(0, 0, ctx.canvas.width, 0);\n  gradient.addColorStop(0,    'rgb(255,   0,   0)');\n  gradient.addColorStop(0.15, 'rgb(255,   0, 255)');\n  gradient.addColorStop(0.33, 'rgb(0,     0, 255)');\n  gradient.addColorStop(0.49, 'rgb(0,   255, 255)');\n  gradient.addColorStop(0.67, 'rgb(0,   255,   0)');\n  gradient.addColorStop(0.84, 'rgb(255, 255,   0)');\n  gradient.addColorStop(1,    'rgb(255,   0,   0)');\n\n  ctx.fillStyle = gradient;\n  ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n  gradient = ctx.createLinearGradient(0, 0, 0, ctx.canvas.height);\n  gradient.addColorStop(0,   'rgba(255, 255, 255, 1)');\n  gradient.addColorStop(0.5, 'rgba(255, 255, 255, 0)');\n  gradient.addColorStop(0.5, 'rgba(0,     0,   0, 0)');\n  gradient.addColorStop(1,   'rgba(0,     0,   0, 1)');\n\n  ctx.fillStyle = gradient;\n  ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n  return canvas;\n};\n\n/*\n * Converts hex to its component values\n */\nconst hexToComponent = hex => {\n  const rgb = parseInt(hex.replace('#', ''), 16);\n  const val = {};\n  val.r = (rgb & (255 << 16)) >> 16;\n  val.g = (rgb & (255 << 8)) >> 8;\n  val.b = (rgb & 255);\n  return val;\n};\n\n/*\n * Convert component values into hex\n */\nconst componentToHex = ({r, g, b}) => {\n  const hex = [\n    parseInt(r, 10).toString(16),\n    parseInt(g, 10).toString(16),\n    parseInt(b, 10).toString(16)\n  ].map(i => String(i).length === 1 ? '0' + String(i) : i);\n\n  return '#' + hex.join('').toUpperCase();\n};\n\n/*\n * Gets the color of a clicked palette area\n */\nconst colorFromClick = (ev, canvas) => {\n  const {clientX, clientY} = ev;\n  const box = canvas.getBoundingClientRect();\n  const cx = clientX - box.x;\n  const cy = clientY - box.y;\n  const ctx = canvas.getContext('2d');\n  const {data} = ctx.getImageData(cx, cy, 1, 1);\n  const [r, g, b] = data;\n  const hex = componentToHex({r, g, b});\n  return {r, g, b, hex};\n};\n\n/**\n * Default OS.js Color Dialog\n */\nexport default class ColorDialog extends Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {String} [args.title] Dialog title\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, callback) {\n    super(core, args, {\n      className: 'color',\n      buttons: ['ok', 'cancel'],\n      window: {\n        title: args.title || 'Select Color',\n        attributes: {\n          minDimension: {\n            width: 500,\n            height: 260\n          }\n        }\n      }\n    }, callback);\n\n    this.value = {r: 0, g: 0, b: 0, hex: '#000000'};\n\n    let color = args.color;\n    if (color) {\n      if (typeof color === 'string') {\n        if (color.substr(0, 1) !== '#') {\n          color = '#' + color;\n        }\n\n        this.value = Object.assign({}, this.value, hexToComponent(args.color));\n        this.value.hex = args.color;\n      } else {\n        this.value = Object.assign({}, this.value, args.color);\n        this.value.hex = componentToHex(this.value);\n      }\n    }\n  }\n\n  render(options) {\n    super.render(options, ($content) => {\n      const canvas = createPalette(98, 98);\n      const initialState = Object.assign({}, this.value);\n      const initialActions = {\n        setColor: color => state => color,\n        setComponent: ({color, value}) => state => {\n          this.value[color] = value;\n          return {[color]: value};\n        },\n        updateHex: () => state => {\n          const hex = componentToHex(state);\n          this.value.hex = hex;\n          return {hex};\n        }\n      };\n\n      const rangeContainer = (c, v, actions) =>\n        h(Box, {orientation: 'vertical', align: 'center', padding: false}, [\n          h(Box, {shrink: 1}, h('div', {}, c.toUpperCase())),\n          h(RangeField, {\n            box: {grow: 1},\n            min: 0,\n            max: 255,\n            value: v,\n            oncreate: el => (el.value = v),\n            oninput: (ev, value) => {\n              actions.setComponent({color: c, value});\n            },\n            onchange: (ev, value) => {\n              actions.updateHex();\n            }\n          }),\n          h(TextField, {\n            box: {shrink: 1, basis: '5em'},\n            value: String(v),\n            oninput: (ev, value) => {\n              actions.setComponent({color: c, value});\n              actions.updateHex();\n            }\n          })\n        ]);\n\n      const a = app(initialState, initialActions, (state, actions) => this.createView([\n        h(Box, {orientation: 'vertical', grow: 1, shrink: 1}, [\n          h(BoxContainer, {orientation: 'horizontal'}, [\n            h('div', {\n              class: 'osjs-gui-border',\n              style: {display: 'inline-block'},\n              oncreate: el => el.appendChild(canvas)\n            }),\n            h(TextField, {\n              value: state.hex,\n              style: {width: '100px', color: state.hex}\n            })\n          ]),\n          h(Box, {padding: false, grow: 1, shrink: 1}, [\n            rangeContainer('r', state.r, actions),\n            rangeContainer('g', state.g, actions),\n            rangeContainer('b', state.b, actions)\n          ])\n        ])\n      ]), $content);\n\n      canvas.addEventListener('click', ev => {\n        const color = colorFromClick(ev, canvas);\n        if (color) {\n          a.setColor(color);\n          a.updateHex();\n        }\n      });\n    });\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport Dialog from '../dialog';\nimport {\n  Toolbar,\n  SelectField,\n  TextareaField\n} from '@osjs/gui';\n\n/**\n * Default OS.js Font Dialog\n */\nexport default class FontDialog extends Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {number} [args.minSize=6] Minimum size\n   * @param {number} [args.maxSize] Maximum size\n   * @param {string} [args.unit=px] Unit\n   * @param {string} [args.name] Initial font name\n   * @param {number} [args.size] Initial font size\n   * @param {string} [args.text] What text to preview\n   * @param {string[]} [args.controls] What controls to show\n   * @param {string[]} [args.fonts] List of fonts\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, callback) {\n    args = Object.assign({}, {\n      title: 'Chose Font',\n      minSize: 6,\n      maxSize: 48,\n      unit: 'px',\n      name: 'Roboto',\n      size: 10,\n      style: 'regular',\n      text: 'The quick brown fox jumps over the lazy dog',\n      controls: ['size', 'name', 'style'],\n      fonts: [\n        'Roboto',\n        'arial',\n        'sans-serif',\n        'monospace'\n      ]\n    }, args);\n\n    super(core, args, {\n      className: 'info',\n      window: {\n        title: args.title,\n        attributes: {\n          minDimension: {\n            width: 400,\n            height: 200\n          }\n        }\n      },\n      buttons: ['ok', 'cancel']\n    }, callback);\n\n    this.value = {\n      name: this.args.name,\n      size: this.args.size,\n      style: this.args.style\n    };\n  }\n\n  render(options) {\n    const fontSizes = Array(this.args.maxSize - this.args.minSize)\n      .fill(0)\n      .map((v, i) => this.args.minSize + i)\n      .reduce((o, i) => Object.assign(o, {[i]: i}), {});\n\n    const fontNames = this.args.fonts\n      .reduce((o, i) => {\n        const k = i.toLowerCase();\n        return Object.assign(o, {[k]: i});\n      }, {});\n\n    const fontStyles = {\n      'regular': 'Regular',\n      'bold': 'Bold',\n      'italic': 'Italic'\n    };\n\n    const initialState = Object.assign({}, this.value);\n    const initialActions = {\n      setSize: size => state => {\n        this.value.size = size;\n        return {size};\n      },\n      setFont: name => state => {\n        this.value.name = name;\n        return {name};\n      },\n      setStyle: style => state => {\n        this.value.style = style;\n        return {style};\n      }\n    };\n\n    super.render(options, ($content) => {\n      app(initialState, initialActions, (state, actions) => this.createView([\n        h(Toolbar, {}, [\n          h(SelectField, {\n            box: {grow: 1, style: {display: this.args.controls.indexOf('size') !== -1 ? 'flex' : 'none'}},\n            value: state.size,\n            choices: fontSizes,\n            onchange: (ev, v) => actions.setSize(v)\n          }),\n          h(SelectField, {\n            box: {grow: 1, style: {display: this.args.controls.indexOf('name') !== -1 ? 'flex' : 'none'}},\n            value: state.name.toLowerCase(),\n            choices: fontNames,\n            onchange: (ev, v) => actions.setFont(v)\n          }),\n          h(SelectField, {\n            box: {grow: 1, style: {display: this.args.controls.indexOf('style') !== -1 ? 'flex' : 'none'}},\n            value: state.size,\n            choices: fontStyles,\n            onchange: (ev, v) => actions.setStyle(v)\n          })\n        ]),\n        h(TextareaField, {\n          box: {grow: 1},\n          value: this.args.text,\n          style: {\n            fontFamily: state.name,\n            fontSize: `${state.size}${this.args.unit}`,\n            fontWeight: state.style === 'bold' ? 'bold' : 'normal',\n            fontStyle: state.style !== 'bold' ? state.style : 'normal',\n            height: '4rem',\n            overflow: 'hidden',\n            whiteSpace: 'nowrap'\n          }\n        })\n      ]), $content);\n    });\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport Dialog from '../dialog';\nimport {\n  TextField,\n  SelectField,\n  listView\n} from '@osjs/gui';\n\nconst getMountpoint = str => str\n  .split(':')[0] + ':/';\n\nconst getMountpoints = core => core.make('osjs/fs')\n  .mountpoints(true)\n  .filter(mount => {\n    return !(mount.attributes.readOnly && mount.attributes.visibility === 'restricted');\n  })\n  .reduce((mounts, iter) => Object.assign(mounts, {\n    [iter.root]: iter.label\n  }), {});\n\n/**\n * Default OS.js File Dialog\n */\nexport default class FileDialog extends Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {String} [args.title] Dialog title\n   * @param {String} [args.type='open'] Dialog type (open/save)\n   * @param {String} [args.path] Current path\n   * @param {String} [args.filetype='file'] Dialog filetype (file/directory)\n   * @param {String} [args.filename] Current filename\n   * @param {String[]} [args.mime] Mime filter\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, callback) {\n    args = Object.assign({}, {\n      title: null,\n      type: 'open',\n      filetype: 'file',\n      path: core.config('vfs.defaultPath'),\n      filename: null,\n      mime: []\n    }, args);\n\n    if (typeof args.path === 'string') {\n      args.path = {path: args.path};\n    }\n\n    try {\n      args.path = Object.assign({\n        isDirectory: true,\n        filename: args.path.path.split(':/')[1].split('/').pop() || ''\n      }, args.path);\n    } catch (e) {\n      console.warn(e);\n    }\n\n    const _ = core.make('osjs/locale').translate;\n    const title = args.title\n      ? args.title\n      : (args.type === 'open' ? _('LBL_OPEN') : _('LBL_SAVE'));\n\n    super(core, args, {\n      className: 'file',\n      window: {\n        title,\n        attributes: {\n          resizable: true\n        },\n        dimension: {\n          width: 400,\n          height: 400\n        }\n      },\n      buttons: ['ok', 'cancel']\n    }, callback);\n  }\n\n  render(options) {\n    const getFileIcon = file => this.core.make('osjs/fs').icon(file);\n    const startingLocation = this.args.path;\n\n    super.render(options, ($content) => {\n      const a = app({\n        mount: startingLocation ? getMountpoint(startingLocation.path) : null,\n        filename: this.args.filename,\n        listview: listView.state({\n          columns: [{\n            label: 'Name'\n          }, {\n            label: 'Type'\n          }, {\n            label: 'Size'\n          }]\n        }),\n        buttons: {\n          ok: this.args.filetype === 'directory'\n            ? true\n            : !!this.args.filename\n        }\n      }, {\n        _readdir: ({path, files}) => (state, actions) => {\n          const listview = state.listview;\n          listview.selectedIndex = -1;\n          listview.rows = files.map(file => ({\n            columns: [{\n              label: file.filename,\n              icon: getFileIcon(file)\n            }, file.mime, file.humanSize],\n            data: file\n          }));\n\n          return {path, listview};\n        },\n\n        setButtonState: btn => state => ({\n          buttons: Object.assign({}, state.buttons, btn)\n        }),\n\n        setMountpoint: mount => (state, actions) => {\n          actions.setPath({path: mount});\n\n          return {mount};\n        },\n\n        setPath: file => async (state, actions) => {\n          const files = await this.core.make('osjs/vfs')\n            .readdir(file, {\n              filter: (item) => {\n                if (this.args.filetype === 'directory') {\n                  return item.isDirectory === true;\n                } else if (this.args.mime.length) {\n                  return item.mime\n                    ? this.args.mime.some(test => (new RegExp(test)).test(item.mime))\n                    : true;\n                }\n\n                return true;\n              }\n            });\n\n          this.args.path = file;\n\n          actions._readdir({path: file.path, files});\n\n          if (this.args.filetype === 'file') {\n            actions.setButtonState({ok: this.args.type === 'save' ? !!this.args.filename : false});\n          }\n        },\n\n        setFilename: filename => state => ({filename}),\n\n        listview: listView.actions({\n          select: ({data}) => {\n            a.setFilename(data.isFile ? data.filename : null);\n            this.value = data.isFile ? data : null;\n\n            if (this.args.filetype === 'file' && data.isFile) {\n              a.setButtonState({ok: true});\n            }\n          },\n          activate: ({data, ev}) => {\n            if (data.isDirectory) {\n              a.setFilename(null);\n              a.setPath(data);\n            } else {\n              this.value = data.isFile ? data : null;\n              this.emitCallback(this.getPositiveButton(), ev, true);\n            }\n          },\n        })\n      }, (state, actions) => this.createView([\n        h(SelectField, {\n          choices: getMountpoints(this.core),\n          onchange: (ev, val) => a.setMountpoint(val),\n          value: state.mount\n        }),\n        h(listView.component(Object.assign({\n          box: {grow: 1, shrink: 1}\n        }, state.listview), actions.listview)),\n        h(TextField, {\n          placeholder: 'Filename',\n          value: state.filename,\n          onenter: (ev, value) => this.emitCallback(this.getPositiveButton(), ev, true),\n          oninput: (ev) => {\n            const filename = ev.target.value;\n            actions.setButtonState({ok: !!filename});\n            actions.setFilename(filename);\n          },\n          box: {\n            style: {display: this.args.type === 'save' ? null : 'none'}\n          }\n        })\n      ], state), $content);\n\n      a.setPath(startingLocation);\n    });\n  }\n\n  emitCallback(name, ev, close = false) {\n    if (this.calledBack) {\n      return;\n    }\n\n    const file = this.getValue();\n    const next = () => super.emitCallback(name, ev, close);\n    const isSave = this.args.type === 'save';\n    const buttonCancel = name === 'cancel';\n    const hasVfs = this.core.has('osjs/vfs');\n\n    const confirm = callback => this.core.make('osjs/dialog', 'confirm', {\n      message: `Do you want to overwrite ${file.path}?`\n    }, {\n      parent: this.win,\n      attributes: {modal: true}\n    }, (btn) => {\n      if (btn === 'yes') {\n        callback();\n      }\n    });\n\n    if (file && isSave && hasVfs && !buttonCancel) {\n      this.core\n        .make('osjs/vfs')\n        .exists(file)\n        .then(exists => {\n          if (exists) {\n            confirm(() => next());\n          } else {\n            next();\n          }\n        })\n        .catch(error => {\n          console.error(error);\n          next();\n        });\n    } else {\n      next();\n    }\n  }\n\n  getValue() {\n    if (this.args.type === 'save') {\n      const {path} = this.args.path;\n      const filename = this.win.$content.querySelector('input[type=text]')\n        .value;\n\n      return filename\n        ? Object.assign({}, this.args.path, {\n          filename,\n          path: path.replace(/\\/?$/, '/') + filename\n        })\n        : undefined;\n    } else {\n      if (this.args.filetype === 'directory') {\n        return this.args.path;\n      }\n    }\n\n    return super.getValue();\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {SelectField, Box} from '@osjs/gui';\nimport Dialog from '../dialog';\n\n/**\n * Default OS.js Choice Dialog\n */\nexport default class ChoiceDialog extends Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {String} [args.title] Dialog title\n   * @param {String} [args.message] Dialog message\n   * @param {String} [args.value] Set default selected value\n   * @param {Map<String,*>} [args.choices] Choice map\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, callback) {\n    args = Object.assign({}, {\n      title: 'Choice',\n      message: '',\n      value: undefined,\n      choices: {}\n    }, args);\n\n    super(core, args, {\n      className: 'alert',\n      window: {\n        title: args.title,\n        attributes: {\n          ontop: args.type === 'error'\n        },\n        dimension: {\n          width: 400,\n          height: 200\n        }\n      },\n      buttons: ['ok', 'close']\n    }, callback);\n\n    this.value = typeof args.value !== 'undefined'\n      ? this.args.value\n      : Object.keys(this.args.choices)[0];\n  }\n\n  render(options) {\n    super.render(options, ($content) => {\n      app({\n        current: this.value\n      }, {\n        setCurrent: current => state => {\n          this.value = current;\n\n          return {current};\n        }\n      }, (state, actions) => this.createView([\n        h(Box, {grow: 1}, [\n          h('div', {class: 'osjs-dialog-message'}, String(this.args.message)),\n          h(SelectField, {\n            choices: this.args.choices,\n            value: state.current,\n            onchange: (ev, val) => actions.setCurrent(val)\n          })\n        ])\n      ]), $content);\n    });\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {SelectField, ToggleField, Box} from '@osjs/gui';\nimport Dialog from '../dialog';\n\n/**\n * Default OS.js DefaultApplication Dialog\n */\nexport default class DefaultApplicationDialog extends Dialog {\n\n  /**\n   * Constructor\n   * @param {Core} core OS.js Core reference\n   * @param {Object} args Arguments given from service creation\n   * @param {String} [args.title] Dialog title\n   * @param {String} [args.message] Dialog message\n   * @param {*} [args.checked] Default checked state\n   * @param {*} [args.value] Default value\n   * @param {Map<String,*>} [args.choices] DefaultApplication map\n   * @param {Function} callback The callback function\n   */\n  constructor(core, args, callback) {\n    args = Object.assign({}, {\n      title: 'DefaultApplication',\n      message: '',\n      choices: {}\n    }, args);\n\n    super(core, args, {\n      className: 'alert',\n      window: {\n        title: args.title,\n        dimension: {\n          width: 400,\n          height: 200\n        }\n      },\n      buttons: ['ok', 'close']\n    }, callback);\n\n    this.value = {\n      value: args.value || Object.keys(this.args.choices)[0],\n      checked: args.checked === true\n    };\n\n  }\n\n  render(options) {\n    const setLocalState = (oldState, newState) => {\n      const state = Object.assign({}, oldState, newState);\n      this.value = state;\n      return state;\n    };\n\n    super.render(options, ($content) => {\n      app(this.value, {\n        setValue: value => state => setLocalState(state, {value}),\n        setChecked: checked => state => setLocalState(state, {checked})\n      }, (state, actions) => this.createView([\n        h(Box, {grow: 1}, [\n          h('div', {class: 'osjs-dialog-message'}, String(this.args.message)),\n          h(SelectField, {\n            choices: this.args.choices,\n            value: state.value,\n            onchange: (ev, val) => actions.setValue(val)\n          }),\n          h(ToggleField, {\n            label: this.args.label || 'Use as default',\n            checked: state.checked,\n            onchange: (ev, val) => actions.setChecked(val)\n          })\n        ])\n      ]), $content);\n    });\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport Dialog from '../dialog';\n\n/**\n * Custom OS.js Dialog\n */\nexport default class CustomDialog extends Dialog {\n\n  constructor(core, options, valueCallback, callback) {\n    super(core, {}, options, callback);\n\n    this.valueCallback = valueCallback;\n  }\n\n  render(render) {\n    return super.render({}, ($content, win) => render($content, win, this));\n  }\n\n  getValue() {\n    return this.valueCallback(this);\n  }\n\n}\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * Elemet Box definition\n * @property {string} [class] Container class name\n * @property {number} [grow] Flexbox grow value\n * @property {number} [shrink] Flexbox shrink value\n * @property {number|string} [basis] Flexbox basis value\n * @property {string} [align] Flexbox alignItems value\n * @property {string} [justify] Flexbox justifyContent value\n * @property {number|string} [padding] Margin\n * @property {number|string} [margin] Margin\n * @property {string} [key] Hyperapp element key\n * @property {Function} [oncreate] Hyperapp oncreate function\n * @property {Function} [onupdate] Hyperapp onupdate function\n * @property {Function} [ondestroy] Hyperapp ondestroy function\n * @typedef BoxProperties\n */\n\nconst unitValue = (value, unset) => typeof value === 'number'\n  ? `${value}px`\n  : (value === false ? unset : value);\n\nconst boxPropNames = {\n  grow: value => ({flexGrow: value}),\n  shrink: value => ({flexShrink: value}),\n  basis: value => ({flexBasis: unitValue(value, 'auto')}),\n  align: value => ({alignItems: value}),\n  justify: value => ({justifyContent: value}),\n  padding: value => ({margin: unitValue(value, '0')}),\n  margin: value => ({margin: unitValue(value, '0')})\n};\n\n/**\n * A generic OS.js GUI container\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const Element = (props, children = []) => {\n  const givenClassNames = props.class instanceof Array\n    ? props.class\n    : [props.class];\n\n  const classNames = [\n    'osjs-gui',\n    ...givenClassNames\n  ];\n\n  if (props.orientation) {\n    classNames.push('osjs-gui-' + props.orientation);\n  }\n\n  const defaultStyle = typeof props.style === 'string'\n    ? {}\n    : Object.assign({}, props.style || {});\n\n  const style = Object.keys(props).reduce((result, prop) => {\n    const value = boxPropNames[prop]\n      ? boxPropNames[prop](props[prop])\n      : undefined;\n\n    return Object.assign({}, result, value);\n  }, defaultStyle);\n\n  return h('div', {\n    oncreate: props.oncreate,\n    ondestroy: props.ondestroy,\n    class: classNames.filter(s => !!s).join(' '),\n    style\n  }, children);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='horizontal'] Box orientation\n * @param {h[]} children Children\n */\nexport const Box = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'horizontal'\n  }, props, {\n    class: ['osjs-gui-box', props.class],\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A flexbox container\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='vertical'] Box orientation\n * @param {h[]} children Children\n */\nexport const BoxContainer = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-container', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A styled flexbox container\n * @param {BoxProperties} props Properties\n * @param {h[]} children Children\n */\nexport const BoxStyled = (props, children) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-box-styled', props.class]\n  }), children);\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * An icon\n * @param {Object} props Properties\n * @param {string} props.src Icon src\n * @param {string} [props.name] Icon name\n * @param {h[]} children Children\n */\nexport const Icon = (props, children) => {\n  const i = props && typeof props === 'object'\n    ? props.src\n    : props;\n\n  const n = props && typeof props === 'object'\n    ? props.name\n    : undefined;\n\n  return h('i', {\n    'data-icon': n,\n    class: 'osjs-icon',\n    style: {\n      backgroundImage: typeof props === 'string' ? `url(${i})` : undefined\n    }\n  });\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\n/**\n * Filter an object based on keys\n * @param {Object} props Props\n * @param {String[]} filterKeys List of keys to filter\n * @return {Object}\n */\nexport const filteredProps = (props, filterKeys) => {\n  const keys = Object.keys(props);\n  const filter = k => filterKeys.indexOf(k) === -1;\n\n  return keys\n    .filter(filter)\n    .reduce((result, k) => Object.assign({\n      [k]: props[k]\n    }, result), {});\n};\n\n/**\n * Creates a double-tap event handler\n * @param {number} [timeout=250] Timeout\n * @return {Function} Handler with => (ev, cb)\n */\nexport const doubleTap = (timeout = 250) => {\n  let tapped = false;\n  let timer;\n\n  return (ev, cb) => {\n    timer = clearTimeout(timer);\n    timer = setTimeout(() => (tapped = false), timeout);\n\n    if (tapped) {\n      ev.preventDefault();\n      return cb(ev);\n    }\n\n    tapped = true;\n\n    return false;\n  };\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\nimport {h} from 'hyperapp';\nimport {filteredProps} from './utils';\nimport {Element} from './components/Element';\n\n/**\n * Creates a new field Element wrapper\n * @param {String} name Field name\n * @param {Object} props Field props\n * @param {Function} cb Callback to create inner element => (props)\n * @param {Function} cb Callback to get value => (event)\n */\nexport const createField = (name, props, defaultProps, cb, cbInput) => {\n  const oninput = props.oninput || function() {};\n  const onchange = props.onchange || function() {};\n  const onkeydown = props.onkeydown || function() {};\n\n  const getValue = cbInput || (ev => [ev.target.value]);\n  const fieldProps = Object.assign(\n    {\n      oninput: ev => oninput(ev, ...getValue(ev)),\n      onchange: ev => onchange(ev, ...getValue(ev)),\n      onkeydown: ev => {\n        if (ev.keyCode === 13 && props.onenter) {\n          props.onenter(ev, ...getValue(ev));\n        }\n        onkeydown(ev);\n      }\n    },\n    defaultProps,\n    filteredProps(props, ['choices', 'label', 'box', 'oninput', 'onchange'])\n  );\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: 'osjs-gui-field osjs-gui-' + name\n  }), cb(fieldProps));\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\nimport {createField} from '../element';\n\n/**\n * A button\n * @param {Object} props Properties\n * @param {string} [props.icon] Icon source\n * @param {string} [props.label] Use this as label instead of children\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Button = (props = {}, children = []) =>\n  createField('button', props, {\n  }, (fieldProps) => {\n    const inner = [];\n    if (props.icon) {\n      inner.push(h(Icon, props.icon));\n    }\n\n    if (typeof props.label === 'string') {\n      inner.push(h('span', {class: 'osjs-label'}, props.label));\n    }\n\n    return h('button', fieldProps, [\n      ...inner,\n      ...children\n    ]);\n  });\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A progress bar\n * @param {Object} props Properties\n * @param {number} [props.value] The value (percentage)\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Progressbar = (props, children = []) => {\n  let value = typeof props.value === 'number'\n    ? Math.max(0, Math.abs(props.value)) % 100\n    : 0;\n\n  const c = h('div', {class: 'osjs-gui-progressbar-wrapper'}, [\n    h('div', {\n      className: 'osjs-gui-progressbar-value',\n      style: {\n        width: String(value) + '%'\n      }\n    }),\n    h('div', {\n      className: 'osjs-gui-progressbar-label',\n    }, [\n      h('span', {}, [\n        String(value) + '%'\n      ])\n    ])\n  ]);\n\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-progressbar', props.class]\n  }), [\n    c,\n    ...children\n  ]);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Icon} from './Icon';\n\nconst ul = (props, children = [], level = 0) => {\n\n  const label = child => {\n    const children = [];\n\n    if (child.type === 'checkbox' || typeof child.checked === 'boolean') {\n      children.push(h('span', {\n        class: 'osjs-gui-menu-checkbox ' + (child.checked ? 'active' : '')\n      }));\n    } else if (child.icon) {\n      children.push(h(Icon, child.icon));\n    }\n\n    children.push(h('span', {}, child.label));\n\n    return children;\n  };\n\n  const inner = (props, child) => {\n    if (typeof child.element === 'function') {\n      return child.element();\n    }\n\n    const className = child.type === 'separator'\n      ? 'osjs-gui-menu-separator'\n      : 'osjs-gui-menu-label ' + (child.disabled ? 'osjs__disabled' : '');\n\n    const children = [\n      h('span', {class: className}, label(child))\n    ];\n\n    if (child.items) {\n      children.push(ul(props, child.items, level + 1));\n    }\n\n    return children;\n  };\n\n  return h('ul', {\n    class: ''\n  }, children.map(\n    child => h('li', {\n      class: 'osjs-gui-menu-entry'\n    }, [\n      h('div', {\n        class: 'osjs-gui-menu-container',\n        'data-has-image': child.icon ? true : undefined,\n        'data-has-children': child.items ? true : undefined,\n        onmouseover: child.items ? props.onshow : undefined,\n        ontouchend: child.items ? props.onshow : undefined,\n        onclick: (ev) => {\n          if (child.items) {\n            return;\n          }\n\n          if (child.onclick) {\n            child.onclick(child, ev);\n          }\n\n          if (props.onclick) {\n            props.onclick(child, ev, child);\n          }\n        }\n      }, inner(props, child))\n    ])\n  ));\n};\n\n/**\n * Menu tree\n * @property {String} label Label\n * @property {String} [icon] Icon source\n * @property {Boolean} [disabled] Disabled state\n * @property {Boolean} [closeable] Disable close on click\n * @property {Function} [element] A callback that returns a virtual DOM element (ex. Hyperapp)\n * @property {Function} onclick Click callback\n * @property {MenuItems} [items] Child items\n * @typedef MenuItems\n */\n\n/**\n * A menu\n * @param {Object} props Properties\n * @param {Boolean} [props.visible=true] Visible property\n * @param {Object} [posprops.ition] Position\n * @param {MenuItems} [props.menu] Menu items\n */\nexport const Menu = (props) => h('div', {\n  id: 'osjs-context-menu',\n  className: 'osjs-gui osjs-gui-menu',\n  oncreate: props.oncreate,\n  onupdate: props.onupdate,\n  style: {\n    display: props.visible !== false ? 'block' : 'none',\n    top: props.position ? String(props.position.top) + 'px' : 0,\n    left: props.position ? String(props.position.left) + 'px' : 0\n  }\n}, ul(props, props.menu));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A toolbar\n * @desc Contains entries with spacing\n * @param {BoxProperties} props Properties\n * @param {string} [props.orientation='vertical'] Box orientation\n * @param {h[]} children Children\n */\nexport const Toolbar = (props, children) =>\n  h(Element, Object.assign({\n    orientation: 'vertical'\n  }, props, {\n    class: ['osjs-gui-toolbar', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Statusbar = (props, children) =>\n  h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-statusbar', props.class]\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A menubar item\n * @param {Object} props Properties\n * @param {h[]} children Children\n */\nexport const MenubarItem = (props, children = []) => {\n  const {onclick, data} = props;\n\n  return h('div', {\n    onclick: (ev) => {\n      if (typeof onclick === 'function') {\n        const parentNode = ev.target.parentNode;\n        const index = Array.prototype.indexOf.call(parentNode.children, ev.target);\n\n        onclick(ev, data || {}, index);\n      }\n    }\n  }, h('span', {}, children));\n};\n\n/**\n * A menubar container\n * @param {BoxProperties} [props] Box Properties\n * @param {MenubarItem[]} [props.items] Array of object\n * @param {h[]} children Children\n */\nexport const Menubar = (props, children = []) =>\n  h(Element, Object.assign({}, props, {\n    class: ['osjs-gui-menubar', props.class]\n  }), [\n    ...(props.items || []).map(item => h(MenubarItem, {\n      data: item.data,\n      onclick: (item.onclick || props.onclick)\n    }, item.label)),\n    ...children\n  ]);\n","import {h, app} from 'hyperapp'\n\nexport default \nfunction nestable (state, actions, view, tagname) {\n    actions._$r = function () {return {}}\n    return function (props, children) {\n        return h(tagname || 'x-', {\n            key: props.key,\n            id: props.id,\n            class: props.class,\n            oncreate: function (el) {\n                var wired = app(\n                    state,\n                    actions,\n                    function (s, a) {\n                        var v = view(s, a)\n                        if (typeof v === 'function') v = v(el._$p, el._$c)\n                        return v\n                    },\n                    el\n                )\n                el._$p = props\n                el._$c = children\n                el._$r = wired._$r\n                el._$u = wired.uninit\n                wired.init && wired.init(props)\n                props.oncreate && props.oncreate(el)\n            },\n            onupdate: function (el) {\n                el._$p = props\n                el._$c = children\n                el._$r()\n                props.onupdate && props.onupdate(el)\n            },\n            ondestroy: function (el) {\n                el._$u && el._$u()\n            },\n            onremove: function (el, done) {\n               if (!props.onremove) return done()\n\n               props.onremove(el, done)\n            }\n        })\n    }    \n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\nimport {Element} from './Element';\n\nconst onmousedown = (ev, actions, orientation) => {\n  const {target, clientX, clientY} = ev;\n  const pane = target.previousSibling;\n  const {offsetWidth, offsetHeight} = pane;\n  const index = Array.from(target.parentNode.children).indexOf(pane);\n  const maxWidth = pane.parentNode.offsetWidth * 0.8;\n  const maxHeight = pane.parentNode.offsetHeight * 0.8;\n\n  if (index < 0) {\n    return;\n  }\n\n  const mousemove = ev => {\n    ev.preventDefault();\n\n    let size = orientation === 'vertical' ? offsetWidth : offsetHeight;\n\n    if (orientation === 'vertical') {\n      const diffX = ev.clientX - clientX;\n      size = Math.min(maxWidth, size + diffX);\n    } else {\n      const diffY = ev.clientY - clientY;\n      size = Math.min(maxHeight, size + diffY);\n    }\n\n    actions.setSize({index, size});\n  };\n\n  const mouseup = ev => {\n    ev.preventDefault();\n    document.removeEventListener('mousemove', mousemove);\n    document.removeEventListener('mouseup', mouseup);\n  };\n\n  ev.preventDefault();\n  document.addEventListener('mousemove', mousemove);\n  document.addEventListener('mouseup', mouseup);\n};\n\nconst panes = (state, actions, children, orientation) => {\n  const spacers = Array(Math.ceil(children.length / 2))\n    .fill(null)\n    .map(() => h('div', {\n      class: 'osjs-gui-panes-spacer',\n      onmousedown: ev => onmousedown(ev, actions, orientation)\n    }));\n\n  const child = (c, i) => {\n    const w = state.sizes[i] ? String(state.sizes[i]) + 'px' : undefined;\n\n    return h('div', {\n      class: 'osjs-gui-panes-pane',\n      style: {\n        flex: w ? `0 0 ${w}` : w\n      }\n    }, c);\n  };\n\n  return children\n    .map(child)\n    .map((v, i) => [v, spacers[i]])\n    .reduce((a, b) => a.concat(b))\n    .filter(v => typeof v !== 'undefined');\n};\n\nconst view = (state, actions) => (props, children) => {\n  const orientation = props.orientation || 'vertical';\n\n  return h(Element, {\n    orientation,\n    class: 'osjs-gui-panes-inner'\n  }, panes(state, actions, children, orientation));\n};\n\nconst inner = nestable({\n  sizes: []\n}, {\n  init: props => ({sizes: props.sizes || [150]}),\n  setSize: ({index, size}) => state => {\n    const sizes = [].concat(state.sizes);\n    sizes[index] = size;\n    return {sizes};\n  }\n}, view, 'div');\n\n/**\n * Resizable panes\n * @param {Object} props Properties\n * @param {string} [props.orientation='vertical'] Pane orientation\n * @param {number[]} [props.sizes] Pane sizes\n * @param {h[]} children Children\n */\nexport const Panes = (props, children) => h(inner, {\n  class: 'osjs-gui-panes'\n}, children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps, doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nconst createView = props => {\n\n  const cols = (paneIndex) => (row, rowIndex) => {\n    const col = row.columns[paneIndex] || {};\n    const selected = props.selectedIndex === rowIndex;\n    const colIcon = col.icon ? h(Icon, col.icon) : null;\n    const children = [h('span', {}, [typeof col === 'object' ? col.label : col])];\n\n    if (colIcon) {\n      children.unshift(colIcon);\n    }\n\n    return h('div', {\n      key: row.key,\n      'data-has-icon': col.icon ? true : undefined,\n      class: 'osjs-gui-list-view-cell' + (selected ? ' osjs__active' : ''),\n      ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: row.data, index: rowIndex, ev})),\n      ondblclick: (ev) => props.onactivate({data: row.data, index: rowIndex, ev}),\n      onclick: (ev) => props.onselect({data: row.data, index: rowIndex, ev}),\n      oncontextmenu: (ev) => props.oncontextmenu({data: row.data, index: rowIndex, ev}),\n      oncreate: (el) => props.oncreate({data: row.data, index: rowIndex, el})\n    }, children);\n  };\n\n  const pane = (index, col) => h('div', {\n    class: 'osjs-gui-list-view-pane',\n    style: col.style || {}\n  }, [\n    h('div', {\n      class: 'osjs-gui-list-view-header',\n      style: {\n        display: props.hideColumns ? 'none' : undefined\n      }\n    }, h('span', {}, typeof col === 'object' ? col.label : col)),\n    h('div', {\n      class: 'rows',\n      'data-zebra': String(props.zebra)\n    }, props.rows.map(cols(index)))\n  ]);\n\n  return h('div', {\n    class: 'osjs-gui-list-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.columns.map((c, i) => pane(i, c)));\n};\n\nexport const ListView = props => h(Element, Object.assign({\n  class: 'osjs-gui-list-view'\n}, props.box || {}), createView(filteredProps(props, ['box'])));\n\nexport const listView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      zebra: true,\n      columns: [],\n      rows: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => ListView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setRows: rows => ({rows}),\n    setColumns: columns => ({columns}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex})\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {doubleTap} from '../utils';\nimport {Element} from './Element';\nimport {Icon} from './Icon';\n\nconst tapper = doubleTap();\n\nexport const IconViewEntry = (entry, index, props) => () => {\n  const icon = entry.icon || {name: 'application-x-executable'};\n  const selected = props.selectedIndex === index;\n\n  return h('div', {\n    class: 'osjs-gui-icon-view-entry' + (selected ? ' osjs__active' : ''),\n    ontouchstart: (ev) => tapper(ev, () => props.onactivate({data: entry.data, index, ev})),\n    ondblclick: (ev) => props.onactivate({data: entry.data, index, ev}),\n    onclick: (ev) => props.onselect({data: entry.data, index, ev}),\n    oncontextmenu: (ev) => props.oncontextmenu({data: entry.data, index, ev}),\n    oncreate: (el) => props.oncreate({data: entry.data, index, el})\n  }, [\n    h('div', {class: 'osjs__container'}, [\n      h('div', {class: 'osjs__image'}, [\n        h(Icon, icon)\n      ]),\n      h('div', {class: 'osjs__label'}, [\n        h('span', {}, entry.label)\n      ])\n    ])\n  ]);\n};\n\nexport const IconView = (props) => {\n  const inner = h('div', {\n    class: 'osjs-gui-icon-view-wrapper',\n    oncreate: el => (el.scrollTop = props.scrollTop),\n    onupdate: el => {\n      if (props.selectedIndex < 0) {\n        el.scrollTop = props.scrollTop;\n      }\n    }\n  }, props.entries.map((entry, index) => {\n    return h(IconViewEntry(entry, index, props));\n  }));\n\n  return h(Element, Object.assign({\n    class: 'osjs-gui-icon-view'\n  }, props.box || {}), inner);\n};\n\nexport const iconView = ({\n  component: (state, actions) => {\n    const newProps = Object.assign({\n      entries: [],\n      onselect: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      onactivate: ({data, index, ev}) => {\n        actions.activate({data, index, ev});\n        actions.setSelectedIndex(-1);\n      },\n      oncontextmenu: ({data, index, ev}) => {\n        actions.select({data, index, ev});\n        actions.contextmenu({data, index, ev});\n        actions.setSelectedIndex(index);\n      },\n      oncreate: (args) => {\n        actions.created(args);\n      }\n    }, state);\n\n    return (props = {}) => IconView(Object.assign(newProps, props));\n  },\n\n  state: state => Object.assign({\n    selectedIndex: -1,\n    scrollTop: 0\n  }, state),\n\n  actions: actions => Object.assign({\n    select: () => () => ({}),\n    activate: () => () => ({}),\n    contextmenu: () => () => ({}),\n    created: () => () => ({}),\n    setEntries: entries => () => ({entries}),\n    setScrollTop: scrollTop => state => ({scrollTop}),\n    setSelectedIndex: selectedIndex => state => ({selectedIndex}),\n  }, actions || {})\n});\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\n/**\n * A image\n * @param {Object} props Properties\n * @param {String} props.src The image source\n * @param {String} [props.alt] The image alternate text\n * @param {number} [props.width] Image width\n * @param {number} [props.height] Image height\n * @param {Function} [props.onload] On loaded data event\n * @param {Function} [props.oncreate] Hyperapp oncreate function\n * @param {Function} [props.onupdate] Hyperapp onupdate function\n * @param {Function} [props.ondestroy] Hyperapp ondestroy function\n */\nexport const Image = (props, children) =>\n  h('div', {\n    class: 'osjs-gui osjs-gui-image',\n    style: {\n      width: props.width ? String(props.width) + 'px' : undefined,\n      height: props.height ? String(props.height) + 'px' : undefined\n    }\n  }, h('img', props));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\n\nconst sources = list => list.map(item => h('source', item));\n\nconst isTrue = v => typeof v === 'undefined' || v === true;\n\n/**\n * A video\n * @param {Object} props Properties\n * @param {String} [props.class] Append this className\n * @param {Object} [props.style] CSS Style object\n * @param {String} props.src The video source\n * @param {number} [props.width] Video width\n * @param {number} [props.height] Video height\n * @param {String} [props.poster] Poster image source\n * @param {Boolean} [props.loop] Loop video\n * @param {Boolean} [props.autoplay] Autoplay video\n * @param {Boolean} [props.controls] Show controls\n * @param {Function} [props.onloadeddata] On loaded data event\n */\nexport const Video = (props, children) =>\n  h('div', {\n    class: 'osjs-gui osjs-gui-video',\n    style: {\n      width: props.width ? String(props.width) + 'px' : undefined,\n      height: props.height ? String(props.height) + 'px' : undefined\n    }\n  }, [\n    h('video', {\n      src: props.src,\n      width: props.width,\n      height: props.height,\n      poster: props.poster,\n      loop: props.loop ? 'loop' : undefined,\n      muted: props.muted ? 'muted' : undefined,\n      controls: isTrue(props.controls) ? 'controls' : undefined,\n      autoplay: isTrue(props.autoplay) ? 'autoplay' : undefined,\n      onloadeddata: props.onload,\n      oncreate: props.oncreate,\n      onupdate: props.onupdate,\n      ondestroy: props.ondestroy\n    }, sources(props.sources || []))\n  ]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport nestable from 'hyperapp-nestable';\n\nconst headers = ({labels, onchange, oncontextmenu}, state, actions) => (labels || [])\n  .map((label, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : '',\n    oncontextmenu: ev => {\n      (oncontextmenu || function() {})(ev, index, label);\n    },\n    onclick: ev => {\n      actions.setSelectedIndex(index);\n      (onchange || function() {})(ev, index, label);\n    }\n  }, h('span', {}, label)));\n\nconst panes = (state, children) => children\n  .map((child, index) => h('div', {\n    class: state.selectedIndex === index ? 'osjs__active' : ''\n  }, child));\n\nconst view = nestable({\n  selectedIndex: 0\n}, {\n  init: props => ({\n    selectedIndex: props.selectedIndex || 0\n  }),\n  setSelectedIndex: selectedIndex => state => ({selectedIndex})\n}, (state, actions) => (props, children) => h('div', {\n  class: 'osjs-gui-tabs-wrapper'\n}, [\n  h('div', {class: 'osjs-gui-tabs-header'}, headers(props, state, actions)),\n  h('div', {class: 'osjs-gui-tabs-panes'}, panes(state, children))\n]), 'div');\n\n/**\n * A tab container\n * @param {Object} props Properties\n * @param {String[]} props.labels Labels\n * @param {h[]} children Tabs\n */\nexport const Tabs = (props, children) => h(view, Object.assign({\n  class: 'osjs-gui osjs-gui-tabs ' + (props.class || '')\n}, props), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {filteredProps} from '../utils';\nimport {Element} from './Element';\n\n/**\n * A iframe\n * @param {Object} props Properties\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Iframe = (props, children = []) =>\n  h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-iframe', props.class]\n  }), [\n    h('iframe', Object.assign({\n      frameborder: 0\n    }, filteredProps(props, ['box']))),\n    ...children\n  ]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {string} [props.type=text] Type\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const TextField = (props = {}, children = []) =>\n  createField('text-field', props, {\n    autocomplete: 'off',\n    autocorrect: 'off',\n    autocapitalize: 'off',\n    spellcheck: 'false',\n    type: 'text'\n  }, (fieldProps) => h('input', fieldProps));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {number} [props.rows=4] Number of rows\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const TextareaField = (props = {}, children = []) =>\n  createField('textarea-field', props, {\n    rows: 4\n  }, (fieldProps) => h('textarea', fieldProps, children));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.value] Value\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const SelectField = (props = {}, children = []) => {\n\n  const getChoices = choices => choices instanceof Array\n    ? choices.map(value => typeof value === 'object' ? value : {value, label: value})\n    : Object.keys(props.choices || {})\n      .map(value => ({value, label: props.choices[value]}));\n\n  const choices = getChoices(props.choices)\n    .map(({value, label}) => {\n      return h('option', {\n        value,\n        selected: props.value === value\n      }, label);\n    });\n\n  const getValue = ev => [ev.target.value, ev.target.textContent];\n  const createSelect = fieldProps => h('div', {}, h('select', fieldProps, [\n    ...choices,\n    ...children\n  ]));\n\n  return createField('select-field', props, {\n    selectedIndex: undefined\n  }, createSelect, getValue);\n};\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/*\n * Parses option value\n */\nconst parseValue = value => {\n  try {\n    return JSON.parse(value);\n  } catch (e) {\n    return value;\n  }\n};\n\n/**\n * A text field\n * @param {Object} props Properties\n * @param {string} [props.checked] Value\n * @param {string} [props.type=checkbox] Type\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const ToggleField = (props = {}, children = []) =>\n  createField('toggle-field', props, {\n    type: 'checkbox',\n    checked: false\n  }, (fieldProps) => h('label', {\n\n  }, [\n    h('input', fieldProps),\n    h('span', {\n      class: 'osjs-toggle-input'\n    }),\n    h('span', {\n      class: 'osjs-toggle-label'\n    }, [\n      props.label || '',\n      ...children\n    ])\n  ]), ev => [props.type === 'radio'\n    ? parseValue(ev.target.value)\n    : !!ev.target.checked]);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {createField} from '../element';\n\n/**\n * A range field\n * @param {Object} props Properties\n * @param {string} [props.min] Minimum value\n * @param {string} [props.max] Maximum value\n * @param {string} [props.value] Value\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const RangeField = (props = {}, children = []) =>\n  createField('range-field', props, {\n    type: 'range'\n  }, (fieldProps) => h('input', fieldProps));\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\nimport nestable from 'hyperapp-nestable';\n\nconst view = (state, actions) => (props, children) => {\n  return h(Element, Object.assign({}, props.box || {}, {\n    class: ['osjs-gui-expander-wrapper']\n  }), [\n    h('div', {\n      class: 'osjs-gui-expander-header',\n      onclick: ev => actions.ontoggle({\n        ev,\n        active: !state.active,\n        ontoggle: props.ontoggle\n      })\n    }, [\n      h('div', {\n        class: 'osjs-gui-expander-header-icon',\n        'data-active': String(state.active)\n      }),\n      h('div', {\n        class: 'osjs-gui-expander-header-label'\n      }, props.label)\n    ]),\n    h('div', {\n      class: 'osjs-gui-expander-content',\n      style: {\n        display: state.active === false ? 'none' : undefined\n      }\n    }, children)\n  ]);\n};\n\nconst inner = nestable({\n  active: true\n}, {\n  init: props => ({\n    ative: props.active !== false\n  }),\n  ontoggle: ({ev, active, ontoggle}) => {\n    const cb = ontoggle || function() {};\n    cb(ev, active);\n    return {active};\n  }\n}, view, 'div');\n\n/**\n * A status bar\n * @param {Object} props Properties\n * @param {boolean} [props.active] Active state\n * @param {Function} [props.ontoggle] Toggle callback => (ev, active)\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Expander = (props, children) =>\n  h(inner, Object.assign({}, props, {\n    class: 'osjs-gui osjs-gui-expander'\n  }), children);\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport {Element} from './Element';\n\n/**\n * A label element\n * @param {Object} props Properties\n * @param {string} [props.text] Label Text\n * @param {string} [props.placement] Placement\n * @param {string} [props.for] The \"for\" attribute\n * @param {BoxProperties} [props.box] Box Properties\n * @param {h[]} children Children\n */\nexport const Label = (props = {}, children = []) => {\n  const placement = props.placement || 'top';\n  const text = props.text || '';\n\n  const elementProps = Object.assign({\n    class: ['osjs-gui-field-label', 'osjs-gui-field-label-on-' + placement]\n  }, props.box || {});\n\n  return h(Element, elementProps, [\n    h('label', {for: props.for}, text),\n    children\n  ]);\n};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h, app} from 'hyperapp';\nimport {Menu} from './components/Menu';\n\n/*\n * Makes sure sub-menus stays within viewport\n */\nconst clampSubMenu = (root, ev) => {\n  let ul = ev.target.querySelector('ul');\n  if (!ul) {\n    return;\n  }\n\n  // FIXME: Safari reports wrong item\n  if (ul.classList.contains('osjs-gui-menu-container')) {\n    ul = ul.parentNode.parentNode;\n  }\n\n  if (!ul || !ul.offsetParent) {\n    return;\n  }\n\n  ul.classList.remove('clamp-right');\n\n  const rect = ul.getBoundingClientRect();\n  if (rect.right > root.offsetWidth) {\n    ul.classList.add('clamp-right');\n  }\n};\n\n/*\n * Makes sure menu stays within viewport\n */\nconst clampMenu = (root, el, currentPosition) => {\n  const result = {};\n  const bottom = currentPosition.top + el.offsetHeight;\n  const right = currentPosition.left + el.offsetWidth;\n  const offY = root.offsetHeight - currentPosition.top;\n  const offX = root.offsetWidth - currentPosition.left;\n  const overflowRight = right > root.offsetWidth;\n  const overflowBottom = bottom > root.offsetHeight;\n\n  if (overflowBottom) {\n    if (root.offsetHeight > el.offsetHeight) {\n      result.top = root.offsetHeight - el.offsetHeight - offY;\n    }\n  }\n\n  if (overflowRight) {\n    result.left = root.offsetWidth - el.offsetWidth - offX;\n  }\n\n  return (overflowBottom || overflowRight) ? result : null;\n};\n\n/*\n * Context Menu view\n */\nconst view = callback => (props, actions) => h(Menu, {\n  position: props.position,\n  visible: props.visible,\n  menu: props.menu,\n  onclick: callback,\n  onshow: actions.onshow\n});\n\nconst timeout = fn => {\n  fn();\n  return setTimeout(fn, 100);\n};\n\n/**\n * ContextMenu Class\n *\n * @desc Handles a Menu/ContextMenu globally for OS.js\n */\nexport class ContextMenu {\n\n  constructor(core) {\n    this.core = core;\n    this.callback = () => {};\n    this.actions = null;\n    this.$element = document.createElement('div');\n  }\n\n  destroy() {\n    this.callback = null;\n    this.actions = null;\n  }\n\n  /**\n   * Initializes the Menu Hyperapp\n   */\n  init() {\n    let clampTimeout;\n\n    this.$element.className = 'osjs-system-context-menu';\n    this.core.$root.appendChild(this.$element);\n\n    let isActive = false;\n\n    this.actions = app({\n      visible: false,\n      menu: [],\n      position: {\n        top: 0,\n        left: 0\n      }\n    }, {\n      clamp: (el) => props => {\n        el = el || document.querySelector('#osjs-context-menu');\n        clearTimeout(clampTimeout);\n\n        if (el) {\n          const root = this.core.$root;\n          const newPosition = clampMenu(root, el, props.position);\n          if (newPosition) {\n            return {position: newPosition};\n          }\n        }\n\n        return {};\n      },\n      onshow: (ev) => props => {\n        clampTimeout = timeout(() => clampSubMenu(this.core.$root, ev));\n      },\n      show: (options) => (props, actions) => {\n        let {menu, position, toggle} = options;\n        if (toggle && isActive) {\n          return actions.hide();\n        } else if (position instanceof Event) {\n          position = {left: position.clientX, top: position.clientY};\n        } else if (position instanceof Element) {\n          const box = position.getBoundingClientRect();\n          position = {\n            left: box.left,\n            top: box.top + box.height\n          };\n        }\n\n        this.callback = (child, ev, iter) => {\n          if (options.callback) {\n            options.callback(child, ev);\n          }\n\n          if (iter.closeable !== false) {\n            actions.hide();\n          }\n        };\n\n        isActive = true;\n        this.onclose = options.onclose;\n\n        timeout(() => actions.clamp());\n\n        return {\n          visible: true,\n          menu: menu || [],\n          position: position || {top: 0, left: 0}\n        };\n      },\n      hide: () => props => {\n        if (isActive) {\n          setTimeout(() => (isActive = false), 0);\n        }\n        if (this.onclose) {\n          this.onclose();\n        }\n        this.onclose = null;\n        this.callback = null;\n\n        return {visible: false};\n      }\n    }, view((...args) => {\n      if (!this.core.destroyed) {\n        if (this.callback) {\n          this.callback(...args);\n        }\n      }\n    }), this.$element);\n  }\n\n  /**\n   * Show the menu\n   */\n  show(...args) {\n    return this.actions ? this.actions.show(...args) : null;\n  }\n\n  /**\n   * Hide the menu\n   */\n  hide(...args) {\n    return this.actions ? this.actions.hide(...args) : null;\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {ContextMenu} from './contextmenu.js';\n\n/*\n * Check if a target allows for context menu\n */\nconst validContextMenuTarget = ev => {\n  const target = ev.target;\n  let isValid = target.tagName === 'TEXTAREA';\n  if (!isValid && target.tagName === 'INPUT') {\n    isValid = ['text', 'password', 'number', 'email'].indexOf(target.type) !== -1;\n  }\n\n  return isValid;\n};\n\n/**\n * OS.js GUI Service Provider\n *\n * @desc Provides wrapper services around GUI features\n */\nexport class GUIServiceProvider {\n\n  constructor(core) {\n    this.core = core;\n    this.contextmenu = new ContextMenu(core);\n  }\n\n  destroy() {\n    const menu = document.getElementById('osjs-context-menu');\n    if (menu) {\n      menu.remove();\n    }\n\n    this.contextmenu.destroy();\n  }\n\n  async init() {\n    const contextmenuApi = {\n      show: (...args) => this.contextmenu.show(...args),\n      hide: (...args) => this.contextmenu.hide(...args)\n    };\n\n    this.core.instance('osjs/contextmenu', (...args) => {\n      if (args.length) {\n        return contextmenuApi.show(...args);\n      }\n\n      return contextmenuApi;\n    });\n\n    this.core.$root.addEventListener('contextmenu', (ev) => {\n      if (validContextMenuTarget(ev)) {\n        return;\n      }\n\n      ev.stopPropagation();\n      ev.preventDefault();\n    });\n  }\n\n  start() {\n    const callback = ev => {\n      const menu = document.getElementById('osjs-context-menu');\n      const hit = menu && menu.contains(ev.target);\n\n      if (!hit && this.contextmenu) {\n        this.contextmenu.hide();\n      }\n    };\n\n    this.core.$root.addEventListener('click', callback, true);\n    this.core.once('destroy', () => {\n      this.core.$root.removeEventListener('click', callback, true);\n    });\n\n    this.contextmenu.init();\n  }\n}\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"osjsPanels\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"osjsPanels\"] = factory();\n\telse\n\t\troot[\"osjsPanels\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 12);\n","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.osjsEventEmitter=t():e.osjsEventEmitter=t()}(global,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=2)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){e.exports=n(3)},function(e,t,n){\"use strict\";n.r(t),n.d(t,\"EventEmitter\",(function(){return c}));var r=n(0),o=n.n(r),i=n(1),u=n.n(i),f=function(e){return e instanceof Array?e:String(e).replace(/\\s+/g,\"\").split(\",\")},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"undefined\";o()(this,e),this.name=t,this.events={}}return u()(e,[{key:\"destroy\",value:function(){this.events={}}},{key:\"on\",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},\"function\"!=typeof t)throw new TypeError(\"Invalid callback\");return f(e).forEach((function(e){n.events[e]||(n.events[e]=[]),n.events[e].push({callback:t,options:r})})),this}},{key:\"once\",value:function(e,t){return this.on(e,t,{once:!0})}},{key:\"off\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(e).filter((function(e){return!!t.events[e]})).forEach((function(e){if(n)for(var o=t.events[e].length;o--;){var i=t.events[e][o];(!i.options.persist||r)&&i.callback===n&&t.events[e].splice(o,1)}else t.events[e]=r?[]:t.events[e].filter((function(e){return!0===e.options.persist}))})),this}},{key:\"emit\",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return f(e).forEach((function(e){if(t.events[e])for(var n=t.events[e].length;n--;){var o=t.events[e][n],i=o.options,u=o.callback;try{u.apply(void 0,r)}catch(e){console.warn(e)}i&&i.once&&t.events[e].splice(n,1)}})),this}}]),e}()}])}));\n//# sourceMappingURL=main.js.map","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {app, h} from 'hyperapp';\nimport {EventEmitter} from '@osjs/event-emitter';\n\n/**\n * OS.js Panel Item\n * @see {Panel}\n */\nexport default class PanelItem extends EventEmitter {\n\n  /**\n   * Create panel item\n   *\n   * @param {Core} core Core reference\n   * @param {Panel} panel Panel reference\n   * @param {Object} options Options\n   */\n  constructor(core, panel, options = {}) {\n    super('Panel');\n\n    this.core = core;\n    this.panel = panel;\n    this.options = options;\n    this.state = {};\n    this.actions = {};\n    this.inited = false;\n  }\n\n  /**\n   * Destroy panel item\n   */\n  destroy() {\n    this.emit('destroy', this);\n  }\n\n  /**\n   * Initializes panel item\n   * @param {Object} state State\n   * @param {Object} actions Actions\n   * @return {Object} Bound actions\n   */\n  init(state = {}, actions = {}) {\n    if (this.inited) {\n      return false;\n    }\n\n    this.inited = true;\n    this.emit('init', this);\n\n    return app(state, actions, (state, actions) => {\n      return this.render(state, actions);\n    }, this.panel.$element);\n  }\n\n  /**\n   * Renders the panel item\n   * @param {String} name The panel item virtual name\n   * @param {Object[]} children The panel item children\n   * @return {Node} A *virtual* node\n   */\n  render(name, children = []) {\n    return h('div', {\n      className: 'osjs-panel-item',\n      'data-name': name\n    }, children);\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n *          Nguyn Anh Khoa <khoaakt@gmail.com>\n            Julien Gomes Dias <abld@abld.info>\n            Filip  <projects@filips.si>\n            Matheus Felipe <matheusfelipeog@gmail.com>\n * @licence Simplified BSD License\n */\n\n\nexport const de_DE = {\n  LBL_PANEL_ALL: 'Panel hinzufgen',\n  LBL_PANEL_REMOVE: 'Panel entfernen',\n  LBL_PANELITEM_ADD: 'Panelelemente hinzufgen',\n  LBL_PANELITEM_REMOVE: 'Panelelemente entfernen',\n  LBL_PANEL_POSITION: 'Panel-Position',\n  LBL_SAVE_AND_LOG_OUT: 'Session speichern & Abmelden',\n  LBL_LOG_OUT: 'Abmelden'\n};\n\nexport const en_EN = {\n  LBL_PANEL_ALL: 'Add panel',\n  LBL_PANEL_REMOVE: 'Remove panel',\n  LBL_PANELITEM_ADD: 'Add panelitem',\n  LBL_PANELITEM_REMOVE: 'Remove panelitem',\n  LBL_PANEL_POSITION: 'Panel Position',\n  LBL_SAVE_AND_LOG_OUT: 'Save Session & Log Out',\n  LBL_LOG_OUT: 'Log Out',\n  LBL_LAUNCHING: 'Launching \\'{0}\\''\n};\n\nexport const fr_FR = {\n  LBL_PANEL_ALL: 'Ajouter le panneau',\n  LBL_PANEL_REMOVE: 'Supprimer le panneau',\n  LBL_PANELITEM_ADD: 'Ajouter des lments au panneau',\n  LBL_PANELITEM_REMOVE: 'Supprimer des lments au panneau',\n  LBL_PANEL_POSITION: 'La position du panneau',\n  LBL_SAVE_AND_LOG_OUT: 'Sauvegarder la session et se dconnecter',\n  LBL_LOG_OUT: 'Se dconnecter'\n};\n\nexport const nb_NO = {\n  LBL_PANEL_ALL: 'Legg til panel',\n  LBL_PANEL_REMOVE: 'Fjern panel',\n  LBL_PANELITEM_ADD: 'Legg til panelobjekt',\n  LBL_PANELITEM_REMOVE: 'Fjern panelobjekt',\n  LBL_PANEL_POSITION: 'Panelposisjon',\n  LBL_SAVE_AND_LOG_OUT: 'Lagre Sessjon & Logg Ut',\n  LBL_LOG_OUT: 'Logg Ut',\n  LBL_LAUNCHING: 'Laster \\'{0}\\''\n};\n\nexport const sl_SI = {\n  LBL_PANEL_ALL: 'Dodaj ploo',\n  LBL_PANEL_REMOVE: 'Odstrani ploo',\n  LBL_PANELITEM_ADD: 'Dodaj element ploe',\n  LBL_PANELITEM_REMOVE: 'Odstrani element ploe',\n  LBL_PANEL_POSITION: 'Poloaj ploe',\n  LBL_SAVE_AND_LOG_OUT: 'Shranitev seje & Odjava',\n  LBL_LOG_OUT: 'Odjava'\n};\n\nexport const vi_VN = {\n  LBL_PANEL_ALL: 'Thm panel',\n  LBL_PANEL_REMOVE: 'Xa panel',\n  LBL_PANELITEM_ADD: 'Thm mc panel',\n  LBL_PANELITEM_REMOVE: 'Xa mc panel',\n  LBL_PANEL_POSITION: 'V tr panel',\n  LBL_SAVE_AND_LOG_OUT: 'Lu phin & ng xut',\n  LBL_LOG_OUT: 'ng xut',\n  LBL_LAUNCHING: 'ang khi ng \\'{0}\\''\n};\n\nexport const pt_BR = {\n  LBL_PANEL_ALL: 'Adicionar painel',\n  LBL_PANEL_REMOVE: 'Remover painel',\n  LBL_PANELITEM_ADD: 'Adicionar item ao painel',\n  LBL_PANELITEM_REMOVE: 'Remover item do painel',\n  LBL_PANEL_POSITION: 'Posio do painel',\n  LBL_SAVE_AND_LOG_OUT: 'Salvar sesso & Sair',\n  LBL_LOG_OUT: 'Sair',\n  LBL_LAUNCHING: 'Lanamento \\'{0}\\''\n};\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport PanelItem from './panel-item';\nimport * as languages from './locales';\nimport {EventEmitter} from '@osjs/event-emitter';\n\n/**\n * Panel\n *\n * @desc Base Panel Class\n */\nexport default class Panel extends EventEmitter {\n\n  /**\n   * Create panel\n   *\n   * @param {Core} core Core reference\n   * @param {Object} options Options\n   */\n  constructor(core, options = {}) {\n    super('Panel');\n\n    this.core = core;\n    this.options = Object.assign({}, {\n      ontop: true,\n      position: 'top',\n      contextmenu: true,\n      items: []\n    }, options);\n\n    this.items = [];\n    this.inited = false;\n    this.destroyed = false;\n    this.$element = null;\n\n    this.options.items\n      .forEach(({name, options}) => {\n        const c = core.make('osjs/panels').get(name);\n        this.addItem(new c(this.core, this, options || {}));\n      });\n  }\n\n  /**\n   * Destroys the panel\n   */\n  destroy() {\n    if (this.destroyed) {\n      return;\n    }\n\n    this.items = this.items.filter(item => {\n      try {\n        item.destroy();\n      } catch (e) {\n        console.warn(e);\n      }\n      return false;\n    });\n\n    this.destroyed = true;\n    this.inited = false;\n    this.emit('destroy');\n    this.core.emit('osjs/panel:destroy', this);\n\n    this.$element.remove();\n    this.$element = null;\n  }\n\n  /**\n   * Initializes the panel\n   */\n  init() {\n    if (this.inited) {\n      return;\n    }\n    this.destroyed = false;\n    this.inited = true;\n\n    const _ = this.core.make('osjs/locale').translate;\n    const __ = this.core.make('osjs/locale').translatable(languages);\n\n    this.$element = document.createElement('div');\n    this.$element.classList.add('osjs-panel');\n    this.$element.classList.add('osjs__contextmenu');\n    this.$element.addEventListener('contextmenu', ev => {\n      ev.preventDefault();\n\n      const disabled = this.core.config('desktop.lock') ||\n        this.core.config('desktop.disablePanelContextMenu');\n\n      if (disabled) {\n        return;\n      }\n\n      this.core.make('osjs/contextmenu').show({\n        position: ev,\n        menu: [{\n          label: __('LBL_PANEL_POSITION'),\n          items: [{\n            label: _('LBL_TOP'),\n            onclick: () => this.setPosition('top')\n          }, {\n            label: _('LBL_BOTTOM'),\n            onclick: () => this.setPosition('bottom')\n          }]\n        }]\n      });\n    });\n    this.$element.setAttribute('data-position', this.options.position);\n    this.$element.setAttribute('data-ontop', String(this.options.ontop));\n\n    this.core.$root.appendChild(this.$element);\n\n    this.items.forEach(item => item.init());\n\n    this.emit('create');\n  }\n\n  /**\n   * Add an item to the panel\n   * @param {PanelItem} item The panel item instance\n   */\n  addItem(item) {\n    if (!(item instanceof PanelItem)) {\n      throw new TypeError('Invalid panel item specified');\n    }\n\n    this.items.push(item);\n\n    if (this.inited) {\n      item.init();\n    }\n  }\n\n  setPosition(position) {\n    this.options.position = position;\n\n    return this.core.make('osjs/panels').save()\n      .then(() => {\n        const desktop = this.core.make('osjs/desktop');\n        return desktop.applySettings();\n      });\n  }\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport PanelItem from '../panel-item';\nimport * as languages from '../locales';\n\nconst mapWindow = win => {\n  return {\n    wid: win.wid,\n    icon: win.state.icon,\n    title: win.state.title,\n    focused: win.state.focused,\n    attributes: Object.assign({}, win.attributes),\n    state: Object.assign({}, win.state),\n    raise: () => {\n      win.raise();\n      win.focus();\n    },\n    restore: () => win.restore(),\n    maximize: () => win.maximize(),\n    minimize: () => win.minimize(),\n    close: () => win.close()\n  };\n};\n\n/**\n * Window List\n *\n * @desc Window List Panel Item. Also displays launching applications.\n */\nexport default class WindowsPanelItem extends PanelItem {\n\n  init() {\n    if (this.inited) {\n      return;\n    }\n\n    const filterVisibility = win => typeof win.attributes.visibility === 'undefined' ||\n      win.attributes.visibility === 'global';\n\n    const actions = super.init({\n      launchers: [],\n      windows: this.core.make('osjs/windows').list()\n        .filter(win => win.inited || win.rendered)\n        .filter(filterVisibility)\n        .map(mapWindow)\n    }, {\n      add: win => state => {\n        const found = state.windows.find(w => w.wid === win.wid);\n        if (found) {\n          return state;\n        }\n\n        const windows = state.windows\n          .concat([win])\n          .filter(win => !win.inited || !win.rendered)\n          .filter(filterVisibility);\n\n        return {windows};\n      },\n\n      remove: win => ({windows}) => {\n        const foundIndex = windows.findIndex(w => w.wid === win.wid);\n        if (foundIndex !== -1) {\n          windows.splice(foundIndex, 1);\n\n          return {windows};\n        }\n\n        return {};\n      },\n\n      change: win => state => {\n        const windows = state.windows;\n        const foundIndex = state.windows.findIndex(w => w.wid === win.wid);\n        if (foundIndex !== -1) {\n          windows[foundIndex] = win;\n        }\n\n        return {windows};\n      },\n\n      addLauncher: name => state => ({launchers: [...state.launchers, name]}),\n\n      removeLauncher: name => state => {\n        const foundIndex = state.launchers.findIndex(n => n === name);\n        const launchers = [...state.launchers];\n        if (foundIndex !== -1) {\n          launchers.splice(foundIndex, 1);\n        }\n\n        return {launchers};\n      }\n    });\n\n    const onlaunch = (name) => actions.addLauncher(name);\n    const onlaunched = (name) => actions.removeLauncher(name);\n    const ondestroy = (win) => actions.remove(mapWindow(win));\n    const oncreate = (win) => actions.add(mapWindow(win));\n    const onchange = (win) => actions.change(mapWindow(win));\n\n    this.core.on('osjs/application:launch', onlaunch);\n    this.core.on('osjs/application:launched', onlaunched);\n    this.core.on('osjs/window:destroy', ondestroy);\n    this.core.on('osjs/window:render', oncreate);\n    this.core.on('osjs/window:change', onchange);\n\n    this.on('destroy', () => {\n      this.core.off('osjs/application:launch', onlaunch);\n      this.core.off('osjs/application:launched', onlaunched);\n      this.core.off('osjs/window:destroy', ondestroy);\n      this.core.off('osjs/window:render', oncreate);\n      this.core.off('osjs/window:change', onchange);\n    });\n  }\n\n  render(state, actions) {\n    const __ = this.core.has('osjs/locale')\n      ? this.core.make('osjs/locale').translatable(languages)\n      : s => s;\n\n    const windows = state.windows.map(w => h('div', {\n      'data-has-image': w.icon ? true : undefined,\n      'data-focused': w.focused ? 'true' : 'false',\n      onclick: () => w.raise(),\n      oncontextmenu: ev => {\n        const _ = this.core.make('osjs/locale').translate;\n\n        ev.stopPropagation();\n        ev.preventDefault();\n        this.core.make('osjs/contextmenu').show({\n          position: ev.target,\n          menu: [\n            {\n              label: w.state.maximized ? _('LBL_RESTORE') : _('LBL_MAXIMIZE'),\n              onclick: () => w.attributes.maximizable ? (w.state.maximized ? w.restore() : w.maximize()) : null,\n              disabled: !w.attributes.maximizable\n            },\n            {\n              label: w.state.minimized ? _('LBL_RAISE') : _('LBL_MINIMIZE'),\n              onclick: () => w.attributes.minimizable ? (w.state.minimized ? w.raise() : w.minimize()) : null,\n              disabled: !w.attributes.minimizable\n            },\n            {type: 'separator'},\n            {\n              label: _('LBL_CLOSE'),\n              onclick: () => w.attributes.closeable ? w.close() : null,\n              disabled: !w.attributes.closeable\n            }\n          ]\n        });\n      },\n      className: 'osjs-panel-item--clickable osjs-panel-item--icon'\n    }, [\n      h('img', {\n        src: w.icon,\n        alt: w.title || '(window)',\n      }),\n      h('span', {}, w.title || '(window)'),\n    ]));\n\n    const special = state.launchers.map(name => h('div', {\n    }, h('span', {}, __('LBL_LAUNCHING', name))));\n\n    const children = [...windows, ...special];\n\n    return super.render('windows', children);\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport PanelItem from '../panel-item';\n\n/**\n * Tray\n *\n * @desc Tray Panel Item\n */\nexport default class TrayPanelItem extends PanelItem {\n\n  init() {\n    if (this.inited) {\n      return;\n    }\n\n    const actions = super.init({\n      tray: this.core.make('osjs/tray').list()\n    }, {\n      setTray: tray => state => ({tray})\n    });\n\n    this.core.on('osjs/tray:update', list => actions.setTray(list));\n  }\n\n  render(state, actions) {\n    const child = entry => h('div', {\n      onclick: ev => entry.onclick(ev, entry),\n      oncontextmenu: ev => entry.oncontextmenu(ev, entry),\n      className: 'osjs-panel-item--clickable osjs-panel-item--icon'\n    }, h('img', {\n      src: entry.icon,\n      title: entry.title\n    }));\n\n    return super.render('tray', state.tray.map(child));\n  }\n\n}\n\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport PanelItem from '../panel-item';\n\n/**\n * Clock\n *\n * @desc Clock Panel Item\n */\nexport default class ClockPanelItem extends PanelItem {\n\n  init() {\n    const {format} = this.core.make('osjs/locale');\n    const date = () => format(new Date(), 'longTime');\n\n    if (this.inited) {\n      return;\n    }\n\n    const actions = super.init({\n      time: date()\n    }, {\n      increment: () => state => {\n        return {time: date()};\n      }\n    });\n\n    this.interval = setInterval(() => {\n      actions.increment();\n    }, 1000);\n  }\n\n  destroy() {\n    this.interval = clearInterval(this.interval);\n    super.destroy();\n  }\n\n  render(state, actions) {\n    return super.render('clock', [\n      h('span', {}, state.time)\n    ]);\n  }\n\n}\n","export default __webpack_public_path__ + \"881c86876af63b732063d7bdd51bb226.png\";","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\n\nimport {h} from 'hyperapp';\nimport PanelItem from '../panel-item';\nimport * as languages from '../locales';\nimport defaultIcon from '../logo-blue-32x32.png';\n\nconst sortBy = fn => (a, b) => -(fn(a) < fn(b)) || +(fn(a) > fn(b));\nconst sortByLabel = iter => String(iter.label).toLowerCase();\n\nconst makeTree = (core, icon, __) => {\n  const configuredCategories = core.config('application.categories');\n  const locale = core.make('osjs/locale');\n\n  const getIcon = (m, fallbackIcon) => m.icon\n    ? (m.icon.match(/^(https?:)\\//)\n      ? m.icon\n      : core.url(m.icon, {}, m))\n    : fallbackIcon;\n\n  const getTitle = (item) => locale\n    .translatableFlat(item.title, item.name);\n\n  const getCategory = (cat) => locale\n    .translate(cat);\n\n  const createCategory = c => ({\n    icon: c.icon ? {name: c.icon} : icon,\n    label: getCategory(c.label),\n    items: []\n  });\n\n  const createItem = m => ({\n    icon: getIcon(m, icon),\n    label: getTitle(m),\n    data: {\n      name: m.name\n    }\n  });\n\n  const createCategoryTree = (metadata) => {\n    const categories = {};\n\n    metadata\n      .filter(m => m.hidden !== true)\n      .forEach((m) => {\n        const cat = Object.keys(configuredCategories).find(c => c === m.category) || 'other';\n        const found = configuredCategories[cat];\n\n        if (!categories[cat]) {\n          categories[cat] = createCategory(found);\n        }\n\n        categories[cat].items.push(createItem(m));\n      });\n\n    Object.keys(categories).forEach(k => {\n      categories[k].items.sort(sortBy(sortByLabel));\n    });\n\n    const result = Object.values(categories);\n    result.sort(sortBy(sortByLabel));\n\n    return result;\n  };\n\n  const createFlatMenu = (metadata) => {\n    const pinned = [\n      ...core.config('application.pinned', [])\n      // TODO: User configurable pinned items\n    ];\n\n    const items = metadata\n      .filter(m => pinned.indexOf(m.name) !== -1)\n      .map(createItem);\n\n    if (items.length) {\n      items.sort(sortBy(sortByLabel));\n      return [\n        {type: 'separator'},\n        ...items\n      ];\n    }\n\n    return [];\n  };\n\n  const createSystemMenu = () => ([{\n    type: 'separator'\n  }, {\n    icon,\n    label: __('LBL_SAVE_AND_LOG_OUT'),\n    data: {\n      action: 'saveAndLogOut'\n    }\n  }, {\n    icon,\n    label: __('LBL_LOG_OUT'),\n    data: {\n      action: 'logOut'\n    }\n  }]);\n\n  return (metadata) => {\n    const categories = createCategoryTree(metadata);\n    const flat = createFlatMenu(metadata);\n    const system = createSystemMenu();\n\n    return [\n      ...categories,\n      ...flat,\n      ...system\n    ];\n  };\n};\n\n/**\n * Menu\n *\n * @desc Menu Panel Item\n */\nexport default class MenuPanelItem extends PanelItem {\n\n  render(state, actions) {\n    const _ = this.core.make('osjs/locale').translate;\n    const __ = this.core.make('osjs/locale').translatable(languages);\n    const icon = this.options.icon || defaultIcon;\n\n    const logout = async (save) => {\n      if (save) {\n        await this.core.make('osjs/session').save();\n      }\n\n      this.core.make('osjs/auth').logout();\n    };\n\n    const makeMenu = makeTree(this.core, icon, __);\n\n    const onclick = (ev) => {\n      const packages = this.core.make('osjs/packages')\n        .getPackages(m => (!m.type || m.type === 'application'));\n\n      this.core.make('osjs/contextmenu').show({\n        menu: makeMenu([].concat(packages)),\n        position: ev.target,\n        callback: (item) => {\n          const {name, action} = item.data || {};\n\n          if (name) {\n            this.core.run(name);\n          } else if (action === 'saveAndLogOut') {\n            logout(true);\n          } else if (action === 'logOut') {\n            logout(false);\n          }\n        },\n        toggle: true\n      });\n    };\n\n    const onmenuopen = () => {\n      const els = Array.from(this.panel.$element.querySelectorAll('.osjs-panel-item[data-name=\"menu\"]'));\n      els.forEach(el => el.querySelector('.osjs-panel-item--icon').click());\n    };\n\n    this.core.on('osjs/desktop:keybinding:open-application-menu', onmenuopen);\n    this.on('destroy', () => this.core.off('osjs/desktop:keybinding:open-application-menu', onmenuopen));\n\n    return super.render('menu', [\n      h('div', {\n        onclick,\n        className: 'osjs-panel-item--clickable osjs-panel-item--icon'\n      }, [\n        h('img', {\n          src: icon,\n          alt: _('LBL_MENU')\n        }),\n        h('span', {}, _('LBL_MENU'))\n      ])\n    ]);\n  }\n\n}\n","/*\n * OS.js - JavaScript Cloud/Web Desktop Platform\n *\n * Copyright (c) 2011-2020, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence Simplified BSD License\n */\nimport Panel from './panel';\nimport WindowsPanelItem from './items/windows';\nimport TrayPanelItem from './items/tray';\nimport ClockPanelItem from './items/clock';\nimport MenuPanelItem from './items/menu';\n\n/**\n * Panel Service Provider\n *\n * @desc Provides methods to handle panels on a desktop in OS.js\n */\nexport default class PanelServiceProvider {\n\n  constructor(core, args = {}) {\n    this.core = core;\n    this.panels = [];\n    this.inited = false;\n    this.registry = Object.assign({\n      menu: MenuPanelItem,\n      windows: WindowsPanelItem,\n      tray: TrayPanelItem,\n      clock: ClockPanelItem\n    }, args.registry || {});\n  }\n\n  destroy() {\n    this.inited = false;\n    this.panels.forEach(panel => panel.destroy());\n    this.panels = [];\n  }\n\n  async init() {\n    this.core.singleton('osjs/panels', () => ({\n      register: (name, classRef) => {\n        if (this.registry[name]) {\n          console.warn('Overwriting previously registered panel item', name);\n        }\n\n        this.registry[name] = classRef;\n      },\n\n      removeAll: () => {\n        this.panels.forEach(p => p.destroy());\n        this.panels = [];\n      },\n\n      remove: (panel) => {\n        const index = typeof panel === 'number'\n          ? panel\n          : this.panels.findIndex(p => p === panel);\n\n        if (index >= 0) {\n          this.panels[index].destroy();\n          this.panels.splice(index, 1);\n        }\n      },\n\n      create: (options) => {\n        const panel = new Panel(this.core, options);\n\n        this.panels.push(panel);\n\n        panel.on('destroy', () => this.core.emit('osjs/panel:destroy', panel, this.panels));\n        panel.on('create', () => setTimeout(() => {\n          this.core.emit('osjs/panel:create', panel, this.panels);\n        }, 1));\n\n        if (this.inited) {\n          panel.init();\n        }\n      },\n\n      save: () => {\n        const settings = this.core.make('osjs/settings');\n        const panels = this.panels.map(panel => panel.options);\n\n        return Promise.resolve(settings.set('osjs/desktop', 'panels', panels))\n          .then(() => settings.save());\n      },\n\n      get: (name) => this.registry[name]\n    }));\n  }\n\n  start() {\n    this.inited = true;\n    this.panels.forEach(p => p.init());\n  }\n\n}\n"],"sourceRoot":""}